<!DOCTYPE html>
<html lang="es">
<head>
    <title>LosDelDGIIM | Test</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <meta charset="UTF-8">

    <link rel="icon" href="../../../../assets/Icon.png">

    
    
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous"></script>
    <script type="text/javascript" async
            src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
          
</head>
<body>

<div class="container">
    <div class="form-row">
        <div class="container">
            <p><br></p>
<h1>Estructura de Computadores. Examen 07.</h1>
<p><strong>Autor:</strong> Miguel Angel De la Vega Rodríguez</p>
<hr>
<ul>
<li><strong>Asignatura:</strong> Estructura de Computadores.</li>
<li><strong>Curso Académico:</strong> 2024-25.</li>
<li><strong>Grado:</strong> Doble Grado en Ingeniería Informática y Matemáticas.</li>
<li><strong>Grupo:</strong> Único.</li>
<li><strong>Profesor:</strong> Ignacio Rojas Ruiz.</li>
<li><strong>Fecha:</strong> 16-12-2024.</li>
<li><strong>Descripción:</strong> Examen de Temas 3,4,5 y 6 de Teoría, y prácticas 4-6.</li>
</ul>
<p>Cada persona tenía un examen, por lo que hubo muchas versiones de este examen. De una batería de preguntas del profesor (salía de forma aleatoria); por lo que no hay un único examen, sino muchos. Esta es la segunda versión subida.</p>
<p>Cada respuesta correcta suma 1 punto, y cada respuesta incorrecta resta 0.33 puntos. Las preguntas no respondidas no suman ni restan. La puntuación total es sobre 20.</p>
<hr>
<ol>
<li>
<p>Una posible codificación en microinstrucciones de la instrucción call X es:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> PC := X ; SP := SP-1 ; m[SP] := PC</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> SP := SP-1 ; m[SP] := PC ; PC := PC+1</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> SP := SP-1 ; m[SP] := PC ; PC := X</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> SP := PC-1 ; m[SP] := PC ; PC := X</label></li>
</ul>
</li>
<li>
<p>En un camino de datos con un único bus, para realizar la operación de copia de un registro r1 en un registro r2, es decir <code>r2 &lt;- r1</code>, es necesario:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> Habilitar las salidas triestado de los registros r1 y r2 y activar la carga del registro r2</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Activar la carga del registro r1 y habilitar la salida triestado del registro r2</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> Habilitar la salida triestado del registro r1 y activar la carga del registro r2</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Habilitar la salida triestado del registro r2 y activar la carga de los registros r1 y r2</label></li>
</ul>
</li>
<li>
<p>La ganancia de velocidad ideal en un cauce de K etapas de igual duración T ejecutando un programa de N instrucciones es:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> \(S=(K\cdot N\cdot T)/((K-N+1)\cdot T)\)</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> \(S=(N\cdot T)/((N+N-1)\cdot T)\)</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> \(S=(K\cdot N)/(K+N-1)\)</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> \(S=(K\cdot N)/(K-N+1)\)</label></li>
</ul>
</li>
<li>
<p>En la secuencia de instrucciones siguiente, siendo el primer registro el destino, ¿cuántos riesgos se dan? <br><code>sub r4, r1, r3<br>or r8, r6, r4</code><br></p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> Dos riesgos por dependencia de datos y uno de control</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Un riesgo estructural</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> Un riesgo por dependencia de datos</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Un riesgo estructural y dos por dependencia de datos</label></li>
</ul>
</li>
<li>
<p>La técnica de "adelanto de registros" (register forwarding) en un cauce segmentado se usa para limitar el impacto de los riesgos...</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> estructurales</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> organizativos</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> de control</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> de datos</label></li>
</ul>
</li>
<li>
<p>Un procesador x86 a 4 GHz dispone de 7 unidades de ejecución en paralelo, con 20 etapas de segmentación, y es capaz de emitir (comenzar a ejecutar) 4 instrucciones en cada ciclo de reloj. ¿Qué velocidad aproximada de ejecución de instrucciones será capaz de alcanzar (MIPS = millones de instrucciones por segundo)?</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 80000 MIPS</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 28000 MIPS</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 4000 MIPS</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 16000 MIPS</label></li>
</ul>
</li>
<li>
<p>Suponga que la micropalabra de una máquina microprogramada tiene 8 bits de ancho y se usan 16 micropalabras diferentes en un microprograma de 32 micropalabras. Si se usa nanoprogramación...</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> no se ahorran bits pero el funcionamiento es más rápido.</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> se ahorran bits pero el funcionamiento es más lento.</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> se ahorran bits y el funcionamiento es más rápido.</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> no se ahorran bits y además el funcionamiento es más lento.</label></li>
</ul>
</li>
<li>
<p>En popcount8, la variable:<br><code>int SSE_LUTb[] = {0x02010100, 0x03020201, 0x03020201, 0x04030302};</code><br>se usa:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> como tabla de direcciones de registros xmm (por ej. 02 indica xmm2, 01 indica xmm1,...)</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> como máscara para hacer un and con un registro xmm.</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> como tabla de consulta para reemplazar secuencias de 4 bits por sus correspondientes popcount de 4 bits.</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> como máscara para hacer un xor con un registro xmm.</label></li>
</ul>
</li>
<li>
<p>La siguiente función calcula el factorial:<br><code>fact:<br> pushq   <reg>    # preservar registro<br>movl    %edi, %ebx<br>movl    $1, %eax<br>testl   %edi, %edi<br>je      .L4<br>leal    -1(%rbx), %edi<br>call    fact<br>imull   %ebx, %eax<br>.L4:<br>popq   <reg>    # restaurar registro<br>        ret</code><br>¿Cuál es el registro <reg> que tiene que guardarse en la pila?</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> <code>%rbx</code></label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> <code>%rax</code></label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> <code>%rsp</code></label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> <code>%rdi</code></label></li>
</ul>
</li>
<li>
<p>¿Cuál de las siguientes funciones NO calcula el factorial de un unsigned long?</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> <code>fact: movl $1, %eax<br>cmpq $1, %rdi<br>ja .L8<br>ret<br>.L8: pushq %rbx<br>movq %rdi, %rbx<br>call fact<br>subq $1, %rbx<br>imulq %rbx, %rax<br>popq %rbx<br>ret</code></label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> <code>fact: movl $1, %eax<br>ja .L8<br>ret<br>.L8: pushq %rbx<br>movq %rdi, %rbx<br>leaq -1(%rdi), %rdi<br>call fact<br>imulq %rbx, %rax<br>popq %rbx<br>ret</code></label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> <code>fact: movl $1, %eax<br>.L3: cmpq $1, %rdi<br>jbe .L1<br>imulq %rdi, %rax<br>decq %rdi<br>jmp .L3<br>.L1: ret</code></label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> <code>fact: cmpq $1, %rdi<br>ja .L8<br>movl $1, %eax<br>ret<br>.L8: pushq %rbx<br>movq %rdi, %rbx<br>leaq -1(%rdi), %rdi<br>call fact<br>imulq %rbx, %rax<br>popq %rbx<br>ret</code></label></li>
</ul>
</li>
<li>
<p>Tras dividir 0x00000000 00040000 (en EDX:EAX) entre 0x00008000 (ECX), el resultado será:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 0x8 en AX y 0x8 en DX</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 0x0 en AX y 0x8 en DX</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 0x0 en EAX y 0x8 en EDX</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 0x8 en EAX y 0x0 en EDX</label></li>
</ul>
</li>
<li>
<p>¿Cuál de las siguientes parejas de nemotécnicos de ensamblador corresponden a la misma instrucción máquina?</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> <code>SAR</code> (desplazamiento aritmético a la derecha) / <code>SHR</code> (desplazamiento lógico a la derecha).</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> <code>CMP</code> (comparar), <code>SUB</code> (restar).</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> <code>JZ</code> (saltar si cero), <code>JE</code> (saltar si igual).</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> <code>JC</code> (saltar si acarreo), <code>JL</code> (saltar si menor, para números con signo).</label></li>
</ul>
</li>
<li>
<p>¿Cuál de las siguientes funciones en C NO puede traducirse al siguiente código en ensamblador?<br><code>movslq  %esi, %rsi<br>movq    (%rdi,%rsi,8), %rax<br>ret</code></p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> <code>unsigned *elem (unsigned *v[],int i) { return v[i]; }</code></label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> <code>unsigned long elem (unsigned long v[], int i) { return v[i]; }</code></label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> <code>unsigned long elem (unsigned long v[],int *i) { return v[*i]; }</code></label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> <code>unsigned long *elem (unsigned long *v[],int i) { return v[i]; }</code></label></li>
</ul>
</li>
<li>
<p>Una función C devuelve el valor de un elemento de un array mediante el siguiente código ensamblador:<br><code>leaq    (%rdi,%rdi,4), %rax<br>addq    %rsi, %rax<br>movl    var(,%rax,4), %eax<br>retq</code><br>¿Cuál de las siguientes afirmaciones es correcta?</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> <code>var</code> es un array multi-nivel (punteros a enteros) y no se puede adivinar ninguna de sus dimensiones.</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> <code>var</code> es un array bidimensional de enteros con cinco columnas.</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> <code>var</code> es un array bidimensional de enteros y no se puede adivinar ninguna de sus dimensiones.</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> <code>var</code> es un array multi-nivel (punteros a enteros) con cinco filas.</label></li>
</ul>
</li>
<li>
<p>Para crear espacio en la pila para variables locales sin inicializar suele realizarse la siguiente operación:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> Restar una cantidad positiva a <code>RSP</code>.</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Sumar una cantidad positiva a <code>RSP</code>.</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Restar una cantidad positiva a <code>RBP</code>.</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Sumar una cantidad positiva a <code>RBP</code>.</label></li>
</ul>
</li>
<li>
<p>Diseñe un sistema de memoria de 128 KB direccionable por palabras de 16 bits a partir de módulos SRAM de 16Kx2 y ROM de 8Kx4. La memoria SRAM debe ocupar las direcciones 0x0000 a 0xBFFF y la ROM 0xC000 a 0xFFFF.</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> 8</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 16</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 32</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 64</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con la siguiente jerarquía de memoria:<br>Memoria principal: 1GB<br>Tamaño de línea/bloque: 64B<br>Nivel 1 cache: 32 KB de 8 vías<br>Nivel 2 cache: 256 KB de 4 vías<br>Nivel 3 cache: 8 MB de 16 vías<br>Sobre la memoria cache L1, el campo de conjunto tiene un tamaño de:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 4</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 5</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 6</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 8</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con palabras de 64 bits, con la siguiente jerarquía de memoria:<br>Memoria principal: 64GB<br>Tamaño de línea/bloque: 8 palabras<br>Nivel 1 cache: 64 KB de 8 vías<br>Nivel 2 cache: 256 KB de 4 vías<br>Nivel 3 cache: 16 MB de 16 vías<br>Sobre la memoria cache L1, el campo de conjunto tiene un tamaño de:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 12</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 10</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 7</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Ninguna respuesta es correcta</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con palabras de 64 bits, con la siguiente jerarquía de memoria:<br>Memoria principal: 64GB<br>Tamaño de línea/bloque: 8 palabras<br>Nivel 1 cache: 64 KB de 8 vías<br>Nivel 2 cache: 256 KB de 4 vías<br>Nivel 3 cache: 16 MB de 16 vías<br>Sobre la memoria cache L1, el campo de etiqueta tiene un tamaño de:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> 23</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 20</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 18</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Ninguna respuesta es correcta</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con la siguiente jerarquía de memoria:<br>Memoria principal: 1GB<br>Tamaño de línea/bloque: 64B<br>Nivel 1 cache: 32 KB de 8 vías<br>Nivel 2 cache: 256 KB de 4 vías<br>Nivel 3 cache: 8 MB de 16 vías<br>Sobre la memoria cache L3, el campo de etiqueta tiene un tamaño de:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 13</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 11</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 14</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 17</label></li>
</ul>
</li>
<li>
<p>Diseñe un sistema de memoria de 128 KB direccionable por palabras de 16 bits a partir de módulos SRAM de 16Kx4 y ROM de 8Kx2. La memoria SRAM debe ocupar las direcciones 0x0000 a 0xBFFF y la ROM 0xC000 a 0xFFFF.</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 8</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 12</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 14</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 16</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con la siguiente jerarquía de memoria:<br>Memoria principal: 1GB<br>Tamaño de línea/bloque: 64B<br>Nivel 1 cache: 32 KB de 8 vías<br>Nivel 2 cache: 256 KB de 4 vías<br>Nivel 3 cache: 8 MB de 16 vías<br>Sobre la memoria cache L2, el tamaño total que ocupan los datos es:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> \((2^19)\cdot (2^6)\) bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> \((2^11)\cdot(2^6)\) B</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> \((2^10)\cdot(2^6)\) B</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> \((2^15)\cdot(2^6)\) bits</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con palabras de 64 bits, con la siguiente jerarquía de memoria:<br>Memoria principal: 64GB<br>Tamaño de línea/bloque: 8 palabras<br>Nivel 1 cache: 64 KB de 8 vías<br>Nivel 2 cache: 256 KB de 4 vías<br>Nivel 3 cache: 16 MB de 16 vías<br>Sobre la memoria cache L1, el tamaño total que ocupan las etiquetas es:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 16384</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 23552</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 65536</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Ninguna respuesta es correcta</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con la siguiente jerarquía de memoria:<br>Memoria principal: 1GB<br>Tamaño de línea/bloque: 64B<br>Nivel 1 cache: 32 KB de 8 vías<br>Nivel 2 cache: 256 KB de 4 vías<br>Nivel 3 cache: 8 MB de 16 vías<br>Sobre la memoria cache L1, el tamaño total que ocupan las etiquetas es:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 8192 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 8704 bits</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 9216 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 1024 bits</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con la siguiente jerarquía de memoria:<br>Memoria principal: 1GB<br>Tamaño de línea/bloque: 64B<br>Nivel 1 cache: 32 KB de 8 vías<br>Nivel 2 cache: 256 KB de 4 vías<br>Nivel 3 cache: 8 MB de 16 vías<br>Sobre la memoria cache L3, el tamaño total que ocupan las etiquetas es:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> 1441792 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 1K bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 1703936 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Ninguna respuesta es correcta</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con la siguiente jerarquía de memoria:<br>Memoria principal: 1GB<br>Tamaño de línea/bloque: 64B<br>Nivel 1 cache: 32 KB de 8 vías<br>Nivel 2 cache: 256 KB de 4 vías<br>Nivel 3 cache: 8 MB de 16 vías<br>Sobre la memoria cache L2, el tamaño total que ocupan las etiquetas es:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 49152 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 1K bits</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 57344 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Ninguna respuesta es correcta</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con palabras de 64 bits, con la siguiente jerarquía de memoria:<br>Memoria principal: 64GB<br>Tamaño de línea/bloque: 8 palabras<br>Nivel 1 cache: 64 KB de 8 vías<br>Nivel 2 cache: 256 KB de 4 vías<br>Nivel 3 cache: 16 MB de 16 vías<br>Sobre la memoria cache L2, el campo de etiqueta tiene un tamaño de:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 18</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 19</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 20</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 16</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con la siguiente jerarquía de memoria:<br>Memoria principal: 1GB<br>Tamaño de línea/bloque: 64B<br>Nivel 1 cache: 32 KB de 8 vías<br>Nivel 2 cache: 256 KB de 4 vías<br>Nivel 3 cache: 8 MB de 16 vías<br>Sobre la memoria cache L3, el tamaño total que ocupan los datos es:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> 16777216 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 16777216 B</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 1703936 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 67108864 bits</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con la siguiente jerarquía de memoria:<br>Memoria principal: 1GB<br>Tamaño de línea/bloque: 64B<br>Nivel 1 cache: 32 KB de 8 vías<br>Nivel 2 cache: 256 KB de 4 vías<br>Nivel 3 cache: 8 MB de 16 vías<br>Sobre la memoria cache L2, el campo de conjunto tiene un tamaño de:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> 10</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 11</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 14</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 17</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con la siguiente jerarquía de memoria:<br>Memoria principal: 1GB<br>Tamaño de línea/bloque: 64B<br>Nivel 1 cache: 32 KB de 8 vías<br>Nivel 2 cache: 256 KB de 4 vías<br>Nivel 3 cache: 8 MB de 16 vías<br>Sobre la memoria cache L1, el campo de etiqueta tiene un tamaño de:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 16 bits</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 18 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 20 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 24 bits</label></li>
</ul>
</li>
</ol>
        </div>
    </div>
    <div id="tg-msg" class="alert" role="alert" style="display: none">
        <span id="tg-correct-questions"></span> Correct! <br /><b>Rating: <span id="tg-score"></span>%</b>
    </div>
    <div class="row">
        <button id="reset-questions" class="btn btn-link">Reiniciar todo</button>
    </div>
    <script type="text/javascript">$(function () {
    $('ul.radio-list, ul.checklist, ul.textbox').each(function (i, el) {
        var questionClass = $(this).attr('class');
        $(this).parent().addClass('question-row').addClass(questionClass);
        if (questionClass == 'radio-list') {
            $(this).find('input[type="radio"]').attr('name', 'radio-question-' + i);
        }
    });

    function checkQuestion(question) {
        var self = question;

        // Single Question.
        if (self.hasClass('radio-list')) {
            if (self.find('input[type="radio"][data-content="1"]:checked').length == 1) {
                self.addClass('text-success');
                self.removeClass('text-danger'); // Eliminar la marca de respuesta incorrecta
                self.find('input[type="radio"]').attr('disabled', true);
            } else {
                self.removeClass('text-success'); // Eliminar la marca de respuesta correcta
                self.addClass('text-danger');
            }
        }
        // Textbox Question.
        if (self.hasClass('textbox')) {
            var textbox = self.find('input[type="text"]');
            var correct_text = String(textbox.data("content")).trim().split("").reverse().join("");
            if (String(textbox.val()).trim().toLowerCase() == correct_text.toLowerCase()) {
                self.addClass('text-success');
                self.removeClass('text-danger'); // Eliminar la marca de respuesta incorrecta
                self.find('input[type="text"]').attr('disabled', true);
            } else {
                self.removeClass('text-success'); // Eliminar la marca de respuesta correcta
                self.addClass('text-danger');
                textbox.parent().find("i.text-correct").html(correct_text);
            }
        }
        // Multiple selection Questions.
        if (self.hasClass('checklist')) {
            var total_corrects = self.find('input[type="checkbox"][data-content="1"]').length;
            var total_incorrects = self.find('input[type="checkbox"][data-content="0"]').length;
            var correct_selected = self.find('input[type="checkbox"][data-content="1"]:checked').length;
            var incorrect_selected = self.find('input[type="checkbox"][data-content="0"]:checked').length;
            var qc = +((correct_selected / total_corrects) - (incorrect_selected / total_incorrects)).toFixed(2);
            if (qc < 0) {
                qc = 0;
            }
            if (qc == 0) {
                self.removeClass('text-success'); // Eliminar la marca de respuesta correcta
                self.removeClass('text-warning');
                self.addClass('text-danger');
            } else if (qc > 0 && qc < 1) {
                self.removeClass('text-success'); // Eliminar la marca de respuesta correcta
                self.removeClass('text-danger'); // Eliminar la marca de respuesta incorrecta
                self.addClass('text-warning');
            } else {
                self.removeClass('text-warning'); // Eliminar la marca de respuesta parcialmente correcta
                self.removeClass('text-danger'); // Eliminar la marca de respuesta incorrecta
                self.addClass('text-success');
                self.removeClass('text-danger'); // Eliminar la marca de respuesta incorrecta
                self.find('input[type="checkbox"]').attr('disabled', true);
            }
        }
    }

    $('li.question-row input').on('change', function () {
        var question = $(this).closest('li.question-row');
        checkQuestion(question);
    });

    $('#reset-questions').on('click', function () {
        $('li.question-row').removeClass('text-success').removeClass('text-danger').removeClass('text-warning');
        $('i.text-correct').html('');
        $('li.question-row input').prop('checked', false);
        $('li.question-row input[type="text"]').val('');
        $('li.question-row input').attr('disabled', false);
    });
});</script>
</div>
</body>
</html>