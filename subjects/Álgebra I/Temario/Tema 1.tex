\chapter{El lenguaje de los conjuntos}
En este primer tema, abordaremos un desarrollo sencillo de la teoría de conjuntos, basado en los axiomas de Zermelo-Fraenkel. El lector puede adentrarse en este campo gracias al libro \emph{Naive Set Theory}, de Paul Halmos, cuya lectura recomendamos. En este documento no haremos un desarrollo tan exhaustivo desde la axiomática por falta de tiempo. Es por tanto que daremos al principio algunas definiciones basadas en la intuición del matemático que inicia este curso.

\section{Conceptos básicos}

\begin{definicion}[Conjunto]
    Llamaremos \textbf{conjunto} a una colección de objetos (a los que también llamaremos \textbf{elementos})
    en la que no influye el orden.
\end{definicion}
\begin{notacion}
    Usualmente, notaremos a los conjuntos con letras mayúsculas y a los elementos con letras minúsculas, pudiendo haciendo uso incluso de letras griegas.
\end{notacion}

Si $A$ es un conjunto y $a$ es un elemento suyo, diremos que \textit{$a$ pertenece a $A$}, notado $a \in A$; mientras que si $a$ no es un elemento de $A$, diremos que \textit{$a$ no pertenece a $A$}, notado $a \notin A$.\\

A la hora de definir un conjunto, es posible hacerlo por \textit{extensión}, proporcionando todos sus elementos; o por \textit{comprensión}, proporcionando una regla que cumplan todos los elementos que pertenecen al conjunto. Por ejemplo, las siguientes definiciones son equivalentes:
\begin{gather*}
    X = \{0, 1, 2, 3, 4, 5\} \\
    X = \{x \mid x \in \N \y x < 6\}
\end{gather*}

Si $X$ es un conjunto finito con $n$ elementos $a_1, a_2, \ldots, a_n$, es habitual escribir: $$X = \{a_1, a_2, \ldots, a_n\} = \{a_i \mid 1 \leq i \leq n\} = \{a_i\}_{i = 1, \ldots, n}$$

\begin{definicion}[Cardinal]
    Al número $n$ de elementos de un conjunto le llamaremos \textbf{cardinal del conjunto}. Si $X$
    es un conjunto, notaremos a su cardinal por $|X|$ ó por $\#X$:
    $$|X| = \#X = n$$
\end{definicion}

Diremos que dos conjuntos $X$ e $Y$ son iguales (notado $X = Y$) si tienen los mismos elementos, ya que un conjunto está totalmente definido por sus elementos. Por otra parte, si $\exists \ x \in X$ tal que $x \notin Y$, o bien $\exists \ y \in Y$ tal que $y \notin X$, diremos que $X$ e $Y$ son distintos: $X \neq Y$.\\

Además, admitimos la existencia de un conjunto vacío (notado $\emptyset$), como aquel conjunto con cardinal 0 ($|\emptyset| = 0$). Es decir, $\emptyset$ no tiene elementos, luego nunca será posible encontrar un elemento $x$ de forma que\footnote{Esta observación no parece de mucha relevancia, pero gran número de demostraciones se basan en llegar a contradicción viendo que un elemento pertenece al conjunto vacío. Se dice que son demostraciones ``por vacuidad''.} $x\in \emptyset $.

\begin{definicion}[Subconjunto]
    Dados dos conjuntos $X$ e $Y$, diremos que \textbf{$X$ es un subconjunto de $Y$} si todo elemento de $X$ es también un elemento de $Y$. Es decir:
    $$\forall x \in X \Rightarrow x \in Y$$
    
    Lo notaremos como $X \subseteq Y$. En dicho caso, podremos decir también que \textbf{$X$ está contenido en $Y$}.
\end{definicion}

Algunas consecuencias inmediatas de fácil comprobación son:
\begin{itemize}
    \item $X = Y \Longleftrightarrow X \subseteq Y \y Y \subseteq X$.
    \item $\emptyset \subseteq X$ para todo conjunto $X$.
    \item $X \subseteq X$ para todo conjunto $X$.
\end{itemize}
\begin{notacion}
    La notación $X \subset Y$ es equivalente a la de $X \subseteq Y$.
\end{notacion}

\begin{definicion}[Subconjunto propio]
    Dado un conjunto $Y$, si $X \neq \emptyset$ es un conjunto tal que se tiene $X \subseteq Y \y X \neq Y$ diremos que $X$ es un subconjunto propio de $Y$.
    Es decir, $X$ es un subconjunto propio de $Y$ si:
    \begin{enumerate}
        \item $\forall x \in X \Rightarrow x \in Y$
        \item $\exists y \in Y \mid y \notin X$
    \end{enumerate}
    
    En dicho caso, lo notaremos por $X \subsetneq Y$.
\end{definicion}
Notemos que los únicos subconjuntos no propios de un conjunto $X$ son $X$ y $\emptyset $.

\begin{definicion}[Partes de un conjunto]
    Dado cualquier conjunto $X$, podremos formar un nuevo conjunto, que notaremos como $\cc{P}(X)$ y llamaremos \textbf{conjunto partes de $X$} ó \textbf{conjunto potencia de $X$} al conjunto cuyos elementos son cada uno de los posibles subconjuntos de $X$ que podamos formar:
    $$\cc{P}(X) = \{A \mid A \subseteq X\}$$
\end{definicion}
De la definición, se deduce que $\emptyset,X\in \cc{P}(X)$ para todo conjunto $X$.

\begin{ejemplo} Algunos ejemplos del conjunto de las partes de $X$ son:
\begin{enumerate}
    \item $X = \{1, 2, 3\}$
    $$\cc{P}(X) = \{\emptyset, \{1\}, \{2\}, \{3\}, \{1, 2\}, \{1, 3\}, \{2, 3\}, X\}$$

    \item $X=\emptyset$
    \begin{gather*}
        \cc{P}(\emptyset)=\{\emptyset\}\\
        \cc{P}[\cc{P}(\emptyset)] = \cc{P}[\{\emptyset\}] = \{\emptyset, \{\emptyset\}\}
    \end{gather*}
\end{enumerate}
\end{ejemplo}

Notemos que, dado un conjunto $X$, el conjunto $\mathcal{P}(X)$ es el primer ejemplo de conjunto que a su vez contiene a conjuntos. El alumno puede llegar a confundirse con qué notación usar en cada caso. El siguiente ejemplo muestra un caso básico de la notación que debemos usar al trabajar con distintos tipos de elementos matemáticos.

\begin{ejemplo}
    Si $X$ es un conjunto, $x$ es un elemento suyo ($x\in X$) y consideramos el conjunto partes de $X$, $\mathcal{P}(X)$. Podremos escribir:
    \begin{equation*}
        x\in X \qquad \{x\} \subseteq X \qquad \{x\} \in  \mathcal{P}(X) \qquad X \in \mathcal{P}(X)
    \end{equation*}
    Pero \textbf{no} podremos escribir:
    \begin{equation*}
        \{x\} \in X \qquad x \subseteq X \qquad \{x\} \subseteq \mathcal{P}(X) \qquad X \subseteq \mathcal{P}(X)
    \end{equation*}
\end{ejemplo}

Durante la carrera de matemáticas se verán numerosos ejemplos de conjuntos que a su vez contienen a conjuntos (y dichos conjuntos quizás contendrán otros conjuntos), basta considerar el conjunto $\mathcal{P}(\mathcal{P}(X))$ para cualquier conjunto $X$. 

Será usual denotar por ``familia'' a los conjuntos cuyos elementos son a su vez conjuntos. Como notación para estos, se suelen usar letras estilográficas ($\cc{A}, \cc{B}, \ldots$), o en ocasiones por letras griegas mayúsculas, aunque siempre podremos saber la naturaleza del conjunto gracias a cómo esté definido.

\begin{definicion}[Intersección]
    Sea $X$ un conjunto y sean $A, B \in \cc{P}(X)$, definimos la \textbf{intersección} de $A$ y de $B$, notado
    $A \cap B$ como el subconjunto de $X$ formado por aquellos elementos que pertenecen simultáneamente
    a $A$ y a $B$:
    $$A \cap B = \{x \in X \mid x \in A \y x \in B\}$$
\end{definicion}

\begin{definicion}[Unión]
    Sea $X$ un conjunto y sean $A, B \in \cc{P}(X)$, definimos la \textbf{unión} de $A$ y de $B$, notado
    $A \cup B$ como el subconjunto de $X$ formado por aquellos elementos que pertenecen a $A$ o a $B$:
    $$A \cup B = \{x \in X \mid x \in A \o x \in B\}$$
\end{definicion}

Cuando el conjunto $X$ esté claro por el contexto podremos mencionar simplemente la intersección o unión de dos conjuntos, sin determinar de forma explícita el conjunto $X$ del que ambos son subconjuntos.

\begin{definicion}[Disjuntos]
    Sea $X$ un conjunto y sean $A, B \in \cc{P}(X)$, diremos que \textbf{$A$ y $B$ son disjuntos} si
    $A \cap B = \emptyset$.
\end{definicion}

\begin{prop}
    Sea $X$ un conjunto y $A, B, C \in \cc{P}(X)$. Algunas de las propiedades que se verifican sobre conjuntos son:
    \begin{enumerate}
        \item Propiedad conmutativa:
        $$A \cap B = B \cap A \quad;\quad A \cup B = B \cup A$$
        \item Propiedad asociativa:
        $$A \cap (B \cap C) = (A \cap B) \cap C \quad;\quad A \cup (B \cup C) = (A \cup B) \cup C$$
        \item Propiedad de la idempotencia:
        $$A \cap A = A \quad;\quad A \cup A = A$$
        \item Propiedad distributiva:
        $$A \cap (B \cup C) = (A \cap B) \cup (A \cap C) \quad;\quad A \cup (B \cap C) = (A \cup B) \cap (A \cup C)$$
    \end{enumerate}
\end{prop}
\begin{proof}
    Demostramos cada una de las propiedades por separado:
    \begin{enumerate}
        \item Propiedad conmutativa:
        \begin{gather*}
            A \cap B = \{x \in X \mid x \in A \y x \in B \} = \{x \in X \mid x \in B \y x \in A \} = B \cap A \\
            A \cup B = \{x \in X \mid x \in A \o x \in B\} = \{x \in X \mid x \in B \o x \in A\} = B \cup A
        \end{gather*}
        \item Propiedad asociativa:
        \begin{equation*}
            \begin{split}
                A \cap (B \cap C) &= A \cap \{x \in X \mid x \in B \y x \in C \} =\\
                & =\{x \in X \mid x \in A \y x \in B \y x \in C\} = \\
                & =\{x \in X \mid x \in A \y x \in B\} \cap C =\\
                & = (A \cap B) \cap C
            \end{split}
        \end{equation*}
        \begin{equation*}
            \begin{split}
                A \cup (B \cup C) &= A \cup \{x \in X \mid x \in B \o x \in C \} =\\
                & =\{x \in X \mid x \in A \o x \in B \o x \in C\} =\\
                & =\{x \in X \mid x \in A \o x \in B\} \cup C =\\
                & =(A \cup B) \cup C
            \end{split}
        \end{equation*}
        
        \item Propiedad de la idempotencia:
        \begin{gather*}
            A \cap A = \{x \in X \mid x \in A \y x \in A\} = \{x \in X \mid x \in A\} = A \\
            A \cup A = \{x \in X \mid x \in A \o x \in A\} = \{x \in X \mid x \in A\} = A
        \end{gather*}
        \item Propiedad distributiva:
        \begin{equation*}
            \begin{split}
                A \cap (B \cup C) &= A \cap \{x \in X \mid x \in B \o x \in C\} =\\
                & =\{x \in X \mid x \in A \y (x \in B \o x \in C)\} =\\
                & =\{x \in X \mid (x \in A \y x \in B) \o (x \in A \y x \in C)\} =\\
                & = \{x \in X \mid x \in A \y x \in B\} \cup \{x \in X \mid x \in A \y x \in B\} =\\
                & = (A \cap B) \cup (A \cap C)
            \end{split}
        \end{equation*}
        \begin{equation*}
            \begin{split}
                A \cup (B \cap C) &= A \cup \{x \in X \mid x \in B \y x \in C\} =\\
                & =\{x \in X \mid x \in A \o (x \in B \y x \in C)\} =\\
                & =\{x \in X \mid (x \in A \o x \in B) \y (x \in A \o x \in C)\} =\\
                &= \{x \in X \mid x \in A \o x \in B\} \cap \{x \in X \mid x \in A \o x \in B\} =\\
                &= (A \cup B) \cap (A \cup C)
            \end{split}
        \end{equation*}
        \qedhere
    \end{enumerate}
\end{proof}

\begin{definicion}[Uniones e intersecciones generalizadas]
    Sea $X$ un conjunto, y consideramos $\Gamma \subseteq \cc{P}(X)$ una familia de subconjuntos de $X$. Definimos la unión y la intersección de todos los elementos de $\Gamma$ por:
    \begin{gather*}
        \bigcap_{A \in \Gamma} A = \{x \in X \mid x \in A~~\forall A \in \Gamma \}\\
        \bigcup_{A \in \Gamma} A = \{x \in X \mid \exists A \in \Gamma\ \text{tal que}\ x \in A \}
    \end{gather*}

    A veces, simplemente lo notaremos por:
    \begin{gather*}
        \bigcap \Gamma := \bigcap_{A\in \Gamma}A \\
        \bigcup \Gamma := \bigcup_{A\in \Gamma}A
    \end{gather*}

    Notemos que si $\Gamma$ es una familia finita: $\Gamma = \{A_1, A_2, \ldots, A_n\} \subseteq \cc{P}(X)$, entonces:
    \begin{equation*}
        \bigcap_{A \in \Gamma}A = A_1 \cap A_2 \cap \ldots \cap A_n
        \hspace{1cm}
        \bigcup_{A \in \Gamma}A = A_1 \cup A_2 \cup \ldots \cup A_n
    \end{equation*}
    
    En el caso anterior, podemos notar:
    \begin{equation*}
        \bigcap_{A \in \Gamma}A = \bigcap_{i=1}^n A_i
        \hspace{1cm}
        \bigcup_{A \in \Gamma}A = \bigcup_{i=1}^n A_i
    \end{equation*}
\end{definicion}

\begin{ejemplo}
Sea $X = \{0, 1, 2, 3, 4, 5\}$, y consideramos ${\Gamma = \{\{0, 1\}, \{1, 2\}, \{1, 3, 5\}\}\subseteq \mathcal{P}(X)}$:
    \begin{equation*}
        \bigcap_{A \in \Gamma}A = \{1\}
        \hspace{1cm}
        \bigcup_{A \in \Gamma}A = \{0, 1, 2, 3, 5\}
    \end{equation*}
\end{ejemplo}

\begin{definicion}[Complementario]
    Sea $X$ un conjunto y $A \in \cc{P}(X)$, definimos el \textbf{complementario de $A$ en $X$}, notado $X-A$ o $X\setminus A$, como el subconjunto de $X$ formado por aquellos elementos de $X$ que no pertenezcan a $A$:
    $$X-A = \{x \in X \mid x \notin A\}$$
\end{definicion}
\begin{notacion}
    Cuando el conjunto $X$ sea claro por el contexto (por ejemplo, cuando estemos trabajando continuamente con números reales), notaremos simplemente $\overline{A}$ o $C(A)$ (que será equivalente a escribir $X-A$).
\end{notacion}

\begin{ejemplo}
    Sea $A = \{x \in \N \mid x \geq 4\} \subseteq \N$:
    \begin{align*}
        \N - A &= \{0, 1, 2, 3\} = \{x \in \N \mid x < 4\}\\
        \Z - A &= \{x \in \Z \mid x < 4\}
    \end{align*}
\end{ejemplo}

\begin{prop} Sea $X$ un conjunto y $A \in \cc{P}(X)$. Algunas propiedades que se verifican sobre el complementario son:
    \begin{enumerate}
        \item $C(\emptyset) = X$.
        \item $C(X) = \emptyset$.
        \item $A \cup C(A) = X$.
        \item $A \cap C(A) = \emptyset$.
        \item $C(C(A)) = A$.
    \end{enumerate}
\end{prop}
\begin{proof}
    Demostramos cada una de las propiedades por separado:
    \begin{enumerate}
        \item $C(\emptyset) = \{x \in X \mid x \notin \emptyset\} = \{x \in X\} = X$.
        \item $C(X) = \{x \in X \mid x \notin X\} = \emptyset$.
        \item $A \cup C(A) = \{x \in X \mid x \in A \o x \notin A \} = \{x \in X\} = X$.
        \item $A \cap C(A) = \{x \in X \mid x \in A \y x \notin A\} = \emptyset$.
        \item $C(C(A)) = \{x \in X \mid x \notin C(A) \} = \{x \in X \mid x \in A\} = A$.
    \end{enumerate}
\end{proof}

\begin{prop}[Leyes de De Morgan]
    Sea $X$ un conjunto con $A, B \in \cc{P}(X)$, se verifica que:
    \begin{enumerate}
        \item $C(A \cup B) = C(A) \cap C(B)$
        \item $C(A \cap B) = C(A) \cup C(B)$
    \end{enumerate}
\end{prop}
\begin{proof} Demostramos cada una de las igualdades:
\begin{enumerate}
    \item $C(A \cup B) = C(A) \cap C(B)$:
    \begin{equation*}
        \begin{split}
            C(A \cup B) &= \{x \in X \mid x \notin (A \cup B)\} =\\
            & =\{x \in X \mid x \notin \{x \in X \mid x \in A \o x \in B\} \} =\\
            & = \{x \in X \mid x \notin A \y x \notin B \} =\\
            & =\{x \in X \mid x \notin A\} \cap \{x \in X \mid x \notin B\} = C(A) \cap C(B)
        \end{split}
    \end{equation*}

    \item $C(A \cap B) = C(A) \cup C(B)$:
    \begin{equation*}
        \begin{split}
            C(A \cap B) &= \{x \in X \mid x \notin (A \cap B)\} =\\
            & =\{x \in X \mid x \notin \{x \in X \mid x \in A \y x \in B\} \} =\\
            & = \{x \in X \mid x \notin A \o x \notin B \} =\\
            & =\{x \in X \mid x \notin A\} \cup \{x \in X \mid x \notin B\} = C(A) \cup C(B)
        \end{split}
    \end{equation*}
\end{enumerate}
\end{proof}

\begin{prop}[Leyes de De Morgan generalizadas]
    Sea $X$ un conjunto, $\Gamma \subseteq~\cc{P}(X)$, se verifica:
    \begin{enumerate}
        \item El complementario de la unión es la intersección de los complementarios.
        $$C\left( \bigcup_{A\in\Gamma}A \right) = \bigcap_{A\in\Gamma}C(A)$$

        \item El complementario de la intersección es la unión de los complementarios.
        $$C\left( \bigcap_{A\in\Gamma}A \right) = \bigcup_{A\in\Gamma}C(A)$$
    \end{enumerate}
\end{prop}
\begin{proof} Demostramos cada igualdad por separado:
\begin{enumerate}
    \item $C\left( \bigcup\limits_{A\in\Gamma}A \right) = \left\{x \in X \mid x \notin \bigcup\limits_{A\in\Gamma}A\right\} = \{x \in X \mid x \notin A ~\forall A \in \Gamma \} = \bigcap\limits_{A\in\Gamma}C(A)$

    \item $C\left( \bigcap\limits_{A\in\Gamma}A \right) = \left\{ x \in X \mid x \notin \bigcap\limits_{A\in\Gamma}A \right\} = \{x \in X \mid \exists A \in \Gamma \mid x \notin A\} = \bigcup\limits_{A\in\Gamma}C(A)$
\end{enumerate}
\end{proof}

\begin{definicion}[Complementario generalizado]
    Sea $X$ un conjunto y consideramos $A, B \in \cc{P}(X)$, definimos \textbf{el complementario de $A$ en $B$}, notado
    $B-A$ como el conjunto:
    $$B-A = \{x \in X \mid x \in B \y x \notin A\} = B \cap C(A)$$
\end{definicion}

\begin{prop}[Propiedad distributiva generalizada]
    Sea $X$ un conjunto con $B \in \cc{P}(X)$ y $\Gamma \subseteq \cc{P}(X)$, se tiene que:
    \begin{equation*}
        B \cap \left( \bigcup_{A \in \Gamma}A \right) = \bigcup_{A\in \Gamma} (B \cap A)
        \hspace{1cm}
        B \cup \left( \bigcap_{A \in \Gamma}A \right) = \bigcap_{A\in \Gamma} (B \cup A)
    \end{equation*}
\end{prop}
\begin{proof}
    \begin{equation*}
        \begin{split}
            B \cap \left( \bigcup_{A \in \Gamma}A \right) &= \left\{ x \in X \mid x \in B \y x \in \bigcup_{A \in \Gamma}A \right\} =\\
            & = \{x \in X \mid x \in B \y \exists A \in \Gamma \mid x \in A\} =\\
            & =\{x \in X \mid \exists A \in \Gamma \mid x \in B \y x \in A\}= \bigcup_{A\in \Gamma} (B \cap A)
        \end{split}
    \end{equation*}

    \begin{equation*}
        \begin{split}
            B \cup \left( \bigcap_{A \in \Gamma}A \right) &= \left\{ x \in X \mid x \in B \o x \in \bigcap_{A \in \Gamma}A \right\} =\\
            & = \{x \in X \mid x \in B \o x \in A~\forall A \in \Gamma\} =\\
            & = \{x \in X \mid \forall A \in \Gamma~x \in B \o x \in A\} = \bigcap_{A\in \Gamma} (B \cup A)
        \end{split}
    \end{equation*}
\end{proof}


\section{Álgebra de proposiciones}
\begin{definicion}[Conjunto que verifica una propiedad]
    Sea $X$ un conjunto y sea $P$ una propiedad referida a los elementos de dicho conjunto, definimos el conjunto de elementos de $X$ que verifica dicha propiedad, que usualmente notaremos por $X_P$, como:
    $$X_P = \{x \in X \mid x \mbox{ verifica } P \}$$
\end{definicion}
\begin{ejemplo}
    Sea $X=\bb{Z}$, y sea $P$ la propiedad de ser un número positivo. Entonces:
    \begin{equation*}
        X_P = \{x\in \bb{Z}\mid x\geq 0\} = \bb{N}
    \end{equation*}
\end{ejemplo}

\begin{prop}
    Sea $X$ un conjunto y sean $P$ y $Q$ dos propiedades referidas a dicho conjunto. Es posible calcular el conjunto de elementos de $X$ que verifican $P$ y $Q$ simultáneamente o el conjunto de elementos de $X$ que verifica al menos una propiedad a partir de la fórmula:
    \begin{gather*}
        X_{(P \y Q)} = X_P \cap X_Q \\
        X_{(P \o Q)} = X_P \cup X_Q
    \end{gather*}
\end{prop}
\begin{proof} Trivialmente, se verifica lo siguiente:
    \begin{gather*}
        X_P \cap X_Q = \{x \in X \mid x \mbox{ verifica } P \y x \mbox{ verifica } Q\} = X_{(P \y Q)} \\
        X_P \cup X_Q = \{x \in X \mid x \mbox{ verifica } P \o x \mbox{ verifica } Q\} = X_{(P \o Q)}
    \end{gather*}
\end{proof}

\begin{prop}
    Sea $X$ un conjunto y sea $P$ una propiedad referida a dicho conjunto, podemos calcular el conjunto de elementos de $X$ que no cumplen la propiedad $P$ a partir de $X_P$, de la forma:
    $$X_{\lnot P} = C(X_P)$$
\end{prop}
\begin{proof}
    $$C(X_P) = \{x \in X \mid x \notin X_P \} = \{x \in X \mid x \mbox{ no verifica } P\} = X_{\lnot P}$$
\end{proof}

\begin{definicion}[Proposición matemática]
    Una \textbf{proposición matemática} es una relación entre dos propiedades $P$ y $Q$ referidas a los elementos de un conjunto $X$ del tipo $$P \Longrightarrow Q$$
    
    Se lee ``$P$ implica $Q$'' o ``$P$ entonces $Q$'', y significa que si $x\in X$ verifica $P$, entonces también verifica $Q$. Equivalentemente, ha de ser $X_P\subseteq X_Q$.
\end{definicion}

Demostrar la falsedad de la proposición matemática $P \Longrightarrow Q$ es equivalente a demostrar que $X_p\not \subseteq X_Q$. Es decir, ver que $\exists x\in X_P$ tal que $x\notin X_Q$. A dicho elemento $x$ se le llama \textbf{contraejemplo}.

\begin{definicion}[Recíproco]
    Dada una proposición matemática $P\Longrightarrow Q$, definimos su \textbf{proposición matemática recíproca}, o \textbf{recíproco} como la proposición matemática:
    \begin{equation*}
        Q\Longrightarrow P
    \end{equation*}
\end{definicion}

\begin{observacion}
    Dada una proposición matemática, su recíproco no siempre es verdadero. Por ejemplo, es cierto que todo número natural es un número entero ($\mathbb{N} \subseteq \mathbb{Z}$) pero su recíproco, que todo número entero es un número natural, no es cierto ($\mathbb{Z} \nsubseteq \mathbb{N}$).
\end{observacion}

\begin{definicion}[Contrarrecíproco]
    Dada una proposición matemática $P\Longrightarrow Q$, definimos su \textbf{proposición matemática contrarrecíproca}, o \textbf{contrarrecíproco} como la proposición matemática:
    \begin{equation*}
        \lnot Q \Longrightarrow \lnot P
    \end{equation*}
\end{definicion}

\begin{prop}[Transitividad]
    Sean $P$, $Q$, $R$ propiedades referidas a los elementos de un conjunto $X$, tales que $P \Longrightarrow Q$
    y $Q \Longrightarrow R$. Entonces:
    $$P \Longrightarrow R$$
\end{prop}
\begin{proof}
    Se demuestra gracias a la transitividad de la inclusión de los subconjuntos, ya que $X_P\subseteq X_Q\subseteq X_R$, por lo que $X_P\subseteq X_R$.
\end{proof}

\begin{definicion}[Equivalencia]
    Sea $X$ un conjunto y $P$ y $Q$ propiedades referidas a sus elementos, diremos que \textbf{$P$ y $Q$ son equivalentes}, notado $P \Longleftrightarrow Q$ y leído ``$P$ si y solo si $Q$'', si:
    $$P \Longrightarrow Q \quad\land\quad Q \Longrightarrow P$$
    Notemos que la equivalencia se da cuando tanto una proposición matemática como su proposición recíproca son ciertas.
\end{definicion}

\begin{prop}[Equivalencia generalizada]
    Sea $X$ un conjunto y $P_1$, $P_2$, \ldots, $P_n$ propiedades referidas a elementos de $X$ tales que $P_i \Longrightarrow P_{i+1}~\forall i \in \{1, \ldots, n-1\}$ y que $P_n \Longrightarrow P_1$. Entonces:
    $$P_i \Longleftrightarrow P_j~~\forall i, j \in \{1, \ldots, n\}$$
\end{prop}
\begin{proof}
    $\forall i,j \in \{1, \ldots, n\}$:
    \begin{itemize}
        \item \underline{Si $i = j$}:

        Se tiene $P_i \Leftrightarrow P_j$ trivialmente, ya que:
        \begin{equation*}
            X_{P_i} = X_{P_j} \Rightarrow \left\{
            \begin{array}{ccc}
                X_{P_i} \subseteq X_{P_j} & \Longrightarrow & P_i \Rightarrow P_j \\
                \y && \y\\
                X_{P_j} \subseteq X_{P_i} & \Longrightarrow & P_j \Rightarrow P_i
            \end{array}
            \right.
        \end{equation*}
        Por tanto, $P_i \Leftrightarrow P_j$.

        \item \underline{Si $i < j$}: $(P_i \Rightarrow P_{i+1} \Rightarrow \ldots \Rightarrow P_j) \Rightarrow (P_i \Rightarrow P_j)$

        \item \underline{Si $i > j$}: $(P_i \Rightarrow P_n \Rightarrow P_1 \Rightarrow P_j) \Rightarrow (P_i \Rightarrow P_j)$
    \end{itemize}
    
    Para la implicación $P_j \Rightarrow P_i$ hágase un camino similar al especificado y se obtendrá $P_j \Leftrightarrow P_i$.
\end{proof}
De esta forma, siempre que queramos probar que un conjunto finito de propiedades matemáticas son equivalentes entre sí, bastará probar que la primera es equivalente a la segunda, la segunda a la tercera, y así hasta que la penúltima es equivalente a la última y finalmente que la última es equivalente a la primera.

\subsubsection{Demostración por reducción al absurdo}

Sea $X$ un conjunto, $P$ y $Q$ propiedades referidas a los elementos de dicho conjunto. Queremos demostrar que $P \Rightarrow Q$. El procedimiento es el siguiente:

\begin{itemize}
    \item Supongamos que $\exists x \in X \mid x \in X_P\cap C(X_Q)$, es decir, que $\exists x\in X$ que verifica $P$ pero no $Q$.
    
    \item Si llegamos a una resultado que es falso o que contradice nuestra hipótesis ($x\in C(X_P)$), habremos llegado a una contradicción y podemos concluir que $\forall x \in X_P \Longrightarrow x \in X_Q$. Es decir, queda demostrado que $P \Longrightarrow Q$.
\end{itemize}

\subsubsection{Demostración por contrarrecíproco}

\begin{lema}\label{lema:1.10}
    Sea $X$ un conjunto y $A, B \in \cc{P}(X)$. Entonces:
    $$A \subseteq B \Longleftrightarrow C(B) \subseteq C(A)$$
\end{lema}
\begin{proof} Procedemos mediante doble implicación:
\begin{description}
    \item [$\Longrightarrow)$] Sea $x \in C(B)$ y supongamos $x \notin C(A)$, luego $x \notin B \y x \in A$. Como $A\subseteq B$, tenemos que $x\in B$, por lo que llegamos a una \underline{contradicción}. Por tanto, se tiene que $x\in C(A)$ y, por tanto, $C(B)\subseteq C(A)$.

    \item [$\Longleftarrow)$] Usando la otra implicación (ya demostrada), tenemos que $$A = C(C(A)) \subseteq C(C(B)) = B$$
\end{description}
\end{proof}

\begin{prop}[Demostración por contrarrecíproco]
    Sea $X$ un conjunto, $P$ y $Q$ propiedades referidas a sus elementos, son equivalentes:
    \begin{enumerate}
        \item $P \Rightarrow Q$ (Demostración directa).
        \item $\neg Q \Rightarrow \neg P$ (Demostración por contrarrecíproco).
    \end{enumerate}
    Es decir, dada una proposición matemática, será verdadera si y solo si lo es su proposición matemática contrarrecíproca.
\end{prop}
\begin{proof}
\begin{equation*}
    (P \Rightarrow Q) \Leftrightarrow X_P \subseteq X_Q
    \stackrel{(\ast)}{\Longleftrightarrow}
    C(X_Q) \subseteq C(X_P) \Longleftrightarrow (\neg Q \Rightarrow \neg P)
\end{equation*}
donde en $(\ast)$ he aplicado el lema anterior, el Lema \ref{lema:1.10}.
\end{proof}

\section{Aplicaciones}

\begin{definicion}[Par ordenado]
    Un par ordenado es un conjunto que contiene a dos elementos $a$ y $b$, notado $(a,b)$ en el que importa el orden. Es decir, si $(a,b)$ y $(c,d)$ son dos pares ordenados:
    $$(a,b) = (c,d) \Longleftrightarrow a = c \y b = d$$
\end{definicion}

\begin{definicion}[Terna]
    Una terna es un conjunto de tres elementos $a$, $b$, $c$ en el que importa el orden, notado por:
    \begin{equation*}
        (a,b,c)
    \end{equation*}
\end{definicion}

\begin{definicion}[$n$-upla]
    Dado un número natural $n$, podemos generalizar el concepto de par ordenado o de terna a una $n$-upla, que es un conjunto de $n$ elementos $a_1$, $a_2$, \ldots, $a_n$ en el que importa el orden. A este lo notaremos por:
    \begin{equation*}
        (a_1,a_2,\ldots,a_n)
    \end{equation*}
\end{definicion}

\begin{definicion}[Producto Cartesiano]
    Sean $X$ e $Y$ dos conjuntos, definimos el \textbf{producto cartesiano de $X$ e $Y$} como el conjunto:
    $$X\times Y = \{(x,y) \mid x \in X \y y \in Y\}$$
\end{definicion}

Por lo general, se tiene que $X \times Y \neq Y \times X$ salvo que $X = Y$.

\begin{definicion}[Producto Cartesiano generalizado]
    Sean $X_1$, $X_2$, \ldots, $X_n$ conjuntos, definimos el \textbf{producto cartesiano de $X_1$, $X_2$,
        \ldots, $X_n$} como el conjunto:
    $$X_1 \times X_2 \times \ldots \times X_n = \{(x_1, x_2, \ldots, x_n) \mid x_i \in X_i ~~\forall i=1,\ldots,n \}$$
\end{definicion}
\begin{notacion}
    A veces notaremos: $\prod\limits_{i=1}^n X_i := X_1 \times X_2 \times \ldots \times X_n $.

    En el caso en el que $X=X_1 = X_2 = \ldots = X_n$, notaremos $\prod\limits_{i=1}^n X_i := X^n$.
\end{notacion}

\begin{ejemplo}
    Sea $X=\{a,b\}$ e $Y=\{1,2,3\}$. Entonces:
    \begin{gather*}
        X\times Y = \{(a,1), (a,2), (a,3), (b,1), (b,2), (b,3)\} \\
        Y\times X = \{(1,a), (1,b), (2,a), (2,b), (3,a), (3,b)\}
    \end{gather*}
\end{ejemplo}

\begin{prop}
    Si $X$ e $Y$ son dos conjuntos finitos, entonces $X\times Y$ es finito, con:
    \begin{equation*}
        |X\times Y|=|X|~|Y|
    \end{equation*}
\end{prop}
\begin{proof}
    Para cada elemento de $X$, tenemos que hay $|Y|$ opciones disponibles para completar el par ordenado. Como hay $|X|$ elementos en $X$, tenemos que en total hay $|X|~|Y|$ pares ordenados.
\end{proof}


\begin{definicion}[Aplicación]
    Una \textbf{aplicación} es una terna $(X, Y, f)$ donde $X$ es un conjunto llamado \textbf{dominio de la aplicación}, $Y$ es otro conjunto \textbf{llamado recorrido, rango o codominio de la aplicación} y $f\subseteq X\times Y$ es un conjunto llamado \textbf{grafo de la aplicación}. Esta terna ha de cumplir las siguientes propiedades:
    \begin{enumerate}
        \item $\forall x \in X,~\exists y \in Y \mid (x, y) \in f$.
        \item $\forall (x,y), (x',y') \in f$, si $x=x'\Longrightarrow y=y'$.
    \end{enumerate}
\end{definicion}

Las dos propiedades anteriores son equivalentes a que:
$$\forall x \in X~\exists_1 y \in Y \mid (x,y) \in f$$

Al único elemento $y \in Y$ que corresponde a un elemento $x \in X$ le llamaremos imagen por $f$ de $x$ (o simplemente $f$ de $x$), notado $y:=f(x)$. A veces, a dicho elemento $x$ tal que $f(x)=y$ lo llamaremos antiimagen de $y$.\\

Cuando tengamos una aplicación (es decir, una terna $(X, Y, f)$), hablaremos de una aplicación $f$ de $X$ en $Y$, notado de algunas de las siguientes formas:
\begin{equation*}
    f:X\longrightarrow Y
    \hspace{1cm}
    X \stackrel{f}{\longrightarrow} Y
\end{equation*}

Dar una aplicación es dar su dominio, su recorrido y el conjunto de pares ordenados; que es equivalente a dar el dominio, el recorrido y especificar a qué elemento del recorrido le corresponde cada elemento del dominio, que suele ser usual hacerlo mediante una fórmula. Por tanto, dos aplicaciones son iguales si tienen el mismo dominio, recorrido y grafo.

\begin{ejemplo} Algunos ejemplos de la definición anterior son:
\begin{enumerate}
    \item No existe la aplicación $f:\N \rightarrow \N$ dada por $f(x) = x-1$, ya que no cumple con la primera condición: $f(0)=-1\notin\N$.

    \item No existe la aplicación $g:\bb{N}\longrightarrow \bb{N}$ definida por la fórmula
    \begin{equation*}
        g(x)=\left\{
        \begin{array}{ccl}
            x & \text{si} & x \text{ no es múltiplo ni de $2$ ni de $3$} \\ \\
            \dfrac{x}{2} & \text{si} & x \text{ es múltiplo de $2$} \\ \\
            \dfrac{x}{3} & \text{si} & x \text{ es múltiplo de $3$}
        \end{array}
        \right.
    \end{equation*}
    Esto se debe a que $6$ podría tener dos imágenes, por lo que no cumpliría la segunda condición:
    \begin{equation*}
        g(6)=\frac{6}{2}=3
        \hspace{1cm}
        g(6)=\frac{6}{3}=2
    \end{equation*}

    \item La fórmula $f(x) = \dfrac{x^2+1}{x-1}$ define una aplicación $f:\left]0,1\right[ \rightarrow \R$ pero no puede definir una aplicación $f:[0,1] \rightarrow \R$, ya que $\nexists f(1)$.

    \item La suma de naturales $+:\bb{N}\times \bb{N}\longrightarrow \bb{N}$ dada por $+(x,y) = x+y$ es una aplicación.
\end{enumerate}
\end{ejemplo}


\begin{definicion}[Imagen de una aplicación]
    Si $f:X \rightarrow Y$ es una aplicación, al conjunto de las imágenes de los elementos de $X$ lo
    llamaremos \textbf{conjunto imagen de la aplicación}, notado $Img(f)$:
    $$Img(f) = \{f(x) \mid x \in X\} \subseteq Y$$
\end{definicion}

\begin{definicion}[Sobreyectividad]
    Dada una aplicación $f:X \rightarrow Y$, diremos que \textbf{$f$ es sobreyectiva} si $Img(f)~=~Y$. Es decir, se ha de cumplir que:
    $$\forall y \in Y ~\exists x \in X \mid f(x) = y$$
\end{definicion}

\begin{definicion}[Inyectividad]
    Dada una aplicación $f:X \rightarrow Y$, diremos que \textbf{$f$ es inyectiva} si elementos distintos tienen imágenes distintas. Es decir, se ha de cumplir:
    $$\forall x,z \in X \mid x \neq z \Longrightarrow f(x) \neq f(z)$$
    
    Por contrarrecíproco\footnote{Suele ser la forma más fácil de probar que una aplicación es inyectiva, mediante el contrarrecíproco de la definición.}, $f$ es inyectiva si $\forall x,z \in X \mid f(x) = f(z) \Longrightarrow x = z$.
\end{definicion}

\begin{definicion}[Biyectividad]
    Dada una aplicación $f:X \rightarrow Y$, diremos que \textbf{$f$ es biyectiva} si es a la vez inyectiva y sobreyectiva.
\end{definicion}

\begin{definicion}[Conjuntos biyectivos]
    Sean $X$ e $Y$ dos conjuntos, diremos que son biyectivos, notado $X \cong Y$ ó $\displaystyle X \mathop{\cong}^{f} Y$
    si existe una aplicación $f:X \rightarrow Y$ biyectiva.
\end{definicion}

\begin{ejemplo}
    Algunos ejemplos de inyectividad, sobreyectividad y biyectividad son:
    \begin{enumerate}
        \item $f:\bb{Z}\to\bb{Z}$, $f(x)=x^2$ no es sobreyectiva ni inyectiva.
        \item $g:\bb{Z}\to\bb{Z}$, $g(x)=2x$ es inyectiva pero no sobreyectiva.
        \item $h:\bb{Z}\to\bb{N}$, $h(x)=|x|$ es sobreyectiva pero no inyectiva.
        \item $t:\bb{Z}\to\bb{Z}$, $t(x)=x+2$ es biyectiva.
    \end{enumerate}
\end{ejemplo}

\begin{definicion}[Aplicación identidad]
    Sea $X$ un conjunto, definimos la aplicación \textbf{identidad en $X$}; notada como $id_X,~I_X,~Id_X$, o $1_X$; como la
    siguiente aplicación:
    \Func{id_X}{X}{X}{x}{id_X(x)=x}
\end{definicion}

\begin{definicion}[Composición]
    Sean $f:X\rightarrow Y$ y $g:Y \rightarrow Z$ dos aplicaciones, definimos la aplicación \textbf{$g$ compuesta con $f$}, notada $g \circ f$, como la siguiente aplicación:
    \Func{g\circ f}{X}{Z}{x}{g(f(x))}
\end{definicion}

Algunas propiedades de la composición de aplicaciones son:
\begin{prop}\label{prop:CompAsoc}
    La composición es asociativa. Es decir, dadas las aplicaciones $\displaystyle X \mathop{\longrightarrow}^{f} Y \mathop{\longrightarrow}^{g} Z \mathop{\longrightarrow}^{h} T$, se cumple:
    $$f \circ (g \circ h) = (f \circ g) \circ h$$
\end{prop}
\begin{proof}
    Los dominios de ambas aplicaciones son $X$ y los codominios $T$. Falta comprobar que los grafos coinciden. Para todo $x \in X$, se cumple que:
    \begin{gather*}
        (f \circ (g \circ h))(x) = f[(g\circ h)(x)] = f[g(h(x))]\\
        ((f \circ g) \circ h)(x) = (f\circ g)(h(x)) = f[g(h(x))]
    \end{gather*}
    Por tanto, se tiene $f \circ (g \circ h) = (f \circ g) \circ h$.
\end{proof}

\begin{prop}
    Dada una aplicación $f:X \rightarrow Y$ arbitraria, se verifica que la identidad es el elemento neutro de la composición. Es decir,
    \begin{gather*}
        f \circ id_X = f\\
        id_Y \circ f = f
    \end{gather*}
\end{prop}
\begin{proof}
    Los dominios y codominios de $f \circ id_X$, $f$, $id_Y \circ f$ coinciden. Falta ver que los grafos también lo hacen. $\forall x \in X$:
    \begin{gather*}
        (f \circ id_X)(x) = f(id_X(x)) = f(x) \\
        (id_Y \circ f)(x) = id_Y(f(x)) = f(x)
    \end{gather*}

    Por tanto, $f \circ id_X = f = id_Y \circ f$.
\end{proof}

\begin{lema}
    Sean $f:X\rightarrow Y$ y $g:Y \rightarrow X$ aplicaciones tales que $g \circ f = id_X$.
    
    Entonces, $f$ es inyectiva y $g$ es sobreyectiva.
\end{lema}
\begin{proof}
    Demostramos en primer lugar que $f$ es inyectiva:
    $$\forall x_1, x_2 \in X \mid f(x_1) = f(x_2) \Longrightarrow g(f(x_1)) = g(f(x_2)) \stackrel{(\ast)}{\Longrightarrow} x_1 = x_2$$
    donde en $(\ast)$ hemos usado la hipótesis de que $g \circ f = id_X$.
    Por tanto, como se tiene $f(x_1)=f(x_2)\Longrightarrow x_1=x_2$, se tiene que $f$ es inyectiva. Veamos ahora que $g$ es sobreyectiva:
    $$\forall x \in X ~ \exists y=f(x) \in Y \mid g(y) = x$$
    Por tanto, como todo elemento del codominio tiene su antiimagen correspondiente, tenemos que $g$ es sobreyectiva.
\end{proof}

\begin{teo}[Caracterización de la biyectividad] \label{teo:CarBiyect}
    Sea $f:X \rightarrow Y$ una aplicación. Entonces:
    $$f \mbox{ es biyectiva } \Longleftrightarrow \exists g:Y \rightarrow X \mid g \circ f = id_X \y f \circ g = id_Y$$
\end{teo}
\begin{proof} Demostremos por doble implicación:
    \begin{description}
        \item[$\Longrightarrow)$] Suponemos $f$ biyectiva. Por tanto, $\forall y \in Y~\exists_1 x \in X \mid f(x) = y$. Definimos la aplicación siguiente:
        \Func{g}{Y}{X}{y}{g(y)=x\mid f(x)=y}
        Esto es posible ya que, por ser $f$ biyectiva, dicho valor de $x\in X$ es único. Veamos que verifica que $f\circ g=id_Y$:
        \begin{equation*}
            (f \circ g)(y) = f(g(y)) = f(x) = y \qquad \forall y \in Y
        \end{equation*}
        Por tanto, se tiene que $f \circ g = id_Y$. 
        La otra igualdad se deduce directamente de la definición de $g$, ya que $f(x)=y$:
        \begin{equation*}
            (g\circ f)(x) = g(f(x)) = g(y) = x \qquad \forall x\in X
        \end{equation*}
        Por tanto, se tiene esta implicación.

        \item[$\Longleftarrow$)]  Supongamos que $\exists g:Y \rightarrow X \mid g \circ f = id_X \y f \circ g = id_Y$.
        Según el lema anterior, sabemos que:
            $$\left.\begin{array}{lll}
                g \circ f = id_X & \Rightarrow & f \mbox{ es inyectiva y } g \mbox{ es sobreyectiva} \\
                f \circ g = id_Y & \Rightarrow & g \mbox{ es inyectiva y } f \mbox{ es sobreyectiva}
            \end{array} \right.$$
        Por tanto, tenemos que $f$ es biyectiva.
    \end{description}
\end{proof}

\begin{lema}[Unicidad]\label{lema:Uni_Inv}
    Sea $f:X\to Y$. Si $f$ es biyectiva, se verifica que la función $g:Y \rightarrow X$ (cuya existencia ya está provada) es la única aplicación que verifica que $g \circ f = id_X \y f \circ g = id_Y$.
\end{lema}
\begin{proof}
    Supongamos que no es única, y sea $h:Y \rightarrow X$ otra aplicación tal que $h \circ f = id_X \y f \circ h = id_Y$ la otra opción. Entonces:
    $$h = h \circ id_Y = h \circ (f \circ g) = (h \circ f) \circ g = id_X \circ g = g$$
    Quedando así demostrada la unicidad de $g$.
\end{proof}

\begin{definicion}[Inversa]
    Sea $f:X \rightarrow Y$ una aplicación biyectiva. Por el lema anterior, sólo existe una aplicación $g:Y \rightarrow X \mid g \circ f = id_X \y f \circ g = id_Y$. Llamaremos a esta aplicación $g$ \textbf{aplicación
        inversa de $f$} y la notaremos como $f^{-1}$.
\end{definicion}


Notemos que, dada $f:X \rightarrow Y$, para comprobar que $g:Y \rightarrow X$ sea la inversa de $f$, gracias al Lema \ref{lema:Uni_Inv} nos basta con ver que $f \circ g = id_Y \y g \circ f = id_X$.

\begin{lema}
    Sea $f:X \rightarrow Y$ biyectiva. Entonces $f^{-1}$ es biyectiva, siendo su inversa $f$:
    $$(f^{-1})^{-1} = f$$
\end{lema}
\begin{proof}
    Como $f^{-1}$ es la inversa de $f$, se tiene de forma directa:
    \begin{gather*}
        f \circ f^{-1} = id_Y \\
        f^{-1} \circ f = id_X
    \end{gather*}
    
    Por el Teorema \ref{teo:CarBiyect}, $f^{-1}$ es biyectiva; y por el Lema \ref{lema:Uni_Inv}, $(f^{-1})^{-1} = f$.
\end{proof}

\begin{lema}[Inversa de una composición]
    Sean $f:X \rightarrow Y$, $g:Y \rightarrow Z$ funciones biyectivas. Entonces:
    $$(g \circ f)^{-1} = f^{-1} \circ g^{-1}$$
\end{lema}
\begin{proof}
Tenemos que el dominio de ambas es $Z$ y el codominio es $X$. Aplicamos el Lema \ref{lema:Uni_Inv} y la Proposición \ref{prop:CompAsoc}:
\begin{gather*}
    (g \circ f) \circ (f^{-1} \circ g^{-1}) = g \circ (f \circ f^{-1}) \circ g^{-1} = (g \circ id_Y) \circ g^{-1} = g \circ g^{-1} = id_Z \\
    (f^{-1} \circ g^{-1}) \circ (g \circ f) = f^{-1} \circ (g^{-1} \circ g) \circ f = (f^{-1} \circ id_Y) \circ f = f^{-1} \circ f = id_X
\end{gather*}
Por lo que: $$(g \circ f)^{-1} = f^{-1} \circ g^{-1}$$
\end{proof}

\begin{prop}\label{prop:ConjFinito_Equivalencias}
    Sea $X$ un conjunto \ul{finito} no vacío y $f:X \rightarrow X$ una aplicación, los siguientes enunciados
    son equivalentes:
    \begin{enumerate}[label=\roman*.]
        \item $f$ es biyectiva.
        \item $f$ es inyectiva.
        \item $f$ es sobreyectiva.
    \end{enumerate}
\end{prop}
\begin{proof} Demostramos la siguiente equivalencia:
\begin{description} 
    \item[I $\Longrightarrow$ II)] Trivial, a partir de la definición de aplicación biyectiva.
    
    \item[II $\Longrightarrow$ III)] Sea $f:X \rightarrow X$ inyectiva, supongamos que $|X| = n$, $(n \geq 1)$. Como $f$ es inyectiva, entonces $|Img(f)| = n$. Luego:
    $$Img(f) \subseteq X \y |Img(f)| = |X| \Rightarrow Img(f) = X$$
    Por tanto, tenemos que $f$ es sobreyectiva.

    \item[III $\Longrightarrow$ II)] Sea $f$ sobreyectiva, y demostraremos que $f$ es inyectiva. Para ello, por reducción al absurdo, supongamos que $f$ no es inyectiva. Por tanto, $|Img(f)|<~|X|$. Entonces, $Img(f) \subsetneq X$, llegando así a una \underline{contradicción}, ya que $f$ era sobreyectiva.
    
    Luego $f$ es inyectiva y como era sobreyectiva, tenemos que es biyectiva.
\end{description}
\end{proof}

\begin{definicion}[Conjunto imagen de un conjunto]
    Dada una aplicación ${f:X\rightarrow Y}$ y un conjunto $A\subseteq X$, definimos la imagen de $A$ mediante $f$, notado por $f_*(A)$ o $f(A)$ por:
    \begin{equation*}
        f(A) = f_*(A) = \{f(x) \mid x \in A\} \subseteq Y
    \end{equation*}
\end{definicion}

\begin{definicion}[Conjunto imagen inversa de un conjunto]
    Dada una aplicación $f:X\rightarrow Y$ y un conjunto $B\subseteq Y$, definimos la imagen inversa de $B$ mediante $f$, notado por $f^*(B)$ o $f^{-1}(B)$ por:
    \begin{equation*}
        f^{-1}(B) = f^*(B) = \{x \in X \mid f(x) \in B\} \subseteq X
    \end{equation*}
\end{definicion}
No debemos confundir la notación $f^{-1}(B)$ con la aplicación inversa de $f$, pues no es necesario suponer nada sobre $f$ para hablar de la imagen inversa del conjunto $B$.

\begin{prop}
    La imagen inversa es compatible con todas las operaciones con conjuntos. Sea $f:X\rightarrow Y$ una aplicación y $A,B\subseteq Y$, se verifica:
    \begin{enumerate}
        \item $f^*(A \cup B) = f^*(A) \cup f^*(B)$
        \item $f^*(A\cap B) = f^*(A)\cap f^*(B)$
        \item $f^*(A - B) = f^*(A) - f^*(B)$
        \item $f^*(Y - A) = X - f^*(A)$
    \end{enumerate}
\end{prop}
\begin{proof}
    Demostramos cada una de las propiedades:
    \begin{align*}
        f^*(A \cup B) &= \{x \in X \mid f(x) \in A \cup B\} = \{x \in X \mid f(x) \in A \vee f(x) \in B\} =\\&= \{x \in X \mid f(x) \in A\} \cup \{x \in X \mid f(x) \in B\} = f^*(A) \cup f^*(B)\\
        f^*(A \cap B) &= \{x \in X \mid f(x) \in A \cap B\} = \{x \in X \mid f(x) \in A \y f(x) \in B\} =\\&= \{x \in X \mid f(x) \in A\} \cap \{x \in X \mid f(x) \in B\} = f^*(A) \cap f^*(B)\\
        f^*(A - B) &= \{x \in X \mid f(x) \in A - B\} = \{x \in X \mid f(x) \in A \y f(x) \notin B\} =\\&= \{x \in X \mid f(x) \in A\} - \{x \in X \mid f(x) \in B\} = f^*(A) - f^*(B)
    \end{align*}
    El último apartado se obtiene a partir del tercero, haciendo uso además de que $f^*(Y)=X$.
\end{proof}

\begin{definicion}[Aplicación característica de un conjunto]
    Sea $X$ un conjunto y $A\subseteq X$, podemos definir la \textbf{aplicación característica de $A$}, notada por $\chi_A$ como la aplicación $\chi_A:X\rightarrow \{0,1\}$ dada por:
    \begin{equation*}
        \chi_A(x) = \left\{\begin{array}{lcl}
                1 & \text{si} & x\in A \\
                0 & \text{si} & x\notin A
        \end{array}\right.
    \end{equation*}
\end{definicion}


\section{Relaciones de equivalencia}
\begin{definicion}[Relación binaria]
    Sea $X$ un conjunto no vacío, una \textbf{relación binaria en $X$} es un subconjunto $R \subseteq X \times X$. Dados $a, b \in X \mid (a, b) \in R$, diremos que $a$ está relacionado con $b$ por $R$, notado
    $aRb$.
\end{definicion}

Dado un conjunto $X$ y una relación binaria $R$ en $X$, algunas propiedades que puede cumplir $R$ son:
\begin{itemize}
    \item \textbf{Reflexividad:}  $\forall a \in X \Rightarrow aRa$
    \item \textbf{Simetría:} si: $\forall a,b \in X \mid aRb \Rightarrow bRa$
    \item \textbf{Transitividad:} $\forall a,b,c \in X \mid aRb \y bRc \Rightarrow aRc$
\end{itemize}
En el caso de que una relación $R$ cumpla las tres propiedades mencionadas, diremos que \textbf{$R$ es una relación binaria de equivalencia sobre el conjunto $X$}.

\begin{ejemplo} Algunos ejemplos de relaciones binarias son:
\begin{enumerate}
    \item Sea $X=\{a,b,c\}$. Son relaciones binarias:
    \begin{equation*}
        \begin{array}{l|ccc}
            & \text{Reflexividad} & \text{Simetría} & \text{Transitividad} \\ \hline
            R_1 = \{(a,a), (a,b), (b,c)\} & \text{No} & \text{No} & \text{No} \\
            R_2 = \{(a,a), (b,b), (c,c), (a,b), (b,c)\} & \text{Sí} & \text{No} & \text{No} \\
            R_3 = \{(a,b), (b,a)\} & \text{No} & \text{Sí} & \text{No} \\
            R_4 = \{(a,a), (b,b), (c,c), (a,b), (b,a)\} & \text{Sí} & \text{Sí} & \text{Sí} \\
        \end{array}
    \end{equation*}

    \item Sea $X=\bb{N}$, y consideramos la relación binaria:
    \begin{equation*}
        R=\{(a,b)\in \bb{N}\times \bb{N} \mid a+b \text{ es un número par}\}
    \end{equation*}

    Veamos que es una relación de equivalencia:
    \begin{itemize}
        \item \textbf{Reflexividad:}  Sea $a\in X$. Entonces, $aRa \Longleftrightarrow a+a=2a$ es par, lo cual es cierto.
        \item \textbf{Simetría:} Sean $a,b \in X \mid aRb\Longrightarrow a+b=2k \Longrightarrow b+a=2k \Longrightarrow bRa$, para cierto $k\in \bb{N}$.
        \item \textbf{Transitividad:} $\forall a,b,c \in X \mid aRb \y bRc$, se tiene que $\exists k,k'\in \mathbb{N}$:
        \begin{equation*}
            \left.\begin{array}{ccc}
                aRb & \Longrightarrow & a+b=2k \\
                \land&&\land\\
                bRc & \Longrightarrow & b+c=2k'
            \end{array} \right\}
            \Longrightarrow a+b+b+c = a+2b+c = 2k + 2k' = 2(k+k')
        \end{equation*}
        Por tanto, se tiene que $a+c=2(k+k'-b)$, para ciertos $k,k'\in \bb{N}$. Por tanto, tenemos que $aRc$.
    \end{itemize}

    \item Sea $X=\bb{R}^2$ y definimos $O=(0,0)$ como el origen del plano cartesiano. Entonces, consideramos la relación binaria:
    \begin{equation*}
        pRq \Longleftrightarrow d(O,p) = d(O,q)
    \end{equation*}

    Es directo comprobar (dejamos la demostración al lector) que esta relación es de equivalencia.
\end{enumerate}
\end{ejemplo}

\begin{definicion}[Clase de equivalencia]
    Sea $X$ un conjunto no vacío y $R$ una relación binaria de equivalencia. Para cada $a \in X$, definimos \textbf{la clase de equivalencia de $a$}, notada por $\overline{a}$ ó por $[a]$ como el conjunto:
    $$[a] = \{x \in X \mid xRa\} \subseteq X$$
\end{definicion}

Esto es, $[a]$ contiene aquellos elementos de $X$ que estén relacionados o que son equivalentes con $a$.
Por la propiedad reflexiva, tenemos que $aRa \Rightarrow a \in [a]$, por lo que $ [a] \neq \emptyset~\forall a \in X$.\\


A cada uno de los elementos de $X$ que pertenezcan a $[a]$ para algún $a \in X$ se les llama \textbf{representantes de la clase de $a$}.

\begin{ejemplo} Veamos algunos ejemplos de clase de equivalencia respecto de las relaciones binarias anteriores:
\begin{enumerate}
    \item[2.] Veamos la clase de equivalencia con representante de clase $0$ de la relación de equivalencia de los pares:
    \begin{equation*}
        [0] = \{x\in \bb{N}\mid xR0\} = \{x\in \bb{N}\mid x+0 \text{ es par}\} = \{x\in \bb{N}\mid x \text{ es par}\}
    \end{equation*}

    \item[3.] Veamos la clase de equivalencia con representante de clase el punto $(2,3)$ de la relación de equivalencia de la distancia:
    \begin{multline*}
        [(2,3)] = \{p\in \bb{R}^2\mid pR(2,3)\} = \{p\in \bb{R}^2\mid d(O,p)=d(O,(2,3))\} =\\= \left\{p\in \bb{R}^2\mid d(O,p)=\sqrt{13}\right\}
    \end{multline*}
\end{enumerate}
\end{ejemplo}

\begin{prop}
    Sea $X$ un conjunto no vacío y $R$ una relación de equivalencia en $X$. Sean $a,b \in X$. Son
    equivalentes:
    \begin{enumerate}[label=\roman*.]
        \item $aRb$
        \item $a \in [b]$
        \item $b \in [a]$
        \item $[a] \cap [b] \neq \emptyset$
        \item $[a] = [b]$
    \end{enumerate}
\end{prop}
\begin{proof} Demostramos por implicaciones sucesivas:
\begin{description}
    \item [I $\Longrightarrow$ II)] Por la definición de $[b]$, tenemos que si $aRb \Rightarrow a \in [b]$.

    \item [II $\Longrightarrow$ III)] Suponemos $a \in [b]$, es decir, $ aRb$. Por ser una relación de equivalencia, es simétrica, luego $bRa$, por lo que $b \in [a]$.
    
    \item [III $\Longrightarrow$ IV)] Hemos supuesto que $b\in [a]$. Además, se ha visto que $\forall b\in X$, se tiene que $b\in [b]$. Por tanto, $b\in [a]\cap [b]$, por lo que este último no es vacío.
    
    \item [IV $\Longrightarrow$ V)]
    Como $[a] \cap [b] \neq \emptyset \Rightarrow \exists c \in X \mid c \in [a] \cap [b] \Rightarrow cRa \y cRb$.
    \begin{gather*}
        \forall x \in [a] \Rightarrow xRa \mathop{\Rightarrow}^{cRa} aRc \Rightarrow xRc \mathop{\Rightarrow}^{cRb} xRb \Rightarrow x \in [b] \Rightarrow [a] \subseteq [b] \\
        \forall x \in [b] \Rightarrow xRb \mathop{\Rightarrow}^{cRb} bRc \Rightarrow xRc
        \mathop{\Rightarrow}^{cRa} xRa \Rightarrow x \in [a] \Rightarrow [b] \subseteq [a]
    \end{gather*}

    Tenemos que $[a] \subseteq [b] \y [b] \subseteq [a] \Rightarrow [a] = [b]$.
    
    \item [V $\Longrightarrow$ I)] Como $a \in [a] = [b] \Rightarrow aRb$. \qedhere
\end{description}
\end{proof}

\begin{definicion}[Conjunto cociente]
    Dado un conjunto $X$ no vacío y una relación de equivalencia $R$ sobre $X$, se define el
    \textbf{conjunto cociente de $X$ por la relación de equivalencia $R$}, notado $X/R$ como el conjunto:
    $$X/R = \{[a] \mid a \in X\}$$
\end{definicion}

\begin{ejemplo} Veamos algunos ejemplos de conjuntos cocientes por las relaciones binarias anteriores:
\begin{enumerate}
    \item[2.] Veamos las distintas clases de equivalencia que hay en la relación de equivalencia de los pares:
    \begin{equation*}
        \begin{split}
            [0] &= \{x\in \bb{N} \mid xR0\} = \{x\in \bb{N}\mid x+0 \text{ es par}\} = \{x\in \bb{N}\mid x \text{ es par}\} \\&= \{0,2,4,\dots\} \Longrightarrow [0]=[2]=[4]=\dots
        \end{split}
    \end{equation*}
    \begin{equation*}
        \begin{split}
            [1] &= \{x\in \bb{N} \mid xR1\} = \{x\in \bb{N}\mid x+1 \text{ es par}\} = \{x\in \bb{N}\mid x \text{ es impar}\} \\&= \{1,3,5,\dots\} \Longrightarrow [1]=[3]=[5]=\dots
        \end{split}
    \end{equation*}

    Por tanto, $\displaystyle \bb{N}/R = \{[0],[1]\}$.

    \item[3.] Veamos las distintas clases de equivalencia de la relación de equivalencia de la distancia:
    \begin{multline*}
        [p] = \{x\in \bb{R}^2\mid xRp\} = \{x\in \bb{R}^2\mid d(0,x)=d(0,p)\} = \{x\in \bb{R}^2\mid d(0,x)=r\} =\\= C_r \quad \text{(circunferencia de radio $r$ y centro $O$)}.
    \end{multline*}

    Por tanto, se tiene que $\displaystyle \bb{R}^2/R = \{C_r\mid r\in \bb{R}^+_0\}$.
\end{enumerate}
\end{ejemplo}

\begin{prop}
    Sea $f:X \rightarrow Y$ una aplicación y $R$ una relación de equivalencia en $X$. Supongamos que $f$ verifica la siguiente propiedad:
    \begin{center}
        Dados $a,b \in X \mid aRb \Rightarrow f(a) = f(b)$.
    \end{center}
    
    Entonces, podemos definir la siguiente aplicación:
    \begin{equation*}
        \begin{array}{rll}
            \overline{f}: X/R & \longrightarrow & Y\\
                \left[ a \right] & \longmapsto & \overline{f}\left([a]\right)=f(a)
        \end{array}
    \end{equation*}
    
    Se verifica que:
    \begin{enumerate}
        \item $Img\left(\overline{f}\right) = Img(f)$.
        \item $\overline{f}$ es sobreyectiva $\Longleftrightarrow f$ es es sobreyectiva.
        \item $\overline{f}$ es inyectiva $\Longleftrightarrow~\forall a,b \in X \mid f(a) = f(b) \Rightarrow aRb$.
    \end{enumerate}
\end{prop}
\begin{proof}
    Veamos en primer lugar que $\overline{f}$ está bien definida, es decir, que dos elementos iguales tienen la misma imagen. Nuestra definición de $\overline{f}$ depende del representante de la clase escogida, por lo que debemos comprobar que al cambiar el representante no cambia la imagen de $\overline{f}$:
    $$\forall a, b \in X \mid [a] = [b] \Rightarrow aRb \Rightarrow f(a) = f(b) \Rightarrow \overline{f}\left([a]\right) = \overline{f}\left([b]\right)$$

    Por tanto, tenemos que $\overline{f}$ es una aplicación. Comprobemos las tres propiedades que se enuncian:
    \begin{enumerate}
        \item Comprobemos que $Im\left(\overline{f}\right)=Im(f)$:
        $$Img\left(\overline{f}\right) = \left\{\overline{f}\left([a]\right) \mid [a] \in X/R\right\} = \{f(a) \mid [a] \in X/R\} = \{f(a) \mid a \in X\} = Img(f)$$

        \item $\overline{f}$ es sobreyectiva $\Longleftrightarrow Img\left(\overline{f}\right) = Y \Longleftrightarrow Img(f) = Y \Longleftrightarrow f$ es sobreyectiva.

        \item Comprobemos que $\overline{f}$ es inyectiva $\Longleftrightarrow~\forall a,b \in X \mid f(a) = f(b) \Rightarrow aRb$:
        \begin{description}
            \item[$\Longrightarrow)$] Sean $a,b \in X \mid f(a) = f(b) \Rightarrow \overline{f}\left([a]\right) = \overline{f}\left([b]\right) \Rightarrow [a] = [b] \Rightarrow aRb$

            \item[$\Longleftarrow)$] $\forall [a], [b] \in X/R \mid \overline{f}\left([a]\right) = \overline{f}\left([b]\right) \Rightarrow f(a) = f(b) \Rightarrow aRb \Rightarrow [a] = [b] \Rightarrow \overline{f}$ es inyectiva.
        \end{description}
    \end{enumerate}
\end{proof}

A la función $\overline{f}$ de la proposición anterior la llamaremos \textbf{aplicación inducida por $f$ en el conjunto cociente}.
