\documentclass[12pt]{article}

\input{../../_assets/preambulo.tex}
% Para poder incluir árboles
\usepackage{forest}
\usepackage{booktabs}

\usepackage{hhline}
\newcommand{\cell}[1]{\multicolumn{1}{|c|}{$#1$}}

% Para poder añadir autómatas
% https://www3.nd.edu/~kogge/courses/cse30151-fa17/Public/other/tikz_tutorial.pdf
\usetikzlibrary{automata} %, positioning, arrows}
\tikzset{
    -Stealth,
    node distance=3cm, % specifies the minimum distance between two nodes. Change if necessary.
    every state/.style={thick, fill=gray!10, shape=ellipse}, % sets the properties for each ’state’ node
    initial text=$ $, % sets the text that appears on the start arrow
    % Un tipo de nodo, que es error, que lo pone rojo
    error/.style={thick, fill=red!20},
}


\begin{document}

    % 1. Foto de fondo
    % 2. Título
    % 3. Encabezado Izquierdo
    % 4. Color de fondo
    % 5. Coord x del titulo
    % 6. Coord y del titulo
    % 7. Fecha

    
    \input{../../_assets/portada}
    \portadaExamen{etsiitA4.jpg}{Modelos de\\Computación\\Examen XIV}{MC. Examen XIV}{MidnightBlue}{-8}{28}{2024-2025}{Arturo Olivares Martos}

    \begin{description}
        \item[Asignatura] Modelos de Computación
        \item[Curso Académico] 2019-20.
        \item[Grado] Doble Grado en Ingeniería Informática y Matemáticas o ADE.
        \item[Grupo] Único.
        %\item[Profesor] Serafín Moral García.
        \item[Descripción] Convocatoria Ordinaria.
        \item[Fecha] 10 de enero de 2020.
        \item[Duración] $2.5$ horas.    
    \end{description}
    \newpage

    \begin{ejercicio}[2.5 puntos]
        Indicar si son verdaderas o falsas las siguientes afirmaciones:
        \begin{enumerate}
            \item La transformación que en cada palabra $u \in \{0, 1\}^*$ intercambia los ceros por unos y viceversa es un homomorfismo.
            \item Si $r_1$ y $r_2$ son expresiones regulares, entonces siempre $(r_1^* + r_2^*)^+ = (r_1 + r_2)^+$.
            \item Para que un lenguaje independiente del contexto $L$ sea determinista es necesario que cumpla la propiedad prefijo.
            \item El lenguaje $L = \{0^{i}1^j0^{i}1^j : i, j \geq 1\}$ es independiente del contexto.
            \item Si el complementario de un lenguaje es finito, entonces el lenguaje es regular.
            \item Si un lenguaje $L$ es regular, entonces el lenguaje $L^{-1}$ es también regular.
            \item Si $rr = r$ y $\varepsilon$ está en el lenguaje de $r$, entonces $r^* = r$.
            \item Si un AFD tiene $n$ estados y acepta una palabra de longitud $n$, entonces el lenguaje aceptado es infinito.
            \item Si un autómata finito no tiene una pareja de estados indistinguibles, entonces es siempre minimal.
            \item Una palabra generada por una gramática independiente del contexto tiene siempre una única derivación por la izquierda.
            \item Para aplicar el algoritmo para pasar una gramática a forma normal de Greibach es necesario que la gramática ya esté en forma normal de Chomsky.
            \item Si en una gramática independiente del contexto las únicas posibles derivaciones de $A$ son $A \to ACD$ y $A \to aD$, entonces si se aplica la función $\text{ELIMINA}_2$ del algoritmo de Greibach, tenemos que añadir una nueva variable $B_A$, resultando en una gramática en la que la única derivación de $A$ es $A \to aDB_A$.
            \item Si una gramática está en forma normal de Greibach, entonces una palabra de longitud $n$ se deriva siempre en $n + 1$ pasos.
            \item Si al aplicar el algoritmo de Early, tenemos que $\texttt{REGISTROS}[j] = \emptyset$ después de aplicar el paso de avance para este valor de $j$, entonces la palabra no es generada por la gramática.
        \end{enumerate}
    \end{ejercicio}

    \begin{ejercicio}[2.5 puntos]
        Construir un autómata finito determinista minimal que acepte el conjunto de palabras sobre el alfabeto $\{0, 1\}$ tales que la diferencia entre el número de $0$'s y el número de $1$'s es múltiplo de $3$. Construir una expresión regular para ese mismo lenguaje usando cualquiera de los procedimientos vistos en clase.
    \end{ejercicio}

    \begin{ejercicio}[2.5 puntos]
        Sea la gramática independiente del contexto:
        \[
            \begin{aligned}
                S &\to aSb \mid bY \mid Ya, \\
                Y &\to bY \mid aY \mid a \mid b.
            \end{aligned}
        \]
        Determina usando el algoritmo de Early si las siguientes palabras son generadas: $aabb$, $abbb$.
    \end{ejercicio}

    \begin{ejercicio}[2.5 puntos]
        Determinar si los siguientes lenguajes son regulares y/o independientes del contexto. Justifica las respuestas.
        \begin{enumerate}
            \item El lenguaje complementario del generado por la gramática del ejercicio anterior.
            \item El lenguaje sobre el alfabeto $\{0, 1, 2, 3\}$ de las palabras en las que el número de $0$'s es igual al número de $1$'s y el número de $2$'s es igual al número de $3$'s.
            \item Palabras sobre el alfabeto $\{0, 1\}$ que comienzan y terminan con el mismo símbolo.
            \item Palabras $u \in \{0, 1\}^*$ tales que si $|u| \leq 100$, entonces $u$ es un palíndromo y si $|u| \geq 50$, entonces no contiene la subcadena $0110$.
        \end{enumerate}
    \end{ejercicio}

    \begin{ejercicio}[1 punto]~
        \begin{observacion}
            Este ejercicio es voluntario y sirve para subir un punto adicional en la parte de teoría.
        \end{observacion}
        Si $L$ es un lenguaje, entonces se define $\text{NOPREFIJO}(L)$ como el lenguaje de palabras $u \in L$ tales que ningún prefijo propio de $u$ está en $L$ y $\text{NOEXTENSION}(L)$ como la clase de palabras $u \in L$ tales que $u$ no es un prefijo propio de cualquier otra palabra de $L$. Demostrar que la clase de lenguajes independientes del contexto no es cerrada por las transformaciones $\text{NOPREFIJO}$ y $\text{NOEXTENSION}$.
    \end{ejercicio}



    \newpage
    \setcounter{ejercicio}{0}
    \section*{Soluciones}

    \begin{ejercicio}[2.5 puntos]
        Indicar si son verdaderas o falsas las siguientes afirmaciones:
        \begin{enumerate}
            \item La transformación que en cada palabra $u \in \{0, 1\}^*$ intercambia los ceros por unos y viceversa es un homomorfismo.
            
            Sí, es un homomorfismo dado por:
            \begin{equation*}
                h(0) = 1, \quad h(1) = 0.
            \end{equation*}
            \item Si $r_1$ y $r_2$ son expresiones regulares, entonces siempre $(r_1^* + r_2^*)^+ = (r_1 + r_2)^+$.
            
            Sean $L_1$ y $L_2$ los lenguajes generados asociados a $r_1$ y $r_2$ respectivamente. Entonces, tan solo será verdad si $\veps\in L_1\cup L_2$.
            \item Para que un lenguaje independiente del contexto $L$ sea determinista es necesario que cumpla la propiedad prefijo.
            
            No, no es necesario. No podrá ser aceptado por un APD por el criterio de pila vacía, pero sí será aceptado por un APD por el criterio de estados finales. Por ejemplo, el lenguaje:
            \begin{equation*}
                L=\{a^ib^j\mid i>j\geq 1\}
            \end{equation*}

            Este lenguaje no cumple la propiedad prefijo, ya que $a^3b^2, a^3b\in L$. No obstante, es determinista.
            \item El lenguaje $L = \{0^{i}1^j0^{i}1^j : i, j \geq 1\}$ es independiente del contexto.
            
            Falso, no es independiente del contexto, y se puede demostrar con el lema de bombeo considerando la palabra $0^{n}1^{n}0^{n}1^{n}$.
            \item Si el complementario de un lenguaje es finito, entonces el lenguaje es regular.
            
            Sí. Sea $L$ un lenguaje y $\ol{L}$ su complementario. Si $\ol{L}$ es finito, entonces $\ol{L}$ es regular. Por tanto, como los lenguajes regulares son cerrados por complemento, entonces $L=\ol{\ol{L}}$ es regular.
            \item Si un lenguaje $L$ es regular, entonces el lenguaje $L^{-1}$ es también regular.
            
            Sí. Si $L$ es regular, entonces $L^{-1}$ es regular, ya que los lenguajes regulares son cerrados por inversión. Se puede demostrar invirtiendo el autómata e intercambiando los estados finales por iniciales y viceversa. Si el primero tenía más de un estado final, entonces se añade un nuevo estado inicial que, mediante transiciones nulas, llega a los antiguos estados finales.
            \item Si $rr = r$ y $\varepsilon$ está en el lenguaje de $r$, entonces $r^* = r$.
            
            Sea $L$ el lenguaje generado por $r$. Si $rr=r$, entonces $L^2=L$. Por tanto, por inducción se puede demostrar que $L^n=L$ para todo $n\geq 1$. Por tanto, tenemos que:
            \begin{equation*}
                L^*=\bigcup_{n\geq 0}L^n= L^0\cup \left(\bigcup_{n\geq 1}L^n\right)=L^0\cup L=\{\veps\}\cup L=L.
            \end{equation*}
            donde en la última igualdad se ha usado que $\veps\in L$. Por tanto, $r^*=r$ es verdadero.
            \item Si un AFD tiene $n$ estados y acepta una palabra de longitud $n$, entonces el lenguaje aceptado es infinito.
            
            Es verdadero por una idea similar a la demostración del Lema de Bombeo. Al leer $n$ símbolos, hambremos pasado por $n+1$ estados, por lo que habremos pasado por un estado dos veces. Por tanto, podemos repetir el ciclo que hemos hecho para obtener palabras de longitud $n+k\cdot \text{longitud del ciclo}$, que serán aceptadas por el autómata.
            \item Si un autómata finito no tiene una pareja de estados indistinguibles, entonces es siempre minimal.
            
            Falso, ya que puede tener estados inalcanzables.
            \item Una palabra generada por una gramática independiente del contexto tiene siempre una única derivación por la izquierda.
            
            Falso, ya que aunque siempre me obliga a elegir una variable, no me obliga a elegir qué producción usar en cada paso, por lo que se pueden diferenciar las derivaciones.
            \item Para aplicar el algoritmo para pasar una gramática a forma normal de Greibach es necesario que la gramática ya esté en forma normal de Chomsky.
            
            No, no es necesario, aunque estas condiciones se garantizan si la gramática está en forma normal de Chomsky. No obstante, la regla:
            \begin{equation*}
                P\rightarrow ABCD
            \end{equation*}
            es válida para aplicar el algoritmo de Greibach, pero no está en forma normal de Chomsky.
            \item Si en una gramática independiente del contexto las únicas posibles derivaciones de $A$ son $A \to ACD$ y $A \to aD$, entonces si se aplica la función $\text{ELIMINA}_2$ del algoritmo de Greibach, tenemos que añadir una nueva variable $B_A$, resultando en una gramática en la que la única derivación de $A$ es $A \to aDB_A$.
            
            No, ya que la producción $A\rightarrow aD$ no se elimina.
            \item Si una gramática está en forma normal de Greibach, entonces una palabra de longitud $n$ se deriva siempre en $n + 1$ pasos.
            
            Falso, ya que se obtendrá siempre en $n$ pasos de derivación.
            \item Si al aplicar el algoritmo de Early, tenemos que $\texttt{REGISTROS}[j] = \emptyset$ después de aplicar el paso de avance para este valor de $j$, entonces la palabra no es generada por la gramática.
            
            Cierto, ya que esto indica que no puedes generar ninguna palabra cuyos $j$ primeros símbolos coincidan con dicha palabra.
        \end{enumerate}
    \end{ejercicio}

    \begin{ejercicio}[2.5 puntos]
        Construir un autómata finito determinista minimal que acepte el conjunto de palabras sobre el alfabeto $\{0, 1\}$ tales que la diferencia entre el número de $0$'s y el número de $1$'s es múltiplo de $3$. Construir una expresión regular para ese mismo lenguaje usando cualquiera de los procedimientos vistos en clase.

        El AFD que acepta el lenguaje se encuentra en la Figura~\ref{fig:afd}.
        \begin{figure}
            \centering
            \begin{tikzpicture}
                \node[state, initial, accepting] (q0) {$q_0$};
                \node[state, below right of=q0] (q2) {$q_2$};
                \node[state, above right of=q2] (q1) {$q_1$};

                \draw   (q0) edge[above] node{0} (q1)
                        (q1) edge[above] node{0} (q2)
                        (q2) edge[above] node{0} (q0)
                        (q0) edge[bend right, below] node{1} (q2)
                        (q2) edge[bend right, below] node{1} (q1)
                        (q1) edge[bend right, above] node{1} (q0);
            \end{tikzpicture}
            \caption{Autómata finito determinista que acepta el lenguaje de palabras sobre el alfabeto $\{0, 1\}$ tales que la diferencia entre el número de $0$'s y el número de $1$'s es múltiplo de $3$.}
            \label{fig:afd}
        \end{figure}

        La expresión regular que acepta el lenguaje resulta de resolver el sistema de ecuaciones:
        \begin{equation*}
            \begin{aligned}
                q_0 &= 0q_1 + 1q_2 + \veps, \\
                q_1 &= 0q_2 + 1q_0, \\
                q_2 &= 0q_0 + 1q_1.
            \end{aligned}
        \end{equation*}

        Sustituyendo el valor de $q_2$ en la segunda ecuación, obtenemos:
        \begin{align*}
            q_1 &= 0q_2 + 1q_0
            =\\&= 0[0q_0 + 1q_1] + 1q_0
            =\\&= 00q_0 + 01q_1 + 1q_0
            =\\&= (01)^*[00+1]q_0
        \end{align*}

        Sustituyendo el valor de $q_1$ en la primera ecuación, obtenemos:
        \begin{align*}
            q_0 &= 0q_1 + 1q_2 + \veps
            =\\&= 0q_1 + 1[0q_0 + 1q_1] + \veps
            =\\&= (0+11)q_1 + 10q_0 + \veps
            =\\&= (0+11)(01)^*[00+1]q_0 + 10q_0 + \veps
            =\\&= [(0+11)(01)^*[00+1] + 10]q_0 + \veps
            =\\&= [(0+11)(01)^*[00+1] + 10]^*
        \end{align*}
    \end{ejercicio}

    \begin{ejercicio}[2.5 puntos]
        Sea la gramática independiente del contexto:
        \[
            \begin{aligned}
                S &\to aSb \mid bY \mid Ya, \\
                Y &\to bY \mid aY \mid a \mid b.
            \end{aligned}
        \]
        Determina usando el algoritmo de Early si las siguientes palabras son generadas: $aabb$, $abbb$.

        Calculamos los conjuntos de registros para la palabra $aabb$:
        \begin{align*}
            \texttt{REGISTROS}[0] &= \{(0,0,S,\veps,aSb),(0,0,S,\veps,bY),(0,0,S,\veps,Ya), (0,0,Y,\veps,bY),\\&\qquad (0,0,Y,\veps,aY),(0,0,Y,\veps,a),(0,0,Y,\veps,b)\}, \\
            \texttt{REGISTROS}[1] &= \{(0,1,S,a,Sb),(0,1,Y,a,Y), (0,1,Y,a,\veps),(0,1,S,Y,a),(1,1,S,\veps,aSb),\\&\qquad (1,1,S,\veps,bY),(1,1,S,\veps,Ya),(1,1,Y,\veps,bY),(1,1,Y,\veps,aY),(1,1,Y,\veps,a),\\&\qquad (1,1,Y,\veps,b)\}, \\
            \texttt{REGISTROS}[2] &= \{(0,2,S,Ya,\veps),(1,2,S,a,Sb),(1,2,Y,a,Y),(1,2,Y,a,\veps),(0,2,Y,aY,\veps),\\&\qquad(1,2,S,Y,a),(0,2,S,Y,a),(2,2,S,\veps,aSb),(2,2,S,\veps,bY),(2,2,S,\veps,Ya),\\&\qquad(2,2,Y,\veps,bY),(2,2,Y,\veps,aY),(2,2,Y,\veps,a),(2,2,Y,\veps,b)\}, \\
            \texttt{REGISTROS}[3] &= \{(2,3,S,b,Y), (2,3,Y,b,Y), (2,3,Y,b,\veps),(1,3,Y,aY,\veps),(2,3,S,Y,a),\\&\qquad(0,3,Y,aY,\veps),(1,3,S,Y,a),(0,3,S,Y,a),,(3,3,Y,\veps,bY),(3,3,Y,\veps,aY),\\&\qquad(3,3,Y,\veps,a),(3,3,Y,\veps,b)\}, \\
            \texttt{REGISTROS}[4] &= \{(3,4,Y,b,Y), (3,4,Y,b,\veps),(2,4,S,bY,\veps),(2,4,Y,bY,\veps),(1,4,S,aS,b),\\&\qquad(1,4,Y,aY,\veps),(2,4,S,Y,a),(0,4,Y,aY,\veps),(1,4,S,Y,a),(0,4,S,Y,a)\}
        \end{align*}

        Como $\nexists \alpha\in (V\cup T)^*$ tal que $(0,4,S,\alpha,\veps)$, entonces la palabra $aabb$ no es generada por la gramática.
        Aplicamos ahora el algoritmo de Early para la palabra $abbb$:
        \begin{align*}
            \texttt{REGISTROS}[0] &= \{(0,0,S,\veps,aSb),(0,0,S,\veps,bY),(0,0,S,\veps,Ya), (0,0,Y,\veps,bY),\\&\qquad (0,0,Y,\veps,aY),(0,0,Y,\veps,a),(0,0,Y,\veps,b)\}, \\
            \texttt{REGISTROS}[1] &= \{(0,1,S,a,Sb),(0,1,Y,a,Y), (0,1,Y,a,\veps),(0,1,S,Y,a),(1,1,S,\veps,aSb),\\&\qquad (1,1,S,\veps,bY),(1,1,S,\veps,Ya),(1,1,Y,\veps,bY),(1,1,Y,\veps,aY),(1,1,Y,\veps,a),\\&\qquad (1,1,Y,\veps,b)\}, \\
            \texttt{REGISTROS}[2] &= \{(1,2,S,b,Y),(1,2,Y,b,Y),(1,1,Y,b,\veps),(0,2,Y,a,\veps),(1,2,S,Y,a),\\&\qquad (0,2,S,Y,a),(2,2,Y,\veps,bY),(2,2,Y,\veps,aY),(2,2,Y,\veps,a),(2,2,Y,\veps,b)\}, \\
            \texttt{REGISTROS}[3] &= \{(2,3,Y,b,Y), (2,3,Y,b,\veps),(1,3,S,bY,\veps),(1,3,Y,bY,\veps),(0,3,S,aS,b),\\&\qquad(0,3,Y,aY,\veps),(1,3,S,Y,a),(0,3,S,Y,a), (3,3,Y,\veps,bY),(3,3,Y,\veps,aY),\\&\qquad(3,3,Y,\veps,a),(3,3,Y,\veps,b)\}, \\
            \texttt{REGISTROS}[4] &= \{(0,4,S,aSb,\veps),(3,4,Y,b,Y), (3,4,Y,b,\veps),(2,4,Y,bY,\veps),(1,4,S,bY,\veps),\\&\qquad(1,4,Y,bY,\veps),(0,4,Y,aY,\veps),(1,4,S,Y,a),(0,4,S,Y,a)\}
        \end{align*}
        Por tanto, la palabra $abbb$ es generada por la gramática, ya que $(0,4,S,aSb,\veps)$.
    \end{ejercicio}

    \begin{ejercicio}[2.5 puntos]
        Determinar si los siguientes lenguajes son regulares y/o independientes del contexto. Justifica las respuestas.
        \begin{enumerate}
            \item El lenguaje complementario del generado por la gramática del ejercicio anterior.
            
            Este lenguaje es:
            \begin{align*}
                \cc{L}(G)&=\{a^ibub^i\mid i\in \bb{N}\cup \{0\},u\in \{a,b\}^+\}
                \cup \{a^iuab^i\mid i\in \bb{N}\cup \{0\},u\in \{a,b\}^+\}
                =\\&= \{a^iub^i\mid i\in \bb{N}\cup \{0\},u\in \{a,b\}^*,|u|\geq 2\}
                \setminus \{a^i aub b^i\mid i\in \bb{N}\cup \{0\},u\in \{a,b\}^*\}
                =\\&= \{a^iub^i\mid i\in \bb{N}\cup \{0\},u\in \{a,b\}^*,|u|\geq 2\}
                \setminus \{a^i u b^i\mid i\in \bb{N}\setminus \{0\},u\in \{a,b\}^*\}
            \end{align*}

            % // TODO: Complementario
            \item El lenguaje sobre el alfabeto $\{0, 1, 2, 3\}$ de las palabras en las que el número de $0$'s es igual al número de $1$'s y el número de $2$'s es igual al número de $3$'s.
            
            Veamos que no es independiente del contexto. Para cada $n\in \bb{N}$, consideramos la palabra $z=0^n2^n1^n3^n\in L$, con $|z|=4n\geq n$.
            Toda descompisición de $z$ en $uvwxy$ con $|vwx|\leq n$ y $|vx|\geq 1$ debe cumplir que $vwx$ esté contenido en una o dos de las cuatro partes de $z$, pero no en tres. Por tanto, al bombear con $i=2$ se obtiene una palabra que no está en $L$. Por tanto, $L$ no es independiente del contexto.
            \item Palabras sobre el alfabeto $\{0, 1\}$ que comienzan y terminan con el mismo símbolo.
            
            Es regular, con expresión regular:
            \begin{equation*}
                0 + 1 + \veps + 1(0+1)^*1 + 0(0+1)^*0
            \end{equation*}
            \item Palabras $u \in \{0, 1\}^*$ tales que si $|u| \leq 100$, entonces $u$ es un palíndromo y si $|u| \geq 50$, entonces no contiene la subcadena $0110$.
            
            Definimos los siguientes lenguajes:
            \begin{align*}
                L_1 &= \{u\in \{0,1\}^*\mid |u|< 50\text{ y }u\text{ es palíndromo}\}, \\
                L_2 &= \{u\in \{0,1\}^*\mid 50\leq |u|\leq 100\text{ y }u\text{ es palíndromo y no contiene }0110\}, \\
                L_3 &= \{u\in \{0,1\}^*\mid 100< |u|\text{ y }u\text{ no contiene }0110\}.
            \end{align*}

            Tenemos que el lenguaje dado es $L=L_1\cup L_2\cup L_3$, donde los dos primeros son regulares por ser finitos y el tercero sabemos que es regular.
        \end{enumerate}
    \end{ejercicio}

    \begin{ejercicio}[1 punto]~
        \begin{observacion}
            Este ejercicio es voluntario y sirve para subir un punto adicional en la parte de teoría.
        \end{observacion}
        Si $L$ es un lenguaje, entonces se define $\text{NOPREFIJO}(L)$ como el lenguaje de palabras $u \in L$ tales que ningún prefijo propio de $u$ está en $L$ y $\text{NOEXTENSION}(L)$ como la clase de palabras $u \in L$ tales que $u$ no es un prefijo propio de cualquier otra palabra de $L$. Demostrar que la clase de lenguajes independientes del contexto no es cerrada por las transformaciones $\text{NOPREFIJO}$ y $\text{NOEXTENSION}$.
    \end{ejercicio}
\end{document}
