\documentclass[12pt]{article}

\input{../../_assets/preambulo.tex}
% Para poder incluir árboles
\usepackage{forest}
\usepackage{booktabs}

\usepackage{hhline}
\newcommand{\cell}[1]{\multicolumn{1}{|c|}{$#1$}}

% Para poder añadir autómatas
% https://www3.nd.edu/~kogge/courses/cse30151-fa17/Public/other/tikz_tutorial.pdf
\usetikzlibrary{automata} %, positioning, arrows}
\tikzset{
    -Stealth,
    node distance=3cm, % specifies the minimum distance between two nodes. Change if necessary.
    every state/.style={thick, fill=gray!10, shape=ellipse}, % sets the properties for each ’state’ node
    initial text=$ $, % sets the text that appears on the start arrow
    % Un tipo de nodo, que es error, que lo pone rojo
    error/.style={thick, fill=red!20},
}


\begin{document}

    % 1. Foto de fondo
    % 2. Título
    % 3. Encabezado Izquierdo
    % 4. Color de fondo
    % 5. Coord x del titulo
    % 6. Coord y del titulo
    % 7. Fecha

    
    \input{../../_assets/portada}
    \portadaExamen{etsiitA4.jpg}{Modelos de\\Computación\\Examen XIII}{MC. Examen XIII}{MidnightBlue}{-8}{28}{2024-2025}{Arturo Olivares Martos}

    \begin{description}
        \item[Asignatura] Modelos de Computación
        \item[Curso Académico] 2019-20.
        \item[Grado] Doble Grado en Ingeniería Informática y Matemáticas o ADE.
        \item[Grupo] Único.
        %\item[Profesor] Serafín Moral García.
        \item[Descripción] Convocatoria Extraordinaria.
        \item[Fecha] 30 de enero de 2020.
        \item[Duración] $3$ horas.    
    \end{description}
    \newpage

    \begin{ejercicio}[2.5 puntos]
        Indicar si son verdaderas o falsas las siguientes afirmaciones:
        \begin{enumerate}
            \item Si $L$ es un lenguaje, entonces $L\emptyset = L$.
            \item Si $L$ es un lenguaje y $\varepsilon \notin L$, entonces $L^+ = L^*$.
            
            \item La aplicación $f : A^* \to A^*$, dada por $f(u) = uu^{-1}$ es un homomorfismo.
            \item Si $r_1$ y $r_2$ son expresiones regulares, entonces $(r_1^* + r_2^*)^* = (r_1 + r_2)^*$.
            
            \item Si $M$ es un autómata no determinista con transiciones nulas, entonces si $\operatorname{Cl}$ es el operador clausura aplicado a un conjunto de estados, tenemos que, para cualquier subconjunto de estados $P$, $\operatorname{Cl}(P) = \operatorname{Cl}(\operatorname{Cl}(P))$.
            \item El conjunto de palabras sobre $\{0, 1\}$ que interpretadas como un número en binario son múltiplos de $13$ constituyen un lenguaje regular.
            \item El conjunto de palabras sobre un alfabeto cualquiera cuya longitud es un número primo constituyen un lenguaje independiente del contexto.
            \item Existe un algoritmo para comprobar si una gramática independiente del contexto es ambigua.
            \item Existe un algoritmo para comprobar si el lenguaje generado por una gramática independiente del contexto es finito.
            \item El complementario de un lenguaje independiente del contexto determinista es siempre determinista.
        \end{enumerate}
    \end{ejercicio}

    \begin{ejercicio}[2.5 puntos]
        Encontrar autómatas con pila deterministas que acepten los siguientes lenguajes sobre el alfabeto $\{0, 1\}$.
        \begin{enumerate}
            \item Palabras en las que el número de ceros es mayor o igual al doble del número de unos.
            \item $L = \{0^{i}1^{i+j}0^j \mid i, j \geq 1\}$.
        \end{enumerate}
    \end{ejercicio}

    \begin{ejercicio}[2.5 puntos]
        Dar expresiones regulares para los siguientes lenguajes sobre el alfabeto $\{0, 1\}$.
        \begin{enumerate}
            \item Palabras que no contienen la subcadena $010$.
            \item Palabras de longitud impar en las que el símbolo central es un $0$.
            \item Palabras que no empiezan por $011$.
        \end{enumerate}
    \end{ejercicio}

    \begin{ejercicio}[2.5 puntos]
        Pasa a forma normal de Greibach la siguiente gramática:
        \begin{align*}
            S &\to S + T \mid T, \\
            T &\to T * F \mid F, \\
            F &\to (E) \mid a \mid b.
        \end{align*}
        Las variables son $S$, $T$, $F$ y los símbolos terminales $(, ), *, +, a, b$.
    \end{ejercicio}



    \newpage
    \setcounter{ejercicio}{0}
    \section*{Soluciones}

    \begin{ejercicio}[2.5 puntos]
        Indicar si son verdaderas o falsas las siguientes afirmaciones:
        \begin{enumerate}
            \item Si $L$ es un lenguaje, entonces $L\emptyset = L$.
            
            Tenemos que:
            \begin{equation*}
                L\emptyset = L\Longleftrightarrow L=\emptyset
            \end{equation*}

            Por tanto, por norma general, es falso.
            \item Si $L$ es un lenguaje y $\varepsilon \notin L$, entonces $L^+ = L^*$.
            
            Falso, ya que:
            \begin{equation*}
                L^+=\bigcup_{i\geq 1}L^i\neq \bigcup_{i\geq 0}L^i = L^*
            \end{equation*}
            
            \item La aplicación $f : A^* \to A^*$, dada por $f(u) = uu^{-1}$ es un homomorfismo.
            
            Falso. Por ejemplo, dado $A=\{0,1\}$, tenemos que:
            \begin{align*}
                f(0)&= 00\\
                f(1)&= 11\\
                f(01)&= 0110\neq 0011 = f(0)f(1)
            \end{align*}

            \item Si $r_1$ y $r_2$ son expresiones regulares, entonces $(r_1^* + r_2^*)^* = (r_1 + r_2)^*$.
            
            Verdadero.
            \item Si $M$ es un autómata no determinista con transiciones nulas, entonces si $\operatorname{Cl}$ es el operador clausura aplicado a un conjunto de estados, tenemos que, para cualquier subconjunto de estados $P$, $\operatorname{Cl}(P) = \operatorname{Cl}(\operatorname{Cl}(P))$.
            

            Cierto.
            \item El conjunto de palabras sobre $\{0, 1\}$ que interpretadas como un número en binario son múltiplos de $13$ constituyen un lenguaje regular.
            
            Cierto, ya que podemos dar un autómata (que de hecho tendrá 13 estados).
            \item El conjunto de palabras sobre un alfabeto cualquiera cuya longitud es un número primo constituyen un lenguaje independiente del contexto.
            
            Falso, hemos visto que:
            \begin{equation*}
                L=\{a^n\mid n\text{ es primo}\}
            \end{equation*}
            no es independiente del contexto.
            \item Existe un algoritmo para comprobar si una gramática independiente del contexto es ambigua.
            
            No, es un problema indecidible.
            \item Existe un algoritmo para comprobar si el lenguaje generado por una gramática independiente del contexto es finito.
            
            Sí, es cierto y se ha visto en Teoría.
            \item El complementario de un lenguaje independiente del contexto determinista es siempre determinista.
            
            Sí, es cierto. Para un lenguaje independiente del contexto en general no, pero si es determinista sí.
        \end{enumerate}
    \end{ejercicio}

    \begin{ejercicio}[2.5 puntos]
        Encontrar autómatas con pila deterministas que acepten los siguientes lenguajes sobre el alfabeto $\{0, 1\}$.
        \begin{enumerate}
            \item Palabras en las que el número de ceros es mayor o igual al doble del número de unos.
            
            Sea el autómata $M$ que acepta el lenguaje por el criterio de estados finales, donde:
            \begin{equation*}
                M=(\{q_0,q,q',q_f\},\{0,1\},\{Z_0,0,1,1_i\},\delta,q_0,Z_0,\{q_0,q_f\})
            \end{equation*}
            donde la función de transición $\delta$ está dada por:
            \begin{align*}
                \delta(q_0,0,Z_0)&=\{(q_f,00Z_0)\}\\
                \delta(q_0,1,Z_0)&=\{(q,1_iZ_0)\}\\\\
                \delta(q,1,1)&=\{(q,11)\}\\
                \delta(q,0,1)&=\{(q',\veps)\}\\
                \delta(q,1,1_i)&=\{(q,11_i)\}\\
                \delta(q,0,1_i)&=\{(q_f,0)\}\\ \\
                \delta(q',\veps,1_i)&=\{(q_f,\veps)\} \\
                \delta(q',\veps,1)&=\{(q,\veps)\}\\\\
                \delta(q_f,0,Z_0)&=\{(q_f,00Z_0)\} \\
                \delta(q_f,1,Z_0)&=\{(q,1_iZ_0)\}\\
                \delta(q_f,0,0)&=\{(q_f,000)\}\\
                \delta(q_f,1,0)&=\{(q',\veps)\}
            \end{align*}
            \item $L = \{0^{i}1^{i+j}0^j \mid i, j \geq 1\}$.
            
            Sea el autómata $M$ que acepta el lenguaje por ambos criterios (tanto estados finales como pila vacía), donde:
            \begin{equation*}
                M=(\{q_0,q_1,q_2,q_f\},\{0,1\},\{Z_0,X,Y\},\delta,q_0,Z_0,\{q_f\})
            \end{equation*}
            donde la función de transición $\delta$ está dada por:
            \begin{align*}
                \delta(q_0,0,Z_0)&=\{(q_0,XZ_0)\}\\
                \delta(q_0,0,X)&=\{(q_0,XX)\}\\
                \delta(q_0,1,X)&=\{(q_1,\veps)\}\\
                \delta(q_1,1,X)&=\{(q_1,\veps)\}\\
                \delta(q_1,1,Z_0)&=\{(q_1,Y)\}\\
                \delta(q_1,1,Y)&=\{(q_1,YY)\}\\
                \delta(q_1,0,Y)&=\{(q_2,\veps)\}\\
                \delta(q_2,0,Y)&=\{(q_2,\veps)\}\\
                \delta(q_2,\veps,Z_0)&=\{(q_f,\veps)\}
            \end{align*}
        \end{enumerate}
    \end{ejercicio}

    \begin{ejercicio}[2.5 puntos]
        Dar expresiones regulares para los siguientes lenguajes sobre el alfabeto $\{0, 1\}$.
        \begin{enumerate}
            \item Palabras que no contienen la subcadena $010$.
            
            El AFD que acepta este lenguaje está en la Figura~\ref{fig:afd010}.
            \begin{figure}
                \centering
                \begin{tikzpicture}
                    \node[state, initial, accepting] (q_0) {$q_0$};
                    \node[state, right of=q_0, accepting] (q_1) {$q_1$};
                    \node[state, right of=q_1, accepting] (q_2) {$q_2$};
                    \node[state, right of=q_2] (q_3) {$q_3$};

                    \draw   (q_0) edge[loop above] node{1} (q_0)
                            (q_0) edge[above] node{0} (q_1)
                            (q_1) edge[loop above] node{0} (q_1)
                            (q_1) edge[above] node{1} (q_2)
                            (q_2) edge[below, bend left] node{1} (q_0)
                            (q_2) edge[above] node{0} (q_3)
                            (q_3) edge[loop above] node{0,1} (q_3);
                \end{tikzpicture}
                \caption{AFD que acepta el lenguaje de palabras que no contienen la subcadena $010$.}
                \label{fig:afd010}
            \end{figure}

            Planteamos el sistema de ecuaciones:
            \begin{align*}
                q_0&=1q_0 + 0q_1 + \veps\\
                q_1&=0q_1 + 1q_2 + \veps\\
                q_2&=1q_0 + 0q_3 + \veps\\
                q_3&=(0+1)q_3
            \end{align*}

            Por el Lema de Arden, tenemos que $q_3\equiv (0+1)^*\emptyset=\emptyset$, luego:
            \begin{align*}
                q_0&=1q_0 + 0q_1 + \veps\\
                q_1&=0q_1 + 1q_2 + \veps\\
                q_2&=1q_0 + \veps\\
            \end{align*}

            Sustituyendo  el valor de $q_2$ en $q_1$:
            \begin{align*}
                q_1&=0q_1 + 1[1q_0 + \veps] + \veps\\
                &= 0^*\left[11q_0+1+\veps\right]
            \end{align*}

            Sustituyendo el valor de $q_1$ en $q_0$:
            \begin{align*}
                q_0&=1q_0 + 00^*\left[11q_0+1+\veps\right] + \veps\\
                &= (1+0^+11)q_0 + \left[0^+1 + 0^+ + \veps\right] \\
                &= (1+0^+11)^*\left[0^+1 + 0^+ + \veps\right]
            \end{align*}

            Por tanto, la expresión regular es $(1+0^+11)^*\left[0^+1 + 0^+ + \veps\right]$.
            \item Palabras de longitud impar en las que el símbolo central es un $0$.
            
            Demostraremos mediante el lema de bombeo que no es regular, por lo que no podremos encontrar dicha expresión regular.
            Para cada $n\in \bb{N}$, tomamos la palabra $z=1^{n}01^{n}$, que cumple que $|z|=2n+1\geq n$. Además, $2n+1$ es impar y el símbolo central es un $0$, luego $z\in L$.
            Para toda descomposición $z=uvw$ con $|uv|\leq n$ y $|v|\geq 1$, tenemos que:
            \begin{equation*}
                u=1^k,\quad v=1^l,\quad w=1^{n-k-l}01^{n}\qquad 0\leq k+l\leq n,\quad l\geq 1
            \end{equation*}

            Bombeando con $i=2$, tenemos que:
            \begin{equation*}
                uv^2w=1^{k}1^{2l}1^{n-k-l}01^{n}=1^{n+l}01^{n}\notin L
            \end{equation*}
            ya que $n+l\neq n$, luego el $0$ no es el símbolo central.
            \item Palabras que no empiezan por $011$.
            
            Veamos en primer momento todas las palabras $u\in \{0,1\}^*$ tal que $|u|=3$:
            \begin{equation*}
                000, 001, 010, 011, 100, 101, 110, 111
            \end{equation*}
            
            La expresión regular de las palabras que no empiezan por $011$ es:
            \begin{equation*}
                (000+001+010+100+101+110+111)^+(0+1)^* + 00 + 01 + 10 + 11 + 0 + 1 + \veps
            \end{equation*}
        \end{enumerate}
    \end{ejercicio}

    \begin{ejercicio}[2.5 puntos]
        Pasa a forma normal de Greibach la siguiente gramática:
        \begin{align*}
            S &\to S + T \mid T, \\
            T &\to T * F \mid F, \\
            F &\to (E) \mid a \mid b.
        \end{align*}
        Las variables son $S$, $T$, $F$ y los símbolos terminales $(, ), *, +, a, b$.\\
        
        El símbolo $E$ no nos especifican qué es, por lo que puede ser una variable o que haya sido un error y se trate de una $S$. Lo resolveremos de ambas formas.
        \begin{description}
            \item[Si en realidad es una $S$:]~\\
            En primer lugar, y como no hay producciones nulas, eliminamos las producciones unitarias.
        Sea $H$ el conjunto de pares $(A,B)$ de forma que $A\stackrel{*}{\Rightarrow} B$.
        \begin{equation*}
            H=\{(S,T),(T,F),(S,F)\}
        \end{equation*}

        Por tanto, eliminamos las producciones unitarias:
        \begin{align*}
            S &\to S + T \mid T * F \mid (S) \mid a \mid b, \\
            T &\to T * F \mid (S) \mid a \mid b, \\
            F &\to (S) \mid a \mid b.
        \end{align*}

        Pasamos ahora la gramática a la forma necesaria para poder aplicar el algoritmo de Greibach.
        \begin{align*}
            S &\to S C_+ T \mid T C_* F \mid (SC_) \mid a \mid b, \\
            T &\to T C_* F \mid (SC_) \mid a \mid b, \\
            F &\to (SC_) \mid a \mid b,\\
            C_+ &\to +,\\
            C_* &\to *,\\
            C_{)} &\to~),\\
        \end{align*}

        Cambiamos ahora la sumeración de las variables en las producciones. Esta numeración va a ser:
        \begin{equation*}
            A_1=S,\qquad A_2=T,\qquad A_3=F,\qquad A_4=C_+,\qquad A_5=C_*,\qquad A_6=C_{)}
        \end{equation*}

        De esta forma, tenemos que la gramática es:
        \begin{align*}
            A_1 &\to A_1 A_4 A_2 \mid A_2 A_5 A_3 \mid (A_1 A_6 \mid a \mid b, \\
            A_2 &\to A_2 A_5 A_3 \mid (A_1 A_6 \mid a \mid b, \\
            A_3 &\to (A_1 A_6 \mid a \mid b,\\
            A_4 &\to +,\\
            A_5 &\to *,\\
            A_6 &\to~),
        \end{align*}

        Comenzamos con la primera parte del algoritmo. Aplicamos $\text{Elimina}_2(A_1)$:
        \begin{align*}
            A_1 &\to A_2 A_5 A_3 \mid (A_1 A_6 \mid a \mid b\mid A_2 A_5 A_3 B_{A_1} \mid (A_1 A_6 B_{A_1} \mid a B_{A_1} \mid b B_{A_1}, \\
            B_{A_1} &\to A_1 A_4 A_2 \mid A_1 A_4 A_2 B_{A_1} \\
            A_2 &\to A_2 A_5 A_3 \mid (A_1 A_6 \mid a \mid b, \\
            A_3 &\to (A_1 A_6 \mid a \mid b,\\
            A_4 &\to +,\\
            A_5 &\to *,\\
            A_6 &\to~),
        \end{align*}

        Aplicamos ahora $\text{Elimina}_2(A_2)$:
        \begin{align*}
            A_1 &\to A_2 A_5 A_3 \mid (A_1 A_6 \mid a \mid b\mid A_2 A_5 A_3 B_{A_1} \mid (A_1 A_6 B_{A_1} \mid a B_{A_1} \mid b B_{A_1}, \\
            B_{A_1} &\to A_1 A_4 A_2 \mid A_1 A_4 A_2 B_{A_1} \\
            A_2 &\to (A_1 A_6 \mid a \mid b \mid (A_1 A_6 B_{A_2} \mid  a B_{A_2} \mid  b B_{A_2} \\
            B_{A_2} & \to A_2 A_5 A_3 \mid A_2 A_5 A_3 B_{A_2}\\
            A_3 &\to (A_1 A_6 \mid a \mid b,\\
            A_4 &\to +,\\
            A_5 &\to *,\\
            A_6 &\to~),
        \end{align*}

        Una vez en la segunda parte del algoritmo, comenzamos aplicando la función $\text{Elimina}_1(A_1\rightarrow A_2 A_5 A_3)$:
        \begin{align*}
            A_1 &\to (A_1 A_6 \mid a \mid b\mid A_2 A_5 A_3 B_{A_1} \mid (A_1 A_6 B_{A_1} \mid a B_{A_1} \mid b B_{A_1} \mid \\ & \hspace{1cm} \mid (A_1 A_6A_5A_3 \mid aA_5A_3 \mid bA_5A_3 \mid (A_1 A_6 B_{A_2}A_5A_3 \mid  a B_{A_2}A_5A_3 \mid  b B_{A_2}A_5A_3 \\
            B_{A_1} &\to A_1 A_4 A_2 \mid A_1 A_4 A_2 B_{A_1} \\
            A_2 &\to (A_1 A_6 \mid a \mid b \mid (A_1 A_6 B_{A_2} \mid  a B_{A_2} \mid  b B_{A_2} \\
            B_{A_2} & \to A_2 A_5 A_3 \mid A_2 A_5 A_3 B_{A_2}\\
            A_3 &\to (A_1 A_6 \mid a \mid b,\\
            A_4 &\to +,\\
            A_5 &\to *,\\
            A_6 &\to~),
        \end{align*}

        Aplicamos ahora $\text{Elimina}_1(A_1\rightarrow A_2 A_5 A_3 B_{A_1})$:
        \begin{align*}
            \hspace{-2.5cm}A_1 &\to (A_1 A_6 \mid a \mid b\mid (A_1 A_6 B_{A_1} \mid a B_{A_1} \mid b B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6A_5A_3 \mid aA_5A_3 \mid bA_5A_3 \mid (A_1 A_6 B_{A_2}A_5A_3 \mid  a B_{A_2}A_5A_3 \mid  b B_{A_2}A_5A_3
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6 A_5 A_3 B_{A_1} \mid aA_5 A_3 B_{A_1} \mid bA_5 A_3 B_{A_1} \mid (A_1 A_6 B_{A_2}A_5 A_3 B_{A_1} \mid  a B_{A_2}A_5 A_3 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid  b B_{A_2}A_5 A_3 B_{A_1} \\
            \hspace{-2.5cm}B_{A_1} &\to A_1 A_4 A_2 \mid A_1 A_4 A_2 B_{A_1} \\
            \hspace{-2.5cm}A_2 &\to (A_1 A_6 \mid a \mid b \mid (A_1 A_6 B_{A_2} \mid  a B_{A_2} \mid  b B_{A_2} \\
            \hspace{-2.5cm}B_{A_2} & \to A_2 A_5 A_3 \mid A_2 A_5 A_3 B_{A_2}\\
            \hspace{-2.5cm}A_3 &\to (A_1 A_6 \mid a \mid b,\\
            \hspace{-2.5cm}A_4 &\to +,\\
            \hspace{-2.5cm}A_5 &\to *,\\
            \hspace{-2.5cm}A_6 &\to~),
        \end{align*}

        Aplicamos ahora $\text{Elimina}_1(B_{A_1}\rightarrow A_1 A_4 A_2)$:
        \begin{align*}
            \hspace{-2.5cm}A_1 &\to (A_1 A_6 \mid a \mid b\mid (A_1 A_6 B_{A_1} \mid a B_{A_1} \mid b B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6A_5A_3 \mid aA_5A_3 \mid bA_5A_3 \mid (A_1 A_6 B_{A_2}A_5A_3 \mid  a B_{A_2}A_5A_3 \mid  b B_{A_2}A_5A_3
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6 A_5 A_3 B_{A_1} \mid aA_5 A_3 B_{A_1} \mid bA_5 A_3 B_{A_1} \mid (A_1 A_6 B_{A_2}A_5 A_3 B_{A_1} \mid  a B_{A_2}A_5 A_3 B_{A_1} 
                \mid \\ & \hspace{0.5cm} \mid b B_{A_2}A_5 A_3 B_{A_1} \\
            \hspace{-2.5cm}B_{A_1} &\to A_1 A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6 A_4 A_2 \mid aA_4 A_2 \mid bA_4 A_2\mid (A_1 A_6 B_{A_1}A_4 A_2 \mid a B_{A_1}A_4 A_2 \mid b B_{A_1}A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6A_5A_3A_4 A_2 \mid aA_5A_3 A_4 A_2\mid bA_5A_3A_4 A_2 \mid (A_1 A_6 B_{A_2}A_5A_3 A_4 A_2\mid  a B_{A_2}A_5A_3A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid b B_{A_2}A_5A_3A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6 A_5 A_3 B_{A_1}A_4 A_2 \mid aA_5 A_3 B_{A_1}A_4 A_2 \mid bA_5 A_3 B_{A_1}A_4 A_2 \mid (A_1 A_6 B_{A_2}A_5 A_3 B_{A_1}A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid  a B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 \mid b B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 \\
            \hspace{-2.5cm}A_2 &\to (A_1 A_6 \mid a \mid b \mid (A_1 A_6 B_{A_2} \mid  a B_{A_2} \mid  b B_{A_2} \\
            \hspace{-2.5cm}B_{A_2} & \to A_2 A_5 A_3 \mid A_2 A_5 A_3 B_{A_2}\\
            \hspace{-2.5cm}A_3 &\to (A_1 A_6 \mid a \mid b,\\
            \hspace{-2.5cm}A_4 &\to +,\\
            \hspace{-2.5cm}A_5 &\to *,\\
            \hspace{-2.5cm}A_6 &\to~),
        \end{align*}

        Aplicamos ahora $\text{Elimina}_1(B_{A_1}\rightarrow A_1 A_4 A_2 B_{A_1})$:
        \begin{align*}
            \hspace{-2.5cm}A_1 &\to (A_1 A_6 \mid a \mid b\mid (A_1 A_6 B_{A_1} \mid a B_{A_1} \mid b B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6A_5A_3 \mid aA_5A_3 \mid bA_5A_3 \mid (A_1 A_6 B_{A_2}A_5A_3 \mid  a B_{A_2}A_5A_3 \mid  b B_{A_2}A_5A_3
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6 A_5 A_3 B_{A_1} \mid aA_5 A_3 B_{A_1} \mid bA_5 A_3 B_{A_1} \mid (A_1 A_6 B_{A_2}A_5 A_3 B_{A_1} \mid  a B_{A_2}A_5 A_3 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid b B_{A_2}A_5 A_3 B_{A_1} \\
            \hspace{-2.5cm}B_{A_1} &\to (A_1 A_6 A_4 A_2 \mid aA_4 A_2 \mid bA_4 A_2\mid (A_1 A_6 B_{A_1}A_4 A_2 \mid a B_{A_1}A_4 A_2 \mid b B_{A_1}A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6A_5A_3A_4 A_2 \mid aA_5A_3 A_4 A_2\mid bA_5A_3A_4 A_2 \mid (A_1 A_6 B_{A_2}A_5A_3 A_4 A_2\mid  a B_{A_2}A_5A_3A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid b B_{A_2}A_5A_3A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6 A_5 A_3 B_{A_1}A_4 A_2 \mid aA_5 A_3 B_{A_1}A_4 A_2 \mid bA_5 A_3 B_{A_1}A_4 A_2 \mid (A_1 A_6 B_{A_2}A_5 A_3 B_{A_1}A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid  a B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 \mid b B_{A_2}A_5 A_3 B_{A_1}A_4 A_2
                \mid \\ \hspace{-2.5cm}\\ & \hspace{0.5cm} \mid (A_1 A_6 A_4 A_2 B_{A_1} \mid aA_4 A_2 B_{A_1} \mid bA_4 A_2 B_{A_1}\mid (A_1 A_6 B_{A_1}A_4 A_2 B_{A_1} \mid a B_{A_1}A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid b B_{A_1}A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6A_5A_3A_4 A_2 B_{A_1} \mid aA_5A_3 A_4 A_2 B_{A_1}\mid bA_5A_3A_4 A_2 B_{A_1} \mid (A_1 A_6 B_{A_2}A_5A_3 A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid  a B_{A_2}A_5A_3A_4 A_2 B_{A_1} \mid b B_{A_2}A_5A_3A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6 A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid aA_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid bA_5 A_3 B_{A_1}A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm}  \mid (A_1 A_6 B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid  a B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid b B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \\
            \hspace{-2.5cm}A_2 &\to (A_1 A_6 \mid a \mid b \mid (A_1 A_6 B_{A_2} \mid  a B_{A_2} \mid  b B_{A_2} \\
            \hspace{-2.5cm}B_{A_2} & \to A_2 A_5 A_3 \mid A_2 A_5 A_3 B_{A_2}\\
            \hspace{-2.5cm}A_3 &\to (A_1 A_6 \mid a \mid b,\\
            \hspace{-2.5cm}A_4 &\to +,\\
            \hspace{-2.5cm}A_5 &\to *,\\
            \hspace{-2.5cm}A_6 &\to~),
        \end{align*}

        Aplicamos ahora $\text{Elimina}_1(B_{A_2}\rightarrow A_2 A_5 A_3)$:
        \begin{align*}
            \hspace{-2.5cm}A_1 &\to (A_1 A_6 \mid a \mid b\mid (A_1 A_6 B_{A_1} \mid a B_{A_1} \mid b B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6A_5A_3 \mid aA_5A_3 \mid bA_5A_3 \mid (A_1 A_6 B_{A_2}A_5A_3 \mid  a B_{A_2}A_5A_3 \mid  b B_{A_2}A_5A_3
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6 A_5 A_3 B_{A_1} \mid aA_5 A_3 B_{A_1} \mid bA_5 A_3 B_{A_1} \mid (A_1 A_6 B_{A_2}A_5 A_3 B_{A_1} \mid  a B_{A_2}A_5 A_3 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid b B_{A_2}A_5 A_3 B_{A_1} \\
            \hspace{-2.5cm}B_{A_1} &\to (A_1 A_6 A_4 A_2 \mid aA_4 A_2 \mid bA_4 A_2\mid (A_1 A_6 B_{A_1}A_4 A_2 \mid a B_{A_1}A_4 A_2 \mid b B_{A_1}A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6A_5A_3A_4 A_2 \mid aA_5A_3 A_4 A_2\mid bA_5A_3A_4 A_2 \mid (A_1 A_6 B_{A_2}A_5A_3 A_4 A_2\mid  a B_{A_2}A_5A_3A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid b B_{A_2}A_5A_3A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6 A_5 A_3 B_{A_1}A_4 A_2 \mid aA_5 A_3 B_{A_1}A_4 A_2 \mid bA_5 A_3 B_{A_1}A_4 A_2 \mid (A_1 A_6 B_{A_2}A_5 A_3 B_{A_1}A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid  a B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 \mid b B_{A_2}A_5 A_3 B_{A_1}A_4 A_2
                \mid \\ \hspace{-2.5cm}\\ & \hspace{0.5cm} \mid (A_1 A_6 A_4 A_2 B_{A_1} \mid aA_4 A_2 B_{A_1} \mid bA_4 A_2 B_{A_1}\mid (A_1 A_6 B_{A_1}A_4 A_2 B_{A_1} \mid a B_{A_1}A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid b B_{A_1}A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6A_5A_3A_4 A_2 B_{A_1} \mid aA_5A_3 A_4 A_2 B_{A_1}\mid bA_5A_3A_4 A_2 B_{A_1} \mid (A_1 A_6 B_{A_2}A_5A_3 A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid  a B_{A_2}A_5A_3A_4 A_2 B_{A_1} \mid b B_{A_2}A_5A_3A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6 A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid aA_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid bA_5 A_3 B_{A_1}A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm}  \mid (A_1 A_6 B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid  a B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid b B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \\
            \hspace{-2.5cm}A_2 &\to (A_1 A_6 \mid a \mid b \mid (A_1 A_6 B_{A_2} \mid  a B_{A_2} \mid  b B_{A_2} \\
            \hspace{-2.5cm}B_{A_2} & \to A_2 A_5 A_3 B_{A_2}
                \mid \\ & \hspace{0.5cm}  \mid (A_1 A_6A_5 A_3 \mid aA_5 A_3 \mid b A_5 A_3\mid (A_1 A_6 B_{A_2}A_5 A_3 \mid  a B_{A_2}A_5 A_3 \mid  b B_{A_2}A_5 A_3 \\
            \hspace{-2.5cm}A_3 &\to (A_1 A_6 \mid a \mid b,\\
            \hspace{-2.5cm}A_4 &\to +,\\
            \hspace{-2.5cm}A_5 &\to *,\\
            \hspace{-2.5cm}A_6 &\to~),
        \end{align*}

        Aplicamos ahora $\text{Elimina}_1(B_{A_2}\rightarrow A_2 A_5 A_3 B_{A_2})$:
        \begin{align*}
            \hspace{-2.5cm}A_1 &\to (A_1 A_6 \mid a \mid b\mid (A_1 A_6 B_{A_1} \mid a B_{A_1} \mid b B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6A_5A_3 \mid aA_5A_3 \mid bA_5A_3 \mid (A_1 A_6 B_{A_2}A_5A_3 \mid  a B_{A_2}A_5A_3 \mid  b B_{A_2}A_5A_3
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6 A_5 A_3 B_{A_1} \mid aA_5 A_3 B_{A_1} \mid bA_5 A_3 B_{A_1} \mid (A_1 A_6 B_{A_2}A_5 A_3 B_{A_1} \mid  a B_{A_2}A_5 A_3 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid b B_{A_2}A_5 A_3 B_{A_1} \\
            \hspace{-2.5cm}B_{A_1} &\to (A_1 A_6 A_4 A_2 \mid aA_4 A_2 \mid bA_4 A_2\mid (A_1 A_6 B_{A_1}A_4 A_2 \mid a B_{A_1}A_4 A_2 \mid b B_{A_1}A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6A_5A_3A_4 A_2 \mid aA_5A_3 A_4 A_2\mid bA_5A_3A_4 A_2 \mid (A_1 A_6 B_{A_2}A_5A_3 A_4 A_2\mid  a B_{A_2}A_5A_3A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid b B_{A_2}A_5A_3A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6 A_5 A_3 B_{A_1}A_4 A_2 \mid aA_5 A_3 B_{A_1}A_4 A_2 \mid bA_5 A_3 B_{A_1}A_4 A_2 \mid (A_1 A_6 B_{A_2}A_5 A_3 B_{A_1}A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid  a B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 \mid b B_{A_2}A_5 A_3 B_{A_1}A_4 A_2
                \mid \\ \hspace{-2.5cm}\\ & \hspace{0.5cm} \mid (A_1 A_6 A_4 A_2 B_{A_1} \mid aA_4 A_2 B_{A_1} \mid bA_4 A_2 B_{A_1}\mid (A_1 A_6 B_{A_1}A_4 A_2 B_{A_1} \mid a B_{A_1}A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid b B_{A_1}A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6A_5A_3A_4 A_2 B_{A_1} \mid aA_5A_3 A_4 A_2 B_{A_1}\mid bA_5A_3A_4 A_2 B_{A_1} \mid (A_1 A_6 B_{A_2}A_5A_3 A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid  a B_{A_2}A_5A_3A_4 A_2 B_{A_1} \mid b B_{A_2}A_5A_3A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid (A_1 A_6 A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid aA_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid bA_5 A_3 B_{A_1}A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm}  \mid (A_1 A_6 B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid  a B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid b B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \\
            \hspace{-2.5cm}A_2 &\to (A_1 A_6 \mid a \mid b \mid (A_1 A_6 B_{A_2} \mid  a B_{A_2} \mid  b B_{A_2} \\
            \hspace{-2.5cm}B_{A_2} & \to (A_1 A_6A_5 A_3 \mid aA_5 A_3 \mid b A_5 A_3\mid (A_1 A_6 B_{A_2}A_5 A_3 \mid  a B_{A_2}A_5 A_3 \mid  b B_{A_2}A_5 A_3
                \mid \\ \hspace{-2.5cm}\\ & \hspace{0.5cm} \mid (A_1 A_6A_5 A_3B_{A_2} \mid aA_5 A_3B_{A_2} \mid b A_5 A_3B_{A_2}\mid (A_1 A_6 B_{A_2}A_5 A_3B_{A_2} \mid  b B_{A_2}A_5 A_3B_{A_2}
                \mid \\ & \hspace{0.5cm} \mid a B_{A_2}A_5 A_3B_{A_2} \\
            \hspace{-2.5cm}A_3 &\to (A_1 A_6 \mid a \mid b,\\
            \hspace{-2.5cm}A_4 &\to +,\\
            \hspace{-2.5cm}A_5 &\to *,\\
            \hspace{-2.5cm}A_6 &\to~),
        \end{align*}

        Llegados a este punto, la gramática está en Forma Normal de Greibach. Como vemos, esta opción es muy compleja, por lo que dudamos que se tratase de este caso.

        \item[Suponiendo que $E$ es una variable]~\\
        
        Buscamos eliminar en primer lugar las variables desde las que no se puede llegar a una palabra terminal. Sea $V_t$ las variables desde las que se puede llegar a una palabra terminal:
        \begin{equation*}
            V_t = \{F,T,E\}
        \end{equation*}

        Por tanto, $V\setminus V_t = \{E\}$, por lo que eliminamos $E$ y todas las producciones en las que aparece:
        \begin{align*}
            S &\to S + T \mid T, \\
            T &\to T * F \mid F, \\
            F &\to a \mid b.
        \end{align*}

        Buscamos ahora eliminar los símbolos que no sean alcanzables desde el símbolo inicial $S$, y las producciones en las que aparecen.
        Sea $V_S$ las variables alcanzables ya detectadas como alcanzables, $J$ las variables alcanzables desde $S$ que no hemos explorado, y $T_S$ los símbolos terminales alcanzables desde $S$.
        Inicialmente, $V_S = \{S\}$, $J = \{S\}$ y $T_S = \emptyset$.

        Extraemos $S$ de $J$, por lo que $J=\emptyset$. Tras procesar las producciones de $S$, obtenemos que $T_S = \{+\}$, $V_S = \{S,T\}$ y $J = \{T\}$.

        Extraemos $T$ de $J$, por lo que $J=\emptyset$. Tras procesar las producciones de $T$, obtenemos que $T_S = \{+,*\}$, $V_S = \{S,T,F\}$ y $J = \{F\}$.

        Extraemos $F$ de $J$, por lo que $J=\emptyset$. Tras procesar las producciones de $F$, obtenemos que $T_S = \{+,*,a,b\}$, $V_S = \{S,T,F\}$ y $J = \emptyset$.

        Como $J = \emptyset$, hemos terminado. Como $V\setminus \{V_S\} = \emptyset$, no hemos eliminado ninguna variable, pero eliminamos los símbolos $A\setminus T_S = \{(,~)\}$.
        No obstante, como no hay producciones en las que aparezcan, no eliminamos ninguna producción. La gramática tras haber aplicado el algoritmo de eliminación de variables y símbolos inútiles es:
        \begin{align*}
            S &\to S + T \mid T, \\
            T &\to T * F \mid F, \\
            F &\to a \mid b.
        \end{align*}

        Ahora, y como no hay producciones nulas, eliminamos las producciones unitarias.
        Sea $H$ el conjunto de pares $(A,B)$ de forma que $A\stackrel{*}{\Rightarrow} B$.
        \begin{equation*}
            H=\{(S,T),(T,F),(S,F)\}
        \end{equation*}

        Por tanto, eliminamos las producciones unitarias:
        \begin{align*}
            S &\to S + T \mid T * F \mid a \mid b, \\
            T &\to T * F \mid a \mid b, \\
            F &\to a \mid b.
        \end{align*}

        Pasamos ahora la gramática a la forma necesaria para poder aplicar el algoritmo de Greibach.
        \begin{align*}
            S &\to S C_+ T \mid T C_* F  \mid a \mid b, \\
            T &\to T C_* F \mid a \mid b, \\
            F &\to a \mid b,\\
            C_+ &\to +,\\
            C_* &\to *
        \end{align*}

        Cambiamos ahora la sumeración de las variables en las producciones. Esta numeración va a ser:
        \begin{equation*}
            A_1=S,\qquad A_2=T,\qquad A_3=F,\qquad A_4=C_+,\qquad A_5=C_*
        \end{equation*}

        De esta forma, tenemos que la gramática es:
        \begin{align*}
            A_1 &\to A_1 A_4 A_2 \mid A_2 A_5 A_3 \mid a \mid b, \\
            A_2 &\to A_2 A_5 A_3 \mid a \mid b, \\
            A_3 &\to a \mid b,\\
            A_4 &\to +,\\
            A_5 &\to *
        \end{align*}

        Comenzamos con la primera parte del algoritmo. Aplicamos $\text{Elimina}_2(A_1)$:
        \begin{align*}
            A_1 &\to A_2 A_5 A_3 \mid  a \mid b\mid A_2 A_5 A_3 B_{A_1} \mid a B_{A_1} \mid b B_{A_1}, \\
            B_{A_1} &\to A_1 A_4 A_2 \mid A_1 A_4 A_2 B_{A_1} \\
            A_2 &\to A_2 A_5 A_3 \mid  a \mid b, \\
            A_3 &\to  a \mid b,\\
            A_4 &\to +,\\
            A_5 &\to *
        \end{align*}

        Aplicamos ahora $\text{Elimina}_2(A_2)$:
        \begin{align*}
            A_1 &\to A_2 A_5 A_3 \mid  a \mid b\mid A_2 A_5 A_3 B_{A_1} \mid a B_{A_1} \mid b B_{A_1}, \\
            B_{A_1} &\to A_1 A_4 A_2 \mid A_1 A_4 A_2 B_{A_1} \\
            A_2 &\to  a \mid b \mid  a B_{A_2} \mid  b B_{A_2} \\
            B_{A_2} & \to A_2 A_5 A_3 \mid A_2 A_5 A_3 B_{A_2}\\
            A_3 &\to  a \mid b,\\
            A_4 &\to +,\\
            A_5 &\to *
        \end{align*}

        Una vez en la segunda parte del algoritmo, comenzamos aplicando la función $\text{Elimina}_1(A_1\rightarrow A_2 A_5 A_3)$:
        \begin{align*}
            A_1 &\to  a \mid b\mid A_2 A_5 A_3 B_{A_1} \mid a B_{A_1} \mid b B_{A_1}
                \mid  aA_5A_3 \mid bA_5A_3 \mid   a B_{A_2}A_5A_3 \mid  b B_{A_2}A_5A_3 \\
            B_{A_1} &\to A_1 A_4 A_2 \mid A_1 A_4 A_2 B_{A_1} \\
            A_2 &\to  a \mid b \mid   a B_{A_2} \mid  b B_{A_2} \\
            B_{A_2} & \to A_2 A_5 A_3 \mid A_2 A_5 A_3 B_{A_2}\\
            A_3 &\to  a \mid b,\\
            A_4 &\to +,\\
            A_5 &\to *
        \end{align*}

        Aplicamos ahora $\text{Elimina}_1(A_1\rightarrow A_2 A_5 A_3 B_{A_1})$:
        \begin{align*}
            \hspace{-2.5cm}A_1 &\to  a \mid b\mid a B_{A_1} \mid b B_{A_1}
                \mid  aA_5A_3 \mid bA_5A_3 \mid   a B_{A_2}A_5A_3 \mid  b B_{A_2}A_5A_3
                \mid \\ & \hspace{0.5cm} \mid  aA_5 A_3 B_{A_1} \mid bA_5 A_3 B_{A_1} \mid   a B_{A_2}A_5 A_3 B_{A_1}
                \mid  b B_{A_2}A_5 A_3 B_{A_1} \\
            \hspace{-2.5cm}B_{A_1} &\to A_1 A_4 A_2 \mid A_1 A_4 A_2 B_{A_1} \\
            \hspace{-2.5cm}A_2 &\to  a \mid b \mid   a B_{A_2} \mid  b B_{A_2} \\
            \hspace{-2.5cm}B_{A_2} & \to A_2 A_5 A_3 \mid A_2 A_5 A_3 B_{A_2}\\
            \hspace{-2.5cm}A_3 &\to  a \mid b,\\
            \hspace{-2.5cm}A_4 &\to +,\\
            \hspace{-2.5cm}A_5 &\to *
        \end{align*}

        Aplicamos ahora $\text{Elimina}_1(B_{A_1}\rightarrow A_1 A_4 A_2)$:
        \begin{align*}
            \hspace{-2.5cm}A_1 &\to  a \mid b\mid a B_{A_1} \mid b B_{A_1}
                \mid  aA_5A_3 \mid bA_5A_3 \mid   a B_{A_2}A_5A_3 \mid  b B_{A_2}A_5A_3
                \mid \\ & \hspace{0.5cm} \mid  aA_5 A_3 B_{A_1} \mid bA_5 A_3 B_{A_1} \mid   a B_{A_2}A_5 A_3 B_{A_1} 
                \mid b B_{A_2}A_5 A_3 B_{A_1} \\
            \hspace{-2.5cm}B_{A_1} &\to A_1 A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid  aA_4 A_2 \mid bA_4 A_2\mid a B_{A_1}A_4 A_2 \mid b B_{A_1}A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid  aA_5A_3 A_4 A_2\mid bA_5A_3A_4 A_2 \mid   a B_{A_2}A_5A_3A_4 A_2
                \mid b B_{A_2}A_5A_3A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid  aA_5 A_3 B_{A_1}A_4 A_2 \mid bA_5 A_3 B_{A_1}A_4 A_2
                \mid  a B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 \mid b B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 \\
            \hspace{-2.5cm}A_2 &\to  a \mid b \mid   a B_{A_2} \mid  b B_{A_2} \\
            \hspace{-2.5cm}B_{A_2} & \to A_2 A_5 A_3 \mid A_2 A_5 A_3 B_{A_2}\\
            \hspace{-2.5cm}A_3 &\to  a \mid b,\\
            \hspace{-2.5cm}A_4 &\to +,\\
            \hspace{-2.5cm}A_5 &\to *
        \end{align*}

        Aplicamos ahora $\text{Elimina}_1(B_{A_1}\rightarrow A_1 A_4 A_2 B_{A_1})$:
        \begin{align*}
            \hspace{-2.5cm}A_1 &\to  a \mid b\mid a B_{A_1} \mid b B_{A_1}
                \mid  aA_5A_3 \mid bA_5A_3 \mid   a B_{A_2}A_5A_3 \mid  b B_{A_2}A_5A_3
                \mid \\ & \hspace{0.5cm} \mid  aA_5 A_3 B_{A_1} \mid bA_5 A_3 B_{A_1} \mid   a B_{A_2}A_5 A_3 B_{A_1}
                \mid b B_{A_2}A_5 A_3 B_{A_1} \\
            \hspace{-2.5cm}B_{A_1} &\to  aA_4 A_2 \mid bA_4 A_2\mid a B_{A_1}A_4 A_2 \mid b B_{A_1}A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid  aA_5A_3 A_4 A_2\mid bA_5A_3A_4 A_2 \mid   a B_{A_2}A_5A_3A_4 A_2
                \mid b B_{A_2}A_5A_3A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid  aA_5 A_3 B_{A_1}A_4 A_2 \mid bA_5 A_3 B_{A_1}A_4 A_2
               \mid  a B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 \mid b B_{A_2}A_5 A_3 B_{A_1}A_4 A_2
                \mid \\ \hspace{-2.5cm}\\ & \hspace{0.5cm} \mid  aA_4 A_2 B_{A_1} \mid bA_4 A_2 B_{A_1}\mid a B_{A_1}A_4 A_2 B_{A_1}
                 \mid b B_{A_1}A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid  aA_5A_3 A_4 A_2 B_{A_1}\mid bA_5A_3A_4 A_2 B_{A_1} 
                 \mid  a B_{A_2}A_5A_3A_4 A_2 B_{A_1} \mid b B_{A_2}A_5A_3A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid  aA_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid bA_5 A_3 B_{A_1}A_4 A_2 B_{A_1}
                \mid \\ & \hspace{1cm}  \mid  a B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid b B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \\
            \hspace{-2.5cm}A_2 &\to  a \mid b \mid a B_{A_2} \mid  b B_{A_2} \\
            \hspace{-2.5cm}B_{A_2} & \to A_2 A_5 A_3 \mid A_2 A_5 A_3 B_{A_2}\\
            \hspace{-2.5cm}A_3 &\to  a \mid b,\\
            \hspace{-2.5cm}A_4 &\to +,\\
            \hspace{-2.5cm}A_5 &\to *
        \end{align*}

        Aplicamos ahora $\text{Elimina}_1(B_{A_2}\rightarrow A_2 A_5 A_3)$:
        \begin{align*}
            \hspace{-2.5cm}A_1 &\to  a \mid b\mid a B_{A_1} \mid b B_{A_1}
                \mid  aA_5A_3 \mid bA_5A_3 \mid   a B_{A_2}A_5A_3 \mid  b B_{A_2}A_5A_3
                \mid \\ & \hspace{0.5cm} \mid  aA_5 A_3 B_{A_1} \mid bA_5 A_3 B_{A_1} \mid   a B_{A_2}A_5 A_3 B_{A_1}
                \mid b B_{A_2}A_5 A_3 B_{A_1} \\
            \hspace{-2.5cm}B_{A_1} &\to  aA_4 A_2 \mid bA_4 A_2\mid a B_{A_1}A_4 A_2 \mid b B_{A_1}A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid  aA_5A_3 A_4 A_2\mid bA_5A_3A_4 A_2 \mid   a B_{A_2}A_5A_3A_4 A_2
                \mid b B_{A_2}A_5A_3A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid  aA_5 A_3 B_{A_1}A_4 A_2 \mid bA_5 A_3 B_{A_1}A_4 A_2
               \mid  a B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 \mid b B_{A_2}A_5 A_3 B_{A_1}A_4 A_2
                \mid \\ \hspace{-2.5cm}\\ & \hspace{0.5cm} \mid  aA_4 A_2 B_{A_1} \mid bA_4 A_2 B_{A_1}\mid a B_{A_1}A_4 A_2 B_{A_1}
                 \mid b B_{A_1}A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid  aA_5A_3 A_4 A_2 B_{A_1}\mid bA_5A_3A_4 A_2 B_{A_1} 
                 \mid  a B_{A_2}A_5A_3A_4 A_2 B_{A_1} \mid b B_{A_2}A_5A_3A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid  aA_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid bA_5 A_3 B_{A_1}A_4 A_2 B_{A_1}
                \mid \\ & \hspace{1cm}  \mid  a B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid b B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \\
            \hspace{-2.5cm}A_2 &\to  a \mid b \mid   a B_{A_2} \mid  b B_{A_2} \\
            \hspace{-2.5cm}B_{A_2} & \to A_2 A_5 A_3 B_{A_2}
                \mid \\ & \hspace{0.5cm}  \mid aA_5 A_3 \mid b A_5 A_3\mid   a B_{A_2}A_5 A_3 \mid  b B_{A_2}A_5 A_3 \\
            \hspace{-2.5cm}A_3 &\to  a \mid b,\\
            \hspace{-2.5cm}A_4 &\to +,\\
            \hspace{-2.5cm}A_5 &\to *
        \end{align*}

        Aplicamos ahora $\text{Elimina}_1(B_{A_2}\rightarrow A_2 A_5 A_3 B_{A_2})$:
        \begin{align*}
            \hspace{-2.5cm}A_1 &\to  a \mid b\mid a B_{A_1} \mid b B_{A_1}
                \mid  aA_5A_3 \mid bA_5A_3 \mid   a B_{A_2}A_5A_3 \mid  b B_{A_2}A_5A_3
                \mid \\ & \hspace{0.5cm} \mid  aA_5 A_3 B_{A_1} \mid bA_5 A_3 B_{A_1} \mid   a B_{A_2}A_5 A_3 B_{A_1}
                \mid b B_{A_2}A_5 A_3 B_{A_1} \\
            \hspace{-2.5cm}B_{A_1} &\to  aA_4 A_2 \mid bA_4 A_2\mid a B_{A_1}A_4 A_2 \mid b B_{A_1}A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid  aA_5A_3 A_4 A_2\mid bA_5A_3A_4 A_2 \mid   a B_{A_2}A_5A_3A_4 A_2
                \mid b B_{A_2}A_5A_3A_4 A_2
                \mid \\ & \hspace{0.5cm} \mid  aA_5 A_3 B_{A_1}A_4 A_2 \mid bA_5 A_3 B_{A_1}A_4 A_2
               \mid  a B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 \mid b B_{A_2}A_5 A_3 B_{A_1}A_4 A_2
                \mid \\ \hspace{-2.5cm}\\ & \hspace{0.5cm} \mid  aA_4 A_2 B_{A_1} \mid bA_4 A_2 B_{A_1}\mid a B_{A_1}A_4 A_2 B_{A_1}
                 \mid b B_{A_1}A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid  aA_5A_3 A_4 A_2 B_{A_1}\mid bA_5A_3A_4 A_2 B_{A_1} 
                 \mid  a B_{A_2}A_5A_3A_4 A_2 B_{A_1} \mid b B_{A_2}A_5A_3A_4 A_2 B_{A_1}
                \mid \\ & \hspace{0.5cm} \mid  aA_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid bA_5 A_3 B_{A_1}A_4 A_2 B_{A_1}
                \mid \\ & \hspace{1cm}  \mid  a B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \mid b B_{A_2}A_5 A_3 B_{A_1}A_4 A_2 B_{A_1} \\
            \hspace{-2.5cm}A_2 &\to  a \mid b \mid   a B_{A_2} \mid  b B_{A_2} \\
            \hspace{-2.5cm}B_{A_2} & \to aA_5 A_3 \mid b A_5 A_3\mid   a B_{A_2}A_5 A_3 \mid  b B_{A_2}A_5 A_3
                \mid \\ & \hspace{0.5cm}  \mid aA_5 A_3B_{A_2} \mid b A_5 A_3B_{A_2}\mid   a B_{A_2}A_5 A_3B_{A_2} \mid  b B_{A_2}A_5 A_3B_{A_2} \\
            \hspace{-2.5cm}A_3 &\to  a \mid b,\\
            \hspace{-2.5cm}A_4 &\to +,\\
            \hspace{-2.5cm}A_5 &\to *
        \end{align*}
        \end{description}
    \end{ejercicio}
\end{document}
