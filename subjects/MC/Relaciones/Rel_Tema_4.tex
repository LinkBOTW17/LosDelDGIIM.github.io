\newpage
\section{Gramáticas Independientes del Contexto}

\begin{observacion}
    Salvo que se indique lo contrario, las letras en mayúsculas representan variables, las letras en minúsculas representan terminales y la $S$ representa el símbolo inicial.
\end{observacion}

\begin{ejercicio}\label{ej:1.4.1}
    Determinar si la siguiente gramática es ambigua y si el lenguaje generado es inherentemente ambiguo:
    \begin{equation*}
        \left\{
            \begin{aligned}
                S &\rightarrow A_1 \mid A_2 \\
                A_1 &\rightarrow aA_1b \mid aA_1 \mid \veps \\
                A_2 &\rightarrow aA_2b \mid A_2b \mid \veps
            \end{aligned}
        \right.
    \end{equation*}

    La gramática dada es ambigua puesto que hay palabras con más de un árbol de derivación. Por ejemplo, la palabra $aab$ tiene los dos posibles árboles de derivación que se muestran en la Figura~\ref{fig:1.4.1}.
    \begin{figure}
        \centering
        \begin{forest}
            for tree={
                edge={-}, % Hace que las líneas no terminen en punta
                fit=rectangle, % Ajusta el tamaño del rectángulo al texto
            }
            [$S$
                [$A_1$
                    [$a$]
                    [$A_1$
                        [$a$]
                        [$A_1$
                            [$\veps$]
                        ]
                    ]
                    [$b$]
                ]
            ]
        \end{forest}
        \hspace{2cm}
        \begin{forest}
            for tree={
                edge={-}, % Hace que las líneas no terminen en punta
                fit=rectangle, % Ajusta el tamaño del rectángulo al texto
            }
            [$S$
                [$A_1$
                    [$a$]
                    [$A_1$
                        [$a$]
                        [$A_1$
                            [$\veps$]
                        ]
                        [$b$]
                    ]
                ]
            ]
        \end{forest}
        \caption{Árboles de derivación para $aab$ usando la Gramática del Ejercicio~\ref{ej:1.4.1}.}
        \label{fig:1.4.1}
    \end{figure}

    % // TODO: Habría bastado la --> veps?

    Veamos ahora que no es inherentemente ambiguo. La producción de $A_1$ produce las palabras de la forma $a^i b^j$, con $i \geq j$. La producción de $A_2$ produce las palabras de la forma $a^i b^j$, con $i \leq j$. Por tanto, la gramática genera el lenguaje:
    \begin{align*}
        L &= \{ a^i b^j \mid i,j\in \bb{N}\cup \{0\},\ i \geq j\}\cup \{ a^i b^j \mid i,j\in \bb{N}\cup \{0\},\ i \leq j\} =\\&= \{ a^i b^j \mid i,j\in \bb{N}\cup \{0\} \}
    \end{align*}

    % // TODO: Regular => AFD => No ambiguo??
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.2}
    Sea la gramática
    \begin{equation*}
        \left\{
            \begin{aligned}
                S &\rightarrow aSA \mid \veps \\
                A &\rightarrow bA \mid z \mid \veps
            \end{aligned}
        \right.
    \end{equation*}
    \begin{enumerate}
        \item Demostrar que es ambigua.
        
        Tomemos como palabra $aabb$. Esta palabra tiene dos árboles de derivación, como se muestra en la Figura~\ref{fig:1.4.2}.
        \begin{figure}
            \centering
            \begin{forest}
                for tree={
                    edge={-}, % Hace que las líneas no terminen en punta
                    fit=rectangle, % Ajusta el tamaño del rectángulo al texto
                }
                [$S$
                    [$a$]
                    [$S$
                        [$a$]
                        [$S$
                            [$\veps$]
                        ]
                        [$A$
                            [$b$]
                            [$A$
                                [$b$]
                                [$A$
                                    [$\veps$]
                                ]
                            ]
                        ]
                    ]
                    [$A$
                        [$\veps$]
                    ]
                ]
            \end{forest}
            \hspace{2cm}
            \begin{forest}
                for tree={
                    edge={-}, % Hace que las líneas no terminen en punta
                    fit=rectangle, % Ajusta el tamaño del rectángulo al texto
                }
                [$S$
                    [$a$]
                    [$S$
                        [$a$]
                        [$S$
                            [$\veps$]
                        ]
                        [$A$
                            [$b$]
                            [$A$
                                [$\veps$]
                            ]
                        ]
                    ]
                    [$A$
                        [$b$]
                        [$A$
                            [$\veps$]
                        ]
                    ]
                ]
            \end{forest}
            \caption{Árboles de derivación para $aabb$ usando la Gramática del Ejercicio~\ref{ej:1.4.2}.}
            \label{fig:1.4.2}
        \end{figure}
        \item Dar una expresión regular para el lenguaje generado.
        
        En primer lugar, hemos de considerar que $\veps\in L$. Además, todas las palabras de longitud positiva empiezan por $a$. por tanto, la expresión regular para el lenguaje generado por la gramática es:
        \begin{equation*}
            a^+b^*(z+\veps)+\veps
        \end{equation*}
        \item Construir una gramática no ambigua que genere el mismo lenguaje.
        
        % Regular => No ambiguo??
    \end{enumerate}
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.3}
    Considera la gramática $G = (V, T, S, P)$ donde
    \begin{equation*}
        \begin{aligned}
            V &= \{ \langle \text{expresión} \rangle, \langle \text{identificador} \rangle \} \\
            T &= \{ a, b, c, d, - \} \\
            S &= \langle \text{expresión} \rangle \\
            P &= \left\{
                \begin{aligned}
                    \langle \text{expresión} \rangle &\rightarrow \langle \text{identificador} \rangle \\
                    \langle \text{expresión} \rangle &\rightarrow \langle \text{identificador} \rangle - \langle \text{expresión} \rangle \\
                    \langle \text{expresión} \rangle &\rightarrow \langle \text{expresión} \rangle - \langle \text{identificador} \rangle \\
                    \langle \text{identificador} \rangle &\rightarrow a \mid b \mid c \mid d
                \end{aligned}
            \right.
        \end{aligned}
    \end{equation*}
    \begin{enumerate}
        \item Demuestra que esta gramática no puede ser empleada para describir un posible lenguaje de programación, teniendo en cuenta que la sustración no es una operación conmutativa, y que $(a - b) - d \neq a - (b - d)$.
        \item ¿Es ambigua la gramática $G$? ¿Es la ambigüedad inherente al lenguaje generado por $G$? Justifica adecuadamente la respuesta.
        \item ¿Es posible modificar $G$ de manera que la nueva gramática pueda ser usada para generar el lenguaje de las expresiones aritméticas correctas con el operador de resta?
    \end{enumerate}
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.4}
    Dada la gramática
    \begin{equation*}
        \left\{
            \begin{aligned}
                S &\rightarrow A \mid B \\
                A &\rightarrow aaA \mid \veps \\
                B &\rightarrow aaaB \mid \veps
            \end{aligned}
        \right.
    \end{equation*}
    \begin{enumerate}
        \item Demostrar que es ambigua.
        
        La variable $A$ genera palabras de la forma $a^{2i}$ y la variable $B$ genera palabras de la forma $a^{3i}$. Por tanto, la palabras de la forma $a^{6i}$ tienen dos árboles de derivación, como se muestra en la Figura~\ref{fig:1.4.4}.
        \begin{figure}
            \centering
            \begin{forest}
                for tree={
                    edge={-}, % Hace que las líneas no terminen en punta
                    fit=rectangle, % Ajusta el tamaño del rectángulo al texto
                }
                [$S$
                    [$A$
                        [$a$]
                        [$a$]
                        [$A$
                            [$a$]
                            [$a$]
                            [$A$
                                [$a$]
                                [$a$]
                                [$A$
                                    [$\veps$]
                                ]
                            ]
                        ]
                    ]
                ]
            \end{forest}
            \hspace{2cm}
            \begin{forest}
                for tree={
                    edge={-}, % Hace que las líneas no terminen en punta
                    fit=rectangle, % Ajusta el tamaño del rectángulo al texto
                }
                [$S$
                    [$B$
                        [$a$]
                        [$a$]
                        [$a$]
                        [$B$
                            [$a$]
                            [$a$]
                            [$a$]
                            [$B$
                                [$\veps$]
                            ]
                        ]
                    ]
                ]
            \end{forest}
            \caption{Árboles de derivación para $a^6$ usando la Gramática del Ejercicio~\ref{ej:1.4.4}.}
            \label{fig:1.4.4}
        \end{figure}
        \item Construir un autómata finito determinístico que acepte el mismo lenguaje.
        
        El autómata que genera las palabras de la forma $a^{2i}$ es el que se muestra en la Figura~\ref{fig:1.4.4.AFD1},
        mientras que el autómata que genera las palabras de la forma $a^{3i}$ es el que se muestra en la Figura~\ref{fig:1.4.4.AFD2}.
        El autómata producto es el que se muestra en la Figura~\ref{fig:1.4.4.AFD3}.
        \begin{figure}
            \centering
            \begin{tikzpicture}
                \node[state,initial, accepting] (q0) {$q_0$};
                \node[state] (q1) [right of=q0] {$q_1$};

                \draw   (q0) edge[above] node{$a$} (q1)
                        (q1) edge[above, bend right] node{$a$} (q0);
            \end{tikzpicture}
            \caption{AFD que acepta el lenguaje de la variable $A$ de la Gramática del Ejercicio~\ref{ej:1.4.4}.}
            \label{fig:1.4.4.AFD1}
        \end{figure}
        \begin{figure}
            \centering
            \begin{tikzpicture}
                \node[state,initial, accepting] (q0) {$p_0$};
                \node[state] (q1) [right of=q0] {$p_1$};
                \node[state] (q2) [right of=q1] {$p_2$};

                \draw   (q0) edge[above] node{$a$} (q1)
                        (q1) edge[above] node{$a$} (q2)
                        (q2) edge[above, bend right] node{$a$} (q0);
            \end{tikzpicture}
            \caption{AFD que acepta el lenguaje de la variable $B$ de la Gramática del Ejercicio~\ref{ej:1.4.4}.}
            \label{fig:1.4.4.AFD2}
        \end{figure}
        \begin{figure}
            \centering
            \begin{tikzpicture}
                \node[state,initial, accepting] (q0p0) {$q_0p_0$};
                \node[state] (q1p1) [right of=q0p0] {$q_1p_1$};
                \node[state, accepting] (q0p2) [right of=q1p1] {$q_0p_2$};
                \node[state, accepting] (q1p0) [below of=q0p2] {$q_1p_0$};
                \node[state, accepting] (q0p1) [left of=q1p0] {$q_0p_1$};
                \node[state] (q1p2) [below of=q0p0] {$q_1p_2$};

                \draw   (q0p0) edge[above] node{$a$} (q1p1)
                        (q0p1) edge[above] node{$a$} (q1p2)
                        (q0p2) edge[right] node{$a$} (q1p0)
                        (q1p0) edge[above] node{$a$} (q0p1)
                        (q1p1) edge[above] node{$a$} (q0p2)
                        (q1p2) edge[left] node{$a$} (q0p0);
            \end{tikzpicture}
            \caption{AFD que acepta el lenguaje de la Gramática del Ejercicio~\ref{ej:1.4.4}.}
            \label{fig:1.4.4.AFD3}
        \end{figure}
        \item Construir una gramática lineal por la derecha, a partir del autómata determinístico, que genere el mismo lenguaje.
        
        La gramática lineal por la derecha que genera el lenguaje del autómata de la Figura~\ref{fig:1.4.4.AFD3} es
        $G=(V,\{a\},P,S)$, con:
        \begin{equation*}
            \begin{aligned}
                V &= \{ q_0p_0, q_1p_1, q_0p_2, q_1p_0, q_0p_1, q_1p_2 \} \\
                P &= \left\{
                    \begin{aligned}
                        q_0p_0 &\rightarrow aq_1p_1 \mid \veps \\
                        q_1p_1 &\rightarrow aq_0p_2 \\
                        q_0p_2 &\rightarrow aq_1p_0 \mid \veps \\
                        q_1p_0 &\rightarrow aq_0p_1 \mid \veps \\
                        q_0p_1 &\rightarrow aq_1p_2 \mid \veps \\
                        q_1p_2 &\rightarrow aq_0p_0
                    \end{aligned}
                \right.
            \end{aligned}
        \end{equation*}
        \item Demostrar que la gramática resultante no es ambigua.
        % // TODO: Regular => No ambiguo??
    \end{enumerate}
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.5}
    Dar una gramática libre de contexto no ambigua que genere el lenguaje
    \begin{equation*}
        L = \{ a^i b^j a^k b^l \mid (i = j) \lor (k = l) \}
    \end{equation*}
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.6}
    Determinar cuales de las siguientes gramáticas son ambiguas y, en su caso, comprobar si los lenguajes generados son inherentemente ambiguos:
    \begin{enumerate}
        \item \label{ej:1.4.6.1}
        $S \rightarrow aSb \mid Sb \mid aS \mid a$
        
        La gramática dada es ambigua. Por ejemplo, la palabra $aaabb$ tiene dos árboles de derivación, como se muestra en la Figura~\ref{fig:1.4.6.1}.
        No obstante, este es un lenguaje regular con expresión regular asociada:
        \begin{equation*}
            aa^*b^*
        \end{equation*}
        Por tanto, el lenguaje generado es regular.
        \begin{figure}
            \centering
            \begin{forest}
                for tree={
                    edge={-}, % Hace que las líneas no terminen en punta
                    fit=rectangle, % Ajusta el tamaño del rectángulo al texto
                }
                [$S$
                    [$a$]
                    [$S$
                        [$a$]
                        [$S$
                            [$a$]
                        ]
                        [$b$]
                    ]
                    [$b$]
                ]
            \end{forest}
            \hspace{2cm}
            \begin{forest}
                for tree={
                    edge={-}, % Hace que las líneas no terminen en punta
                    fit=rectangle, % Ajusta el tamaño del rectángulo al texto
                }
                [$S$
                    [$a$]
                    [$S$
                        [$a$]
                        [$S$
                            [$S$
                                [$a$]
                            ]
                            [$b$]
                        ]
                        [$b$]
                    ]
                ]
            \end{forest}
            \caption{Árboles de derivación para $aaabb$ usando la Gramática del Ejercicio~\ref{ej:1.4.6}.\ref{ej:1.4.6.1}.}
            \label{fig:1.4.6.1}
        \end{figure}
        \item \label{ej:1.4.6.2}
         $S \rightarrow aaS \mid aaaS \mid a$
        
        La gramática dada es ambigua. Por ejemplo, la palabra $a^7$ tiene dos árboles de derivación, como se muestra en la Figura~\ref{fig:1.4.6.2}.
        No obstante, este es un lenguaje regular con expresión regular asociada:
        \begin{equation*}
            (aa + aaa)^*a
        \end{equation*}
        Por tanto, el lenguaje generado es regular.
        \begin{figure}
            \centering
            \begin{forest}
                for tree={
                    edge={-}, % Hace que las líneas no terminen en punta
                    fit=rectangle, % Ajusta el tamaño del rectángulo al texto
                }
                [$S$
                    [$a$]
                    [$a$]
                    [$S$
                        [$a$]
                        [$a$]
                        [$S$
                            [$a$]
                            [$a$]
                            [$S$
                                [$a$]
                            ]
                        ]
                    ]
                ]
            \end{forest}
            \hspace{2cm}
            \begin{forest}
                for tree={
                    edge={-}, % Hace que las líneas no terminen en punta
                    fit=rectangle, % Ajusta el tamaño del rectángulo al texto
                }
                [$S$
                    [$a$]
                    [$a$]
                    [$a$]
                    [$S$
                        [$a$]
                        [$a$]
                        [$a$]
                        [$S$
                            [$a$]
                        ]
                    ]
                ]
            \end{forest}
            \caption{Árboles de derivación para $a^7$ usando la Gramática del Ejercicio~\ref{ej:1.4.6}.\ref{ej:1.4.6.2}.}
            \label{fig:1.4.6.2}
        \end{figure}
        \item \label{ej1.4.6.3}
        $S \rightarrow aS \mid aSb \mid X$,\\ $X \rightarrow Xa \mid a$

        La gramática dada es ambigua. Por ejemplo, la palabra $a^2$ tiene dos árboles de derivación, como se muestra en la Figura~\ref{fig:1.4.6.3}.
        \begin{figure}
            \centering
            \begin{forest}
                for tree={
                    edge={-}, % Hace que las líneas no terminen en punta
                    fit=rectangle, % Ajusta el tamaño del rectángulo al texto
                }
                [$S$
                    [$a$]
                    [$S$
                        [$X$
                            [$a$]
                        ]
                    ]
                ]
            \end{forest}
            \hspace{2cm}
            \begin{forest}
                for tree={
                    edge={-}, % Hace que las líneas no terminen en punta
                    fit=rectangle, % Ajusta el tamaño del rectángulo al texto
                }
                [$S$
                    [$X$
                        [$X$
                            [$a$]
                        ]
                        [$a$]
                    ]
                ]
            \end{forest}
            \caption{Árboles de derivación para $a^2$ usando la Gramática del Ejercicio~\ref{ej:1.4.6}.\ref{ej1.4.6.3}.}
            \label{fig:1.4.6.3}
        \end{figure}
    \end{enumerate}
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.7}
    Dar gramáticas libres de contexto no ambiguas (cuando sea posible) para los siguientes lenguajes sobre el alfabeto $A = \{ a, b, c \}$:
    \begin{enumerate}
        \item $L_1 = \{ a^i b^j c^k \mid i \neq j \lor j \neq k \}$
        \item $L_2 = \{ (ab)^i (bc)^j \mid i, j \geq 0 \}$
        \item $L_3 = \{ a^i b^{i+j} c^j \mid i, j \geq 0 \}$
        \item $L_4$ definido como el conjunto de palabras que comienzan por $aab$ y terminan por $bbc$ y tales que estas dos subcadenas no aparecen nunca en el interior de la palabra (sólo están al principio y al final).
    \end{enumerate}
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.8}
    Dada la gramática
    \begin{equation*}
        \left\{
            \begin{aligned}
                S &\rightarrow 01S \mid 010S \mid 101S \mid \veps
            \end{aligned}
        \right.
    \end{equation*}
    \begin{enumerate}
        \item Determinar si es ambigua.
        
        La gramática dada es ambigua. Por ejemplo, la palabra $010101$ tiene dos árboles de derivación, como se muestra en la Figura~\ref{fig:1.4.8}.
        \begin{figure}
            \centering
            \begin{forest}
                for tree={
                    edge={-}, % Hace que las líneas no terminen en punta
                    fit=rectangle, % Ajusta el tamaño del rectángulo al texto
                }
                [$S$
                    [$0$]
                    [$1$]
                    [$0$]
                    [$S$
                        [$1$]
                        [$0$]
                        [$1$]
                        [$S$
                            [$\veps$]
                        ]
                    ]
                ]
            \end{forest}
            \hspace{2cm}
            \begin{forest}
                for tree={
                    edge={-}, % Hace que las líneas no terminen en punta
                    fit=rectangle, % Ajusta el tamaño del rectángulo al texto
                }
                [$S$
                    [$0$]
                    [$1$]
                    [$S$
                        [$0$]
                        [$1$]
                        [$S$
                            [$0$]
                            [$1$]
                            [$S$
                                [$\veps$]
                            ]
                        ]
                    ]
                ]
            \end{forest}
            \caption{Árboles de derivación para $010101$ usando la Gramática del Ejercicio~\ref{ej:1.4.8}.}
            \label{fig:1.4.8}
        \end{figure}
        \item Construir un autómata finito determinista asociado.
        
        La expresión regular asociada al lenguaje generado por la gramática es:
        \begin{equation*}
            (01 + 010 + 101)^*
        \end{equation*}

        El AFND asociado es el de la Figura~\ref{fig:1.4.8.AFND}.
        \begin{figure}
            \centering
            \begin{tikzpicture}
                \node[state,initial, accepting] (q0) {$q_0$};
                \node[state] (q2) [right of=q0] {$q_2$};
                \node[state] (q3) [right of=q2] {$q_3$};
                \node[state] (q1) [above of=q2] {$q_1$};
                \node[state] (q4) [below of=q2] {$q_4$};
                \node[state] (q5) [right of=q4] {$q_5$};

                \draw   (q0) edge[above] node{$0$} (q1)
                        (q1) edge[above, bend right] node{$1$} (q0)
                        (q0) edge[above] node{$0$} (q2)
                        (q2) edge[above] node{$1$} (q3)
                        (q3) edge[above, bend right] node{$0$} (q0)
                        (q0) edge[above] node{$1$} (q4)
                        (q4) edge[above] node{$0$} (q5)
                        (q5) edge[above] node{$1$} (q0);
            \end{tikzpicture}
            \caption{AFND que acepta el lenguaje de la Gramática del Ejercicio~\ref{ej:1.4.8}.}
            \label{fig:1.4.8.AFND}
        \end{figure}


        \item Calcular la gramática lineal por la derecha que se obiene a partir del autómata. ¿Es ambigua la gramática resultante?
    \end{enumerate}
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.9}
    Considerar la siguiente gramática:
    \begin{equation*}
        \left\{
            \begin{aligned}
                S &\rightarrow A 1 B\\
                A &\rightarrow 0A \mid \veps\\
                B &\rightarrow 0B \mid 1B \mid \veps
            \end{aligned}
        \right.
    \end{equation*}
    \begin{enumerate}
        \item Demostrar que la gramática dada no es ambigua.
        \item Encontrar una gramática para el mismo lenguaje que sea ambigua y demostrar su ambigüedad.
    \end{enumerate}
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.10}
    Describe el lenguaje generado por la siguiente gramática $G = (\{ S, A \}, \{ a, b \}, P, S)$, con
    \begin{equation*}
        P = \left\{
            \begin{aligned}
                S &\rightarrow aAa \mid bAa\\
                A &\rightarrow aAa \mid bAa \mid \veps
            \end{aligned}
        \right.
    \end{equation*}
    \begin{enumerate}
        \item Demuestra que el lenguaje generado por la gramática no es regular, pero si independiente del contexto.
        \item Normaliza la gramática $G$ en la Forma Normal de Greibach, y determina todas las derivaciones más a la izquierda para la cadena $ab^2a^5$.
        
        En primer lugar, vemos que todas las producciones son útiles. Buscamos ahora eliminar las producciones nulas. Para esto, vemos que la única producción variable anulable es $A$. Eliminando las producciones nulas, obtenemos las siguientes reglas de producción:
        \begin{equation*}
            P = \left\{
                \begin{aligned}
                    S &\rightarrow aAa \mid bAa \mid aa \mid ba\\
                    A &\rightarrow aAa \mid bAa \mid aa \mid ba
                \end{aligned}
            \right.
        \end{equation*}
    \end{enumerate}
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.11}
    Obtener la forma normal de Greibach para la siguiente gramática:
    \begin{equation*}
        G=\left\{ \{ S_1, S_2, S_3 \}, \{ a, b, c, d, e \}, S_1, P \right\}
    \end{equation*}
    donde:
    \begin{equation*}
        P = \left\{
            \begin{aligned}
                S_1 &\rightarrow S_1 S_2 c \mid S_3 \mid S_3 b S_3\\
                S_2 &\rightarrow S_1 S_1 \mid d\\
                S_3 &\rightarrow S_2 e
            \end{aligned}
        \right.
    \end{equation*}
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.12}
    Pasar a forma normal de Greibach la gramática
    \begin{equation*}
        \left\{
            \begin{aligned}
                S &\rightarrow AAA \mid B\\
                A &\rightarrow aA \mid B\\
                B &\rightarrow \veps
            \end{aligned}
        \right.
    \end{equation*}
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.13}
    Determina si los siguientes lenguajes son regulares o independientes del contexto. Encuentra una gramática que los genere.
    \begin{enumerate}
        \item $L_1 = \{ a^i b^j c^k \mid i, j \geq 0, k < i + j \}$
        \item $L_2 = \{ (ab)^i c^j d \mid j = i - 1, i \geq 1 \}$
        \item $L_3 = \{ ab^i cd^j \mid j = 2 \cdot i, 1 \leq i \leq 10 \}$
    \end{enumerate}
    Elige una de ellas que sea independiente del contexto y pásala a forma normal de Chomsky.
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.14}
    Dadas las siguientes gramáticas determinar si son ambiguas y, en caso de que lo sean, determinar una gramática no ambigua que genere el mismo lenguaje
    \begin{enumerate}
        \item $E \rightarrow E + E \mid E * E \mid (E) \mid x \mid y$ (alfabeto de símbolos terminales $\{ x, y, +, *, (, ) \}$ y símbolo inicial $E$).
        \item $S \rightarrow SS + \mid SS * \mid x \mid y$ (alfabeto de símbolos terminales $\{ x, y, +, * \}$ y símbolo inicial $S$)
    \end{enumerate}
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.15}
    Una gramática independiente del contexto generalizada es una gramática en el que las producciones son de la forma $A \rightarrow r$ donde $r$ es una expresión regular de variables y símbolos terminales. Una gramática independiente del contexto generalizada representa una forma compacta de representar una gramática con todas las producciones $A \rightarrow \alpha$, donde $\alpha$ es una palabra del lenguaje asociado a la expresión regular $r$ y $A \rightarrow r$ es una producción de la gramática generalizada. Observemos que esta gramática asociada puede tener infinitas producciones, ya que una expresión regular puede representar un lenguaje con infinitas palabras. El concepto de lenguaje generado por una gramática generalizada se define de forma análoga al de las gramáticas independientes del contexto, pero teniendo en cuenta que ahora puede haber infinitas producciones. Demostrar que un lenguaje es independiente del contexto si y solo si se puede generar por una gramática generalizada.
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.16}
    Demostrar que los siguientes lenguajes son independientes del contexto:
    \begin{enumerate}
        \item $L_1 = \{ u \# w \mid u^{-1} \text{ es una subcadena de } w, u, w \in \{ 0, 1 \}^* \}$
        \item $L_2 = \{ u_1 \# u_2 \# \ldots \# u_k \mid k \geq 1, \text{ cada } u_i \in \{ 0, 1 \}^*, \text{ y para algún } i \text{ y } j, u_i = u_j^{-1} \}$
    \end{enumerate}
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.17}
    Sobre el alfabeto $\{ 0, 1 \}$ dar una gramática no ambigua que genere todas las palabras en las que el número de $0$s es el doble que el de $1$s.
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.18}
    Sea el lenguaje $L = \{ 0^i 1^k 0^j \mid i \neq j, 2i \neq j \}$. Demostrar que $L$ es independiente del contexto.
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.19}
    Demostrar que si una gramática $G$ está en forma normal de Chomsky, entonces si $w \in L(G)$ el número de pasos de derivación de toda generación de esta palabra es $2|w| - 1$.
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.20}
    Dar gramáticas independientes del contexto no ambiguas para los siguientes lenguajes sobre el alfabeto $\{ 0, 1 \}$:
    \begin{enumerate}
        \item El conjunto de palabras $w$ tal que en todo prefijo de $w$ el número de $0$s es mayor o igual que el número de $1$s.
        \item El conjunto de palabras $w$ en las que el número de $0$s es mayor o igual que el número de $1$s.
    \end{enumerate}
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.21}
    Sea $L = \{ 0^i 1^j 0^k \mid i \neq j, 2i \neq j \}$. Demostrar que $L$ es independiente del contexto.
\end{ejercicio}

\begin{ejercicio}\label{ej:1.4.22}
    Supongamos el conjunto de símbolos terminales $T = \{ \text{if}, \text{condicion}, \text{then}, \text{else}, a := 1 \}$, el alfabeto de variables $V = \{ \langle \text{SENT} \rangle, \langle \text{IF - THEN} \rangle, \langle \text{IF - THEN - ELSE} \rangle, \langle \text{ASIG} \rangle \}$, y las producciones:
    \begin{equation*}
        \left\{
            \begin{aligned}
                \langle \text{SENT} \rangle &\rightarrow \langle \text{ASIG} \rangle \mid \langle \text{IF - THEN} \rangle \mid \langle \text{IF - THEN - ELSE} \rangle\\
                \langle \text{IF - THEN} \rangle &\rightarrow \text{if condicion then} \langle \text{SENT} \rangle\\
                \langle \text{IF - THEN - ELSE} \rangle &\rightarrow \text{if condicion then} \langle \text{SENT} \rangle \text{else} \langle \text{SENT} \rangle\\
                \langle \text{ASIG} \rangle &\rightarrow \text{a := 1}
            \end{aligned}
        \right.
    \end{equation*}
    Suponiendo que el símbolo inicial es $\langle \text{SENT} \rangle$, demostrar que la gramática es ambigua. Dar una gramática no ambigua que genere el mismo lenguaje.
\end{ejercicio}