\chapter{Combinatoria}

A continuación, y antes de adentrarnos en la Probabilidad y como puente a ella, haremos una breve introducción a la combinatoria, aquella rama de las matemáticas que estudia las diversas formas de realizar agrupaciones de conjuntos a partir de uno.

Dependiendo de las agrupaciones que queramos realizar distinguimos distintos tipos de sucesos, dependiendo de si importa el orden o no.
\begin{equation*}
    \text{¿Importa el orden?} \left\{
    \begin{array}{ll}
        \text{Sí} &\left\{
            \begin{array}{l}
                ~ \\
                \text{Variaciones}\\
                ~\\
                \text{Permutaciones}\\
                ~
            \end{array}
        \right.\\
        ~ \\
        \text{No}&\left\{
            \begin{array}{l}
                ~ \\
                \text{Combinaciones}\\
                ~
            \end{array}
        \right.
    \end{array}
    \right.
\end{equation*}

Donde cada una de ellas puede ser con y sin repeticiones. Es decir, hay que diferenciar si, tras escoger un elemento del conjunto, para la siguiente elección se vuelve a tener en cuenta o ya no.

\section{Variaciones}

Las variaciones consisten en, dado un conjunto de $m$ elementos, calcular de cuantas formas posibles somos capaces de formar grupos de $n$ elementos ($n, m\in \N$).\\

Se trata de una disciplina en la que importa el orden, por lo que diremos que dos variaciones de $n$ elementos
(ambas obtenidas a partir del mismo conjunto de $m$ elementos) son distintas si y sólo si tienen distintos
elementos o si estos están dispuestos en distinto orden.\\

Es decir, a partir de $\{0, 1, 2\}$:

Las variaciones $\{0, 1\}, \{0, 2\}, \{1, 0\}$ son distintas entre sí.

\subsection{Variaciones sin repetición}

Son aquellas en las que dado un conjunto padre de $m$ elementos distintos, sólo podremos obtener el elemento $a$
del conjunto padre una única vez. Es decir, cada conjunto hijo de tamaño $n$ contendrá 0 o 1 veces el elemento
$a$ del conjunto padre. Por tanto, todas estas cumplen que $1 \leq n \leq m$.\\


Por tanto, dado el conjunto padre $\{0, 1, 2\}$, la variación $\{1, 1\}$ no es una variación sin repetición.\\


Para calcular el número de formas distintas en las que podemos generar variaciones sin repetición de tamaño
$n$ a partir de un conjunto padre de tamaño $m$ (con $1 \leq n \leq m$) usaremos la expresion:

$$V_{m, n} = \dfrac{m!}{(m-n)!}$$


Que se deduce de la expresión:
$$V_{m, n} = m \cdot (m-1) \cdot (m-2) \cdot \ldots \cdot (m-n+1) = \dfrac{m!}{(m-n)!}$$


De todos los posible elementos $m$, cogemos 1 luego hemos tenido $m$ posibles opciones. A continuación,
elegimos otro elemento de esos $m-1$ restantes, luego hemos vuelto a tener $m-1$ posibles opciones, repetimos
el proceso hasta elegir $m-n+1$ (el último elemento que hay que coger para obtener un total de $n$) elementos
y cogemos otro, luego hemos vuelto a tener $m-n+1$ opciones y ya tenemos los $n$ elementos deseados.

\subsection{Variaciones con repetición}

Esta disciplina se basa en, dado un conjunto padre de $m$ elementos distintos, obtenemos $n$ elementos de
este, pudiendo repetir cualquier elemento $a$ del conjunto padre las veces que queramos. Estamos interesados
en calcular el número de formas posibles en las que podemos formar conjuntos de $n$ elementos que contengan
los elementos del conjunto padre de $m$ elementos. Notemos que, en este caso, $n$ puede ser mayor que $m$.\\


Un ejemplo de variación con repetición de un conjunto $\{0, 1\}$ pueden ser:

$\{0, 0, 0, 1, 1\},
  \{1, 1, 1, 1, 1\}$.\\


Para calcular el número de formas distintas en las que podemos generar variaciones con repetición de tamaño
$n$ a partir de un conjunto padre de $m$ elementos, usamos la expresión:

$$VR_{m, n} = m^n$$


Que se deduce del siguiente razonamiento: De los $m$ elementos del conjunto padre, para el primer elemento
de nuestra variación podemos hacer $m$ elecciones. Para el segundo elemento de la variación seguimos
pudiendo hacer $m$ elecciones, luego tenemos $m \cdot m$ posibilidades para los dos primeros elementos, \ldots,
para el elemento $n$-ésimo seguimos teniendo $m$ posibilidades, luego hay
$$m \cdot \underbrace{\ldots}_{\mbox{$n$ veces}} \cdot m = m^n$$

\section{Permutaciones}

Las permutaciones consisten en, dado un conjunto de $m$ elementos, calcular de cuantas formas posibles
somos capaces de reordenar dicho conjunto en conjuntos distintos.\\


Se trata de una disciplina en la que obviamente importa el orden, por lo que dos permutaciones de $m$
elementos serán distintas si sus elementos están dispuestos en distinto orden.\\


Por tanto, dado el conjunto $\{1, 2\}$ las permutaciones $\{1, 2\}, \{2, 1\}$ son distintas.

\subsection{Permutaciones sin repetición}

Esta disciplina cuenta el número de formas posibles en las que podemos reordenar un conjunto de $m$ elementos
en el que cada elemento se repite una única vez. Es decir, no hay elementos repetidos en él. Por tanto, un
conjunto de la forma $\{0, 1, 1\}$ sería un conjunto inválido para esta modalidad.\\


Notemos que las permutaciones de $m$ elementos sin repetición coinciden con las variaciones sin repetición
de elegir $m$ elementos a partir de $m$ elementos del conjunto padre. Por tanto, igualando $n=m$ tenemos
la expresión deseada para calcular el número de formas distintas en las que podemos reordenar un conjunto
de $m$ elementos:
$$P_m = V_{m, m} = m!$$


Su razonamiento es análogo al de las variaciones sin repetición, esta vez cogiendo $m$ elementos.

\subsection{Permutaciones con repetición}

Esta disciplina trata de contar el número de formas posibles en las que podemos reordenar un conjunto
de $m$ elementos en el que es posible que un elemento se repite varias veces. Es decir, el primer elemento
se repite $n_1$ veces, el siguiente que es distinto al primero $n_2$ veces, \ldots, el último elemento
distinto a los anteriores se repite $n_k$ veces. Notemos que $\sum\limits_{i=1}^k n_i = m$.\\


Para calcular el número de formas distintas en las que podemos reordenar un conjunto de $m$ elementos en el
que hay $n_1$ elementos iguales, $n_2$ elementos iguales,~\ldots,~$n_k$ elementos iguales viene dado por
la expresión:
$$PR_m^{n_1, n_2, \ldots, n_k} = \dfrac{m!}{n_1! \cdot n_2! \cdot \ldots \cdot n_k!}$$


Su razonamiento es, partiendo de una permutación sin repetición, tenemos $m!$ formas posibles de permutar
el conjunto, lo que pasa es que tenemos elementos repetidos, el primer elemento se repite $n_1$ veces,
el segundo distinto al primero $n_2$ veces, \ldots Por tanto, de todas las formas posibles en las que podemos
ordenar el conjunto queremos quitarnos la posibilidad de intercambiar los elementos que son iguales entre sí,
que lo conseguimos dividiendo entre $n_i!~~\forall i \in \{1, \ldots, k\}$.

\section{Combinaciones}

Las combinaciones de $n$ elementos a partir de un conjunto de $m$ elementos distintos son variaciones
en las que no importa el orden, es decir, las combinaciones del conjunto padre $\{0, 1, 2\}$ dadas por
$\{0, 1\}, \{1, 0\}$ son iguales. Por tanto diremos que dos combinacinoes son distintas si y sólo si
tienen elementos distintos.\\

Notemos que las combinaciones (con y sin repetición) son variaciones (con y sin variación) en las que
no importa el orden. Para adentrarnos en la diferencia entre las que son con repetición o sin repetición, es necesario definir el siguiente concepto:
\begin{definicion}[Número combinatorio] Dados $m,n\in \bb{N}\cup \{0\}$, con $m\geq n$, el número combinatorio ``$m$ sobre $n$'' es un número entero que resulta de evaluar la siguiente expresión:
    \begin{equation*}
        \binom{m}{n}:=\dfrac{m!}{(m-n)! \cdot n!}
    \end{equation*}
\end{definicion}

\subsection{Combinaciones sin repetición}
Esta modalidad se basa en, dado un conjunto padre de $m$ elementos distintos, obtener $n$ elementos
de dicho conjunto (cada elemento sólo se podrá obtener como máximo una vez), sin que importe el orden.
Por tanto, debemos tener en cuenta que $1 \leq n \leq m$.\\


El número de formas distintas de las que podemos tomar $n$ elementos distintos de un conjunto padre con $m$
elementos distintos sin que importe el orden (con $1 \leq n \leq m$) viene dado por la expresión:
$$C_{m, n} = \dfrac{V_{m, n}}{P_n} = \dfrac{m!}{(m-n)! \cdot n!} =: \binom{m}{n} $$


Es decir, consideramos el número total de variaciones de $n$ elementos a partir de un conjunto de $m$ elementos
distintos y le quitamos las distintas formas en las que podemos reordenar dicho conjunto de $n$ elementos,
es decir, nos olvidamos de las permutaciones de $n$ elementos que podemos realizar ya que con ellas
obtendríamos conjuntos iguales al no importar el orden.

\subsection{Combinaciones con repetición}

Esta modalidad es similar a la anterior, dada una variación con repetición de $n$ elementos a partir de un
conjunto padre de $m$ elementos distintos, tratamos de olvidarnos de aquellos conjuntos que teniendo los
mismos elementos están ordenados de formas distintas.\\


Para calcular el número de formas en las que podemos coger una variación de $n$ elementos a partir de un
conjunto padre de $m$ elementos distintos sin que importe el orden usaremos la expresión:
$$CR_{m,n} = C_{m+n-1, n} = \binom{m+n-1}{n} = \dfrac{(m+n-1)!}{(m-1)! \cdot n!}$$