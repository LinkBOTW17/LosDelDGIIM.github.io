\section{Lógica de Primer Orden}


\begin{ejercicio}
    Sean $x,y$ dos símbolos de variable distintos,
    $\alpha=\forall xr(y,x)$ una fórmula en el lenguaje $\bf{L}$
    y sea $\bf{A}$ la estructura para $\bf{L}$ según lo siguiente:
    \begin{itemize}
        \item $A=\bb{N}$
        \item $(r)^{\bf{A}}=~\leq~= \{(a,b)\in A^2\mid \exists n\in\bb{N} \text{ tal que } a+n=b\}$
    \end{itemize}

    Sea $v:V\to A$ una valuación tal que $v(y)=0$. Estudiar el valor de $I_{\bf{A}}^v(\alpha)$.\\

    Tenemos que:
    \begin{align*}
        I_{\bf{A}}^v(\alpha) = 1
        & \Longleftrightarrow \forall n\in \bb{N},\quad  I_{\bf{A}}^{v(x|n)}(r(y,x))=1\\
        & \Longleftrightarrow \forall n\in \bb{N},\quad  \langle v(x|n)(y),v(x|n)(x)\rangle\in (r)^{\bf{A}}\\
        & \Longleftrightarrow \forall n\in \bb{N},\quad  \langle v(y),n\rangle\in (r)^{\bf{A}}\\
        & \Longleftrightarrow \forall n\in \bb{N},\quad  \langle 0,n\rangle\in (r)^{\bf{A}}\\
        & \Longleftrightarrow \forall n\in \bb{N},\quad  0\leq n\\
        & \Longleftrightarrow \forall n\in \bb{N},\quad  \exists m\in \bb{N} \text{ tal que } 0+m=n
    \end{align*}

    Tomando $m=n$, se tiene que $0+m=n$ y por tanto $I_{\bf{A}}^v(\alpha)=1$.
\end{ejercicio}


\begin{ejercicio}
    Sea la fórmula $\alpha=\forall x((x,f(x))\rightarrow\exists yr(x,y))$ en el lenguaje de primer orden $\bf{L}$.
    Estudiar si $\alpha$ es válida, contingente o contradictoria.\\

    Para toda $\bf{L}-$interpretación $\langle \bf{A},v\rangle$, tenemos que:
    \begin{align*}
        I_{\bf{A}}^v(\alpha) = 1
        & \Longleftrightarrow \forall a\in A,\quad  I_{\bf{A}}^{v(x|a)}((x,f(x))\rightarrow\exists yr(x,y))=1\\
        & \Longleftrightarrow \forall a\in A,\quad  I_{\bf{A}}^{v(x|a)}(x,f(x))= 0 \quad\text{o}\quad I_{\bf{A}}^{v(x|a)}(\exists yr(x,y))=1\\
        & \Longleftrightarrow \forall a\in A,\quad  \langle v(x|a)(x),v(x|a)(f(x))\rangle\notin (r)^{\bf{A}} \quad\text{o}\quad \exists b\in A \text{ tal que } I_{\bf{A}}^{v(x|a,y|b)}(r(x,y))=1\\
        & \Longleftrightarrow \forall a\in A,\quad  \langle a,(f)^{\bf{A}}(a)\rangle\notin (r)^{\bf{A}} \quad\text{o}\quad \exists b\in A \text{ tal que } \langle v(x|a,y|b)(x),v(x|a,y|b)(y)\rangle\in (r)^{\bf{A}}\\
        & \Longleftrightarrow \forall a\in A,\quad  \langle a,(f)^{\bf{A}}(a)\rangle\notin (r)^{\bf{A}} \quad\text{o}\quad \exists b\in A \text{ tal que } \langle a,b\rangle\in (r)^{\bf{A}}
    \end{align*}

    Dado $a\in A$, caben dos posibilidades:
    \begin{itemize}
        \item Si $\langle a,(f)^{\bf{A}}(a)\rangle\notin (r)^{\bf{A}}$, entonces $I_{\bf{A}}^v(\alpha)=1$ de forma trivial.
        \item Si $\langle a,(f)^{\bf{A}}(a)\rangle\in (r)^{\bf{A}}$, entonces tomando $b=(f)^{\bf{A}}(a)$, se tiene que $\langle a,b\rangle\in (r)^{\bf{A}}$ y por tanto $I_{\bf{A}}^v(\alpha)=1$.
    \end{itemize}

    Por tanto, $\alpha$ es válida.
\end{ejercicio}



\begin{ejercicio}
    Sean $x,y$ dos símbolos de variable distintos en el lenguaje de primer orden $\bf{L}$, demuestre que:
    \begin{enumerate}
        \item $\exists x\forall y p(x,y)\vDash \forall y\exists x p(x,y)$.
        
        Sea $\langle \bf{A},v\rangle$ una $\bf{L}-$interpretación tal que $I_{\bf{A}}^v(\exists x\forall y p(x,y))=1$. Tenemos:
        \begin{align*}
            I_{\bf{A}}^v(\exists x\forall y p(x,y)) = 1
            & \Longleftrightarrow \exists a_0\in A,\quad  I_{\bf{A}}^{v(x|a_0)}(\forall y p(x,y))=1\\
            & \Longleftrightarrow \exists a_0\in A,\quad  \forall b\in A,\quad I_{\bf{A}}^{v(x|a_0,y|b)}(p(x,y))=1 \\
            & \Longleftrightarrow \exists a_0\in A,\quad  \forall b\in A,\quad \langle v(x|a_0,y|b)(x),v(x|a_0,y|b)(y)\rangle\in (p)^{\bf{A}}\\
            & \Longleftrightarrow \exists a_0\in A,\quad  \forall b\in A,\quad \langle a_0,b\rangle\in (p)^{\bf{A}}
        \end{align*}

        Veamos ahora el valor de $I_{\bf{A}}^v(\forall y\exists x p(x,y))$:
        \begin{align*}
            I_{\bf{A}}^v(\forall y\exists x p(x,y)) = 1
            & \Longleftrightarrow \forall b\in A,\quad  I_{\bf{A}}^{v(y|b)}(\exists x p(x,y))=1\\
            & \Longleftrightarrow \forall b\in A,\quad  \exists a\in A,\quad I_{\bf{A}}^{v(y|b,x|a)}(p(x,y))=1\\
            & \Longleftrightarrow \forall b\in A,\quad  \exists a\in A,\quad \langle v(y|b,x|a)(x),v(y|b,x|a)(y)\rangle\in (p)^{\bf{A}}\\
            & \Longleftrightarrow \forall b\in A,\quad  \exists a\in A,\quad \langle a,b\rangle\in (p)^{\bf{A}}
        \end{align*}
        Tomando $a=a_0$, se tiene que $\langle a_0,b\rangle\in (p)^{\bf{A}}$ y por tanto $I_{\bf{A}}^v(\forall y\exists x p(x,y))=1$,
        lo que implica que $\exists x\forall y p(x,y)\vDash \forall y\exists x p(x,y)$.

        \item $\forall y\exists x p(x,y)\nvDash \exists x\forall y p(x,y)$.
        
        Hemos de buscar una $\bf{L}-$interpretación $\langle \bf{A},v\rangle$ tal que $I_{\bf{A}}^v(\forall y\exists x p(x,y))=1$ y $I_{\bf{A}}^v(\exists x\forall y p(x,y))=0$.
        Sean los siguientes conjuntos:
        \begin{align*}
            A&=\{0,1\}\\
            (p)^{\bf{A}}&=\{\langle 0,0\rangle,\langle 1,1\rangle\}
        \end{align*}

        Sea $v$ una asignación fija pero arbitraria. Tenemos que:
        \begin{align*}
            I_{\bf{A}}^v(\forall y\exists x p(x,y)) = 1
            & \Longleftrightarrow \forall b\in A,\quad  I_{\bf{A}}^{v(y|b)}(\exists x p(x,y))=1\\
            & \Longleftrightarrow \forall b\in A,\quad  \exists a\in A,\quad I_{\bf{A}}^{v(y|b,x|a)}(p(x,y))=1\\
            & \Longleftrightarrow \forall b\in A,\quad  \exists a\in A,\quad \langle v(y|b,x|a)(x),v(y|b,x|a)(y)\rangle\in (p)^{\bf{A}}\\
            & \Longleftrightarrow \forall b\in A,\quad  \exists a\in A,\quad \langle a,b\rangle\in (p)^{\bf{A}}
        \end{align*}
        Tanto para $b=0$ como para $b=1$, tomando $a=b$ se tiene que $\langle a,b\rangle\in (p)^{\bf{A}}$ y por tanto $I_{\bf{A}}^v(\forall y\exists x p(x,y))=1$. No obstante, tenemos que:
        \begin{align*}
            I_{\bf{A}}^v(\exists x\forall y p(x,y)) = 1
            & \Longleftrightarrow \exists a\in A,\quad  I_{\bf{A}}^{v(x|a)}(\forall y p(x,y))=1\\
            & \Longleftrightarrow \exists a\in A,\quad  \forall b\in A,\quad I_{\bf{A}}^{v(x|a,y|b)}(p(x,y))=1\\
            & \Longleftrightarrow \exists a\in A,\quad  \forall b\in A,\quad \langle v(x|a,y|b)(x),v(x|a,y|b)(y)\rangle\in (p)^{\bf{A}}\\
            & \Longleftrightarrow \exists a\in A,\quad  \forall b\in A,\quad \langle a,b\rangle\in (p)^{\bf{A}}
        \end{align*}
        No obstante, tenemos que $\langle 0,1\rangle,~\langle 1,0\rangle\notin (p)^{\bf{A}}$,
        por lo que lo anterior no se da, y por tanto $I_{\bf{A}}^v(\exists x\forall y p(x,y))=0$.
        Concluimos entonces que:
        \[\forall y\exists x p(x,y)\nvDash \exists x\forall y p(x,y)\]

        \item $q(x)\nvDash \forall x q(x)$.
        
        Hemos de buscar una $\bf{L}-$interpretación $\langle \bf{A},v\rangle$ tal que se tenga $I_{\bf{A}}^v(q(x))=1$ y $I_{\bf{A}}^v(\forall x q(x))=0$.
        Sea $A=\{0,1\}$ y $(q)^{\bf{A}}=\{0\}$. Tomando $v$ una asignación fija tal que $v(x)=0$, se tiene que:
        \begin{align*}
            I_{\bf{A}}^v(q(x)) = 1
            & \Longleftrightarrow v(x)\in (q)^{\bf{A}}\\
            & \Longleftrightarrow 0\in (q)^{\bf{A}}
        \end{align*}

        No obstante, tenemos que:
        \begin{align*}
            I_{\bf{A}}^v(\forall x q(x)) = 1
            & \Longleftrightarrow \forall a\in A,\quad  I_{\bf{A}}^{v(x|a)}(q(x))=1\\
            & \Longleftrightarrow \forall a\in A,\quad  v(x|a)(x)\in (q)^{\bf{A}}\\
            & \Longleftrightarrow \forall a\in A,\quad  a\in (q)^{\bf{A}}
        \end{align*}
        No obstante, para $a=1$ se tiene que $1\notin (q)^{\bf{A}}$, por lo que $I_{\bf{A}}^v(\forall x q(x))=0$.
        Concluimos entonces que:
        \[q(x)\nvDash \forall x q(x)\]

        \item $\vDash \exists x(q(x)\rightarrow \forall x q(x))$.
        
        Sea $\langle \bf{A},v\rangle$ una $\bf{L}-$interpretación arbitraria. Tenemos que:
        \begin{align*}
            I_{\bf{A}}^v&(\exists x(q(x)\rightarrow \forall x q(x))) = 1 \Longleftrightarrow \\
            & \Longleftrightarrow \exists a\in A,\quad  I_{\bf{A}}^{v(x|a)}(q(x)\rightarrow \forall x q(x))=1\\
            & \Longleftrightarrow \exists a\in A,\quad  I_{\bf{A}}^{v(x|a)}(q(x))=0 \quad\text{o}\quad I_{\bf{A}}^{v(x|a)}(\forall x q(x))=1\\
            & \Longleftrightarrow \exists a\in A,\quad  v(x|a)(x)\notin (q)^{\bf{A}} \quad\text{o}\quad \forall b\in A,\quad I_{\bf{A}}^{v(x|a,x|b)}(q(x))=1\\
            & \Longleftrightarrow \exists a\in A,\quad  a\notin (q)^{\bf{A}} \quad\text{o}\quad \forall b\in A,\quad v(x|a,x|b)(x)\in (q)^{\bf{A}} \\
            & \Longleftrightarrow \exists a\in A,\quad  a\notin (q)^{\bf{A}} \quad\text{o}\quad \forall b\in A,\quad b\in (q)^{\bf{A}}
        \end{align*}

        Tenemos que esta última expresión es siempre cierta, ya que son condiciones mutuamente excluyentes. Por tanto, se tiene que:
        \[\vDash \exists x(q(x)\rightarrow \forall x q(x))\]
        \begin{observacion}
            Recalquemos por qué $v(x|a,x|b)(x)=b$. Por definición, tenemos que:
            \begin{equation*}
                v(x|a)(y)=\begin{cases}
                    a & \text{si } y=x\\
                    v(y) & \text{si } y\neq x
                \end{cases}
            \end{equation*}

            Por tanto, tenemos que:
            \begin{equation*}
                v(x|a,x|b)(y)=\left\{\begin{array}{ll}
                    b & \text{si } y=x\\
                    v(x|a)(y) & \text{si } y\neq x
                \end{array}\right\}
                = \left\{\begin{array}{ll}
                    b & \text{si } y=x\\
                    v(y) & \text{si } y\neq x
                \end{array}\right.
            \end{equation*}
        \end{observacion}
    \end{enumerate}
\end{ejercicio}