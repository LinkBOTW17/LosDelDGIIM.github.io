\section{Lógica Proposicional}

\begin{ejemplo}
    $a\to b$ (siempre que $b\not\equiv a$) es refutable
\end{ejemplo}
\begin{proof}
    Basta tomar una valoración $v$ tal que $v(a)=1$ y $v(b)=0$.

    De hecho, $a\to b$ es satisfacible, luego es una fórmula contingente.
\end{proof}

% // TODO: formatear bien
\begin{ejemplo}
    Todas las siguientes fórmulas proposicionales son tautologías (siempre verdaderas):
    \begin{enumerate}
        \item $(a\rightarrow a)$
        \item $(\alpha\lor \lnot \alpha)$
    \end{enumerate}
\end{ejemplo}
\begin{proof}
    \ 
    \begin{enumerate}
        \item 
            \begin{align*}
                v(a\rightarrow a) &= v(a)v(a)+v(a)+1 \\
                         &= v(a) + v(a) + 1 \\
                         &= 0 + 1 = 1
            \end{align*}
        \item 
            \begin{align*}
                v(\alpha\lor \lnot \alpha) &= v(\alpha)v(\lnot \alpha) + v(\alpha) + v(\lnot \alpha)\\
                                          &= v(\alpha)(v(\alpha)+1) + v(\alpha) + v(\alpha) + 1 \\
                                          &= v(\alpha) + v(\alpha) + v(\alpha) + v(\alpha) + 1\\
                                          &= 0 + 0 + 1 = 1
            \end{align*}
    \end{enumerate}
\end{proof}

\begin{ejercicio*}
    Demuestre que las siguientes reglas son correctas

    \begin{enumerate}
        \item \ 
    \begin{equation*}
    \begin{array}{c}
        \alpha\rightarrow(\beta\rightarrow\gamma)\\
        \alpha\land\beta \\
        \hline 
        \gamma
    \end{array}
    \end{equation*}
    Sea $v$ una asignación fija pero arbitraria a condición de cumplir
    \begin{equation*}
        v(\alpha\rightarrow(\beta\rightarrow\gamma)) = 1 = v(\alpha\land \beta)
    \end{equation*}
    Debemos demostrar que $v(\gamma)=1$.

    Sabemos por hipótesis que:
    \begin{itemize}
        \item \ 
            \begin{align*}
                1 &= v(\alpha\rightarrow(\beta\rightarrow\gamma)) \\
                  &= v(\alpha)v(\beta\rightarrow\gamma) + v(\alpha) + 1\\
                  &= v(\alpha)(v(\beta)v(\gamma) + v(\beta)+1)+v(\alpha)+1 \\
                  &= v(\alpha)v(\beta)v(\gamma) + v(\alpha)v(\beta)+\cancel{v(\alpha)} \\
                  &+ \cancel{v(\alpha)} + 1 \\
                  &= v(\alpha)v(\beta)v(\gamma)+v(\alpha)v(\beta)+1
            \end{align*}
            Si y sólo si
            \begin{align*}
                v(\alpha)v(\beta)v(\gamma)+v(\alpha)v(\beta) = 0 
            \end{align*}
            Si y sólo si
            \begin{align*}
                v(\alpha)v(\beta)v(\gamma) = v(\alpha)v(\beta)
            \end{align*}
        \item \ 
            \begin{align*}
                1 &= v(\alpha\land\beta) \\
                  &= v(\alpha)v(\beta)
            \end{align*}
            Y uniendo las dos igualdades obtenidas, tenemos:
            \begin{align*}
                v(\gamma) &= 1\cdot v(\gamma) \\
                          &= v(\alpha)v(\beta)v(\gamma) \\
                          &= v(\alpha)v(\beta) \\
                          &= 1
            \end{align*}
            Por tanto, $v(\gamma)=1$ y la regla sabemos ahora que es correcta 
    \end{itemize}

\item \ 
    \begin{equation*}
        \begin{array}{c}
            \alpha\rightarrow\gamma \\
            \beta\rightarrow\gamma \\
            \hline
            \alpha\lor\beta\rightarrow\gamma
        \end{array}
    \end{equation*}
    Sea $v$ tal que 
    \begin{equation*}
        v(\alpha\rightarrow\gamma)=1=v(\beta\rightarrow\gamma)
    \end{equation*}
    Entonces
    \begin{gather*}
        1=v(\alpha)v(\gamma)+v(\alpha)+1 \\
        1 = v(\beta)v(\gamma)+v(\beta)+1
    \end{gather*}
    O sea
    \begin{gather*}
        v(\alpha)v(\gamma) = v(\alpha) \\
        v(\beta)v(\gamma) = v(\beta)
    \end{gather*}
    Pero
    \begin{align*}
        v(\alpha\lor\beta\rightarrow\gamma) &= v(\alpha\lor\beta)v(\gamma)+v(\alpha\lor\beta)+1 \\
                                            &= (v(\alpha)v(\beta)+v(\alpha)+v(\beta))v(\gamma) \\
                                            &+ (v(\alpha)v(\beta)+v(\alpha)+v(\beta)) + 1 \\
                                            &= v(\alpha)v(\beta)v(\gamma)+v(\alpha)v(\gamma) + v(\beta)v(\gamma) \\
                                            &+ v(\alpha)v(\beta)+v(\alpha)+v(\beta) + 1
    \end{align*}
    Y aplicando las igualdades anteriormente obtenidas:
    \begin{align*}
        v(\alpha\lor\beta\rightarrow\gamma) &= \cancel{v(\alpha)v(\beta)} + \cancel{v(\alpha)} + \cancel{v(\beta)} \\
                                            &+ \cancel{v(\alpha)v(\beta)}+\cancel{v(\alpha)}+\cancel{v(\beta)} +1\\
                                            &= 1
    \end{align*}

    \item \ 
        \begin{equation*}
            \begin{array}{c}
                \gamma\rightarrow\alpha \\
                \gamma \rightarrow\beta \\
                \hline
                \gamma\rightarrow\alpha\land\beta
            \end{array}
        \end{equation*}

    \item \ 
        \begin{equation*}
            \begin{array}{c}
                \alpha\land\beta\rightarrow\gamma \\
                \alpha \\
                \beta \\
                \hline
                \gamma
            \end{array}
        \end{equation*}

    \item Ley de resolución.
        \begin{equation*}
            \begin{array}{c}
                \alpha\lor\beta \\
                \lnot\alpha\lor\gamma \\
                \hline
                \beta\lor\gamma
            \end{array}
        \end{equation*}
        Sea $v$ tal que 
        \begin{equation*}
            v(\alpha\lor\beta) = 1 = v(\lnot\alpha\lor\gamma)
        \end{equation*}
        y demostremos que
        \begin{equation*}
            v(\beta\lor\gamma) = 1
        \end{equation*}

        Si $v(\alpha\lor\beta)=1$, entonces $v(\alpha)=1$ ó $v(\beta)=1$. 

        Si $v(\lnot\alpha\lor\gamma)=1$, entonces $v(\alpha)=0$ ó $v(\gamma)=1$.\\

        \begin{itemize}
            \item Si $v(\beta)=1$, entonces $v(\beta\lor\gamma)=1$. 

                Supongamos por tanto que $v(\beta)=0$. Y demostremos que $v(\gamma)=1$.

                Si $v(\beta)=0$, entonces $v(\alpha)=1$, por lo que $v(\alpha)\neq 0$ y por tanto, $v(\gamma)=1$, de donde $v(\beta\lor\gamma)=1$.
        \end{itemize}

        Hagámoslo ahora con el estilo algebraico:
        \begin{equation*}
            \begin{array}{c}
                \alpha\lor\beta \\
                \lnot\alpha\lor\gamma \\
                \hline
                \beta\lor\gamma
            \end{array}
        \end{equation*}
        Sea $v$ tal que
        \begin{equation*}
            v(\alpha\lor\beta)=1=v(\lnot\alpha\lor\gamma)
        \end{equation*}
        entonces
        \begin{align*}
            1 &= v(\alpha)v(\beta)+v(\alpha)+v(\beta) \\
            1 &= (v(\alpha)+1)v(\gamma) + v(\alpha) + 1 + v(\gamma) \\
              &= v(\alpha)v(\gamma)+\cancel{v(\gamma)}+v(\alpha)+1+\cancel{v(\gamma)} \\
              &= v(\alpha)v(\gamma)+v(\alpha)+1
        \end{align*}
        O sea
        \begin{align*}
            1 &= v(\alpha)v(\beta) + v(\alpha) + v(\beta) \\
            0 &= v(\alpha)v(\gamma)+v(\alpha)
        \end{align*}
        Por tanto
        \begin{align*}
            1 &= v(\alpha)v(\beta) + v(\alpha) + v(\beta) \\
            v(\alpha) &= v(\alpha)v(\gamma)
        \end{align*}
        Demostremos que 
        \begin{equation*}
            v(\beta)v(\gamma)+v(\beta)+v(\gamma) = 1
        \end{equation*}

        \begin{align*}
            v(\beta) &= v(\alpha)v(\beta)+v(\alpha)+1 \\
            v(\beta)v(\gamma) &= v(\alpha)v(\beta)v(\gamma) + v(\alpha)v(\gamma) + v(\gamma) \\
            v(\beta)v(\gamma) + v(\beta) + v(\gamma) &= v(\alpha)v(\beta)v(\gamma) + v(\alpha)v(\gamma) + \cancel{v(\gamma)} + v(\beta) + \cancel{v(\gamma)} \\
                                                     &= v(\alpha)v(\beta) + v(\alpha) + v(\beta) \\
                                                     &= 1
        \end{align*}
        Por la fórmula de arriba

\end{enumerate}

\end{ejercicio*}

\begin{ejemplo}
    Regla de reducción al absurdo clásica
    \begin{equation*}
        \begin{array}{c}
            \lnot\alpha\rightarrow\beta \\
            \lnot\alpha\rightarrow\lnot\beta \\
            \hline
            \alpha
        \end{array}
    \end{equation*}
\end{ejemplo}

\begin{ejemplo}
    Regla de reducción al absurdo intuicionista
    \begin{equation*}
        \begin{array}{c}
            \alpha\rightarrow\beta\\
            \alpha\rightarrow\lnot\beta \\
            \hline
            \lnot\alpha
        \end{array}
    \end{equation*}
\end{ejemplo}

\begin{ejemplo}
    Demostración por casos
    \begin{equation*}
        \begin{array}{c}
            \lnot\alpha\rightarrow\beta\\
            \alpha\rightarrow\beta\\
            \hline
            \beta
        \end{array}
    \end{equation*}
\end{ejemplo}

\begin{ejemplo}
    Para cualesquiera fórmulas $\alpha$ y $\beta$
    \begin{equation*}
        \alpha,\alpha\rightarrow\beta\vDash\beta
    \end{equation*}
\end{ejemplo}
\begin{proof}
    Sea $v$ fija pero arbitraria a condición de que $v(\alpha)=1=v(\alpha\rightarrow\beta)$. Hemos de demostrar que $v(\beta)=1$.

    \begin{align*}
        1=v(\alpha\rightarrow\beta)&=v(\alpha)v(\beta)+v(\alpha)+1 \\
                                 &=1\cdot v(\beta) + 1 + 1 \\
                                 &= v(\beta)
    \end{align*}
\end{proof}
Por tanto, tenemos que:
\begin{equation*}
    \begin{array}{c}
        \alpha\\
        \alpha\rightarrow\beta\\
        \hline
        \beta
    \end{array}
\end{equation*}

\begin{ejercicio}
    Dada una fórmula $\alpha$, tenemos que:
    \begin{center}
        $\alpha$ es una tautología si y sólo si $\vDash\alpha$
    \end{center}
    
    \begin{proof}
        Para toda asignación $v$ 
        \begin{equation*}
            v_*(\emptyset ) = \emptyset \subseteq \{1\}
        \end{equation*}
        Sabremos que $\vDash\alpha$ si y sólo si para toda asignación $v(\alpha)=1$, si y sólo si $\alpha$ es una tautología.
    \end{proof}
    
\end{ejercicio}

\begin{prop}
    \ 
    \begin{enumerate}
        \item El conjunto $\emptyset $ es satisfacible.
        \item Existen conjuntos insatisfacibles.
        \item Si $\Delta$ es insatisfacible y $\Delta \subseteq \Gamma$, entonces $\Gamma$ es insatisfacible.
        \item $\{\alpha,\alpha\rightarrow\lnot\alpha\}$ es insatisfacible.
    \end{enumerate}
    \begin{proof}
        \ 
        \begin{enumerate}
            \item Por vacuidad:\newline
                Sabemos que existen valoraciones. Dado una fórmula $a_0$:
                \begin{equation*}
                    \chi_{\{a_0\}}
                \end{equation*}

                Si $\emptyset $ fuese insatisfacible, existería $\varphi_v\in \emptyset $ tal que $v(\varphi_v)=0$, lo cual es absurdo.
            \item Lo sabemos porque existen símbolos de variable proposicional.
                \begin{equation*}
                    \{a, \lnot a\}
                \end{equation*}
                es insatisfacible.
            \item Fácil de ver.
            \item Sea $v$ tal que $v(\alpha)=1$. Entonces:
                \begin{align*}
                    v(\alpha\rightarrow\lnot\alpha)&=v(\alpha)v(\lnot\alpha)+v(\alpha)+1\\
                    &= 1\cdot 0+1+1 \\
                    &= 0 + 0 = 0
                \end{align*}
                Si $\{\alpha,\alpha\rightarrow\lnot\alpha\}$ fuera satisfacible, debería ser $v(\alpha)=1$ y $v(\alpha\land\lnot\alpha)=1$, pero si $v(\alpha)=1$, entonces $v(\alpha\land\lnot\alpha)=0$.
        \end{enumerate}
    \end{proof}
\end{prop}

\begin{prop}[Modus ponens]
    Para todo conjunto $\Gamma\cup\{\alpha,\beta\}$. Si
    \begin{equation*}
        \Gamma\vDash\alpha \text{\ y\ } \Gamma\vDash\alpha\rightarrow\beta
    \end{equation*}
    Entonces, $\Gamma\vDash\beta$.

    O sea, si $\alpha,\alpha\rightarrow\beta\in Con(\Gamma)$, entonces $b\in Con(\Gamma)$.

    $Con(\Gamma)$ es cerrado por la regla:
    \begin{equation*}
        \begin{array}{c}
            \alpha \\
            \alpha\rightarrow\beta \\
            \hline
            \beta
        \end{array}
    \end{equation*}
\end{prop}


\begin{prop}
    Para toda $\alpha$ y $\beta$, $\beta\in Con(\{\alpha\land\lnot\alpha\})$.
    \begin{proof}
        \begin{align*}
            \alpha\rightarrow(\lnot\alpha\rightarrow\beta) &\in Con(\emptyset )\subseteq Con(\{\alpha\land\lnot\alpha\})\\
            \alpha\land\lnot\alpha\rightarrow\alpha &\in Con(\emptyset )\subseteq Con(\{\alpha\land\lnot\alpha\}) \\
            \alpha\land \lnot\alpha\rightarrow\lnot\alpha &\in Con(\{\alpha\land\lnot\alpha\})\\
                                                          &\Longrightarrow \alpha,\lnot\alpha\in Con(\{\alpha\land\lnot\alpha\}) \\
                                                          &\Longrightarrow \beta\in Con(\{\alpha\land\lnot\alpha\})
        \end{align*}
        \begin{equation*}
            \begin{array}{c}
                \alpha\land\lnot\alpha\rightarrow\alpha\\
                \alpha\land\lnot\alpha\\
                \hline
                \alpha
            \end{array}\qquad 
            \begin{array}{c}
                \alpha\land\lnot\alpha \rightarrow\lnot\alpha\\
                \alpha\land \lnot\alpha\\
                \hline
                \lnot\alpha
            \end{array}\qquad 
            \begin{array}{c}
                \alpha\rightarrow(\lnot\alpha\rightarrow\beta)\\
                \hline
                \lnot\alpha\rightarrow\beta
            \end{array}\qquad 
            \begin{array}{c}
                \lnot\alpha\rightarrow\beta \\
                \hline
                \beta
            \end{array}
        \end{equation*}
        Si $\{\alpha\land\lnot\alpha\}\subseteq \Gamma$, entonces para todo $\beta$, $\beta\in Con(\Gamma)$.

    \end{proof}
\end{prop}

\begin{ejercicio}
    Clasifique las siguientes fórmulas:
    \begin{enumerate}
        \item $(\alpha\rightarrow\beta)\rightarrow(\lnot\beta\rightarrow\lnot\alpha)$
        \item $(\alpha\rightarrow\beta)\rightarrow((\alpha\rightarrow\beta)\rightarrow\lnot\alpha)$
        \item $(\alpha\rightarrow\lnot\beta)\rightarrow(\lnot\alpha\rightarrow\beta)$
    \end{enumerate}

    \begin{enumerate}
        \item 
            % // TODO: revisar estas cuentas
            \begin{align*}
                v((\alpha\rightarrow\beta)\rightarrow\lnot\beta\rightarrow\lnot\alpha)  &= v(\alpha\rightarrow\beta)v(\lnot\beta\rightarrow\lnot\alpha)\\
                &+ v(\alpha\rightarrow\beta) + 1 \\
                &= (v(\alpha)v(\beta)+v(\alpha) + 1) (v(\lnot\beta)v(\lnot\alpha)+v(\lnot\beta)+1) \\
                &+ v(\alpha)v(\beta)+v(\alpha)+1+1 \\
                &= \cancelto{0}{v(\alpha)v(\beta)v(\lnot\beta)v(\lnot\alpha)}+\cancelto{0}{v(\alpha)v(\lnot\beta)v(\lnot\alpha)} \\
                &+ v(\lnot\beta)v(\lnot\alpha) + v(\alpha)v(\lnot\beta)+v(\lnot\beta) \\
                &+ \scancel{v(\alpha)v(\beta)}+v(\alpha)+\cancel{1}+ \scancel{v(\alpha)v(\beta)}+v(\alpha)+\cancel{1} +1\\
                &= v(\alpha)v(\lnot\beta)+v(\lnot\beta)+v(\lnot\beta)v(\lnot\alpha)+1 \\
                &= (v(\alpha)+1) v(\lnot\beta)+v(\lnot\beta)v(\lnot\alpha) + 1 \\
                &= v(\lnot\alpha)v(\lnot\beta) + v(\lnot\alpha)v(\lnot\beta) + 1 \\
                &= 0 + 1 = 1
            \end{align*}
            Se trata de una tautología.
        \item También es una tautología % // TODO:
        \item 
            \begin{align*}
                v((\alpha\rightarrow\lnot\beta)\rightarrow(\lnot\alpha\rightarrow\beta)) &= v(\alpha\rightarrow\lnot\beta)v(\lnot\alpha\rightarrow\beta)+v(\alpha\rightarrow\lnot\beta) + 1 \\
                                                                                         &= (v(\alpha)v(\lnot\beta)+v(\alpha)+1)(v(\lnot\alpha)v(\beta)+\cancelto{0}{v(\lnot\alpha)+1)} \\
                &+ v(\alpha)v(\lnot\beta)+v(\alpha)+1+1 \\ 
                &= \cancelto{0}{v(\alpha)v(\lnot\beta)v(\lnot\alpha)v(\beta)} + v(\lnot\alpha)v(\beta)v(\alpha) \\
                &+ v(\lnot\alpha)v(\beta) + \cancelto{0}{v(\alpha)v(\lnot\beta)v(\lnot\alpha)} + v(\lnot\alpha) \\
                &+ \cancel{v(\alpha)v(\lnot\beta)+v(\alpha)+1} \\
                &+ \cancel{v(\alpha)v(\lnot\beta)+v(\alpha)+1}+1 \\
                &= v(\lnot\alpha)v(\beta)+v(\lnot\alpha)+1 \\ 
                &= v(\lnot\alpha)v(\lnot\beta) + 1 
            \end{align*}
            Por tanto, depende de los valores de $\alpha$ y de $\beta$:
            \begin{itemize}
                \item Si $v(\lnot\alpha)=1=v(\lnot\beta)$, entonces:
                    \begin{equation*}
                        v((\alpha\rightarrow\lnot\beta)\rightarrow(\lnot\alpha\rightarrow\beta))=0
                    \end{equation*}
                \item Si $v(\lnot\alpha)=0$ ó $v(\lnot\beta)=0$, entonces:
                    \begin{equation*}
                        v((\alpha\rightarrow\lnot\beta)\rightarrow(\lnot\alpha\rightarrow\beta)) = 1
                    \end{equation*}
            \end{itemize}
            En general, la fórmula ni será tautología ni contradicción. El caso particular en el que $\alpha$ y $\beta$ fuesen símbolos de variable proposicional, daría una fórmula contingente.
    \end{enumerate}
\end{ejercicio}

\begin{ejercicio}
    Demuestre que para todo conjunto de fórmulas $\Gamma\cup\{\alpha,\beta\}$, se cumple
    \begin{equation*}
        Con(\Gamma,\alpha\lor\beta) = Con(\Gamma,\alpha) \cap Con(\Gamma,\beta)
    \end{equation*}

    La demostración es por doble inclusión.
    \begin{description}
        \item [$\subseteq$)] 
            Para cualesquiera fórmulas $\alpha$, $\beta$ se tiene que $\alpha\rightarrow\alpha\lor\beta$ es una tautología, luego 
                \begin{gather*}
                    \alpha\rightarrow\alpha\lor\beta\in Con(\emptyset ) \\
                    \emptyset \subseteq \Gamma\cup\{\alpha\} \\
                    Con(\emptyset )\subseteq Con(\Gamma,\alpha) \\
                    \alpha\rightarrow\alpha\lor\beta\in Con(\Gamma,\alpha) \\
                    \Gamma\cup\{\alpha\}\subseteq Con(\Gamma,\alpha)\\
                    \alpha\in Con(\Gamma,\alpha) \\
                    Con(\Gamma,\alpha) \text{\ es\ cerrado\ por\ modus\ ponens} \\
                    \alpha\lor\beta\in Con(\Gamma,\alpha)
                \end{gather*}
                De la misma manera, tenemos que $\alpha\lor\beta\in Con(\Gamma,\beta)$, de donde:
                \begin{equation*}
                    \alpha\lor\beta\in Con(\Gamma,\alpha)\cap Con(\Gamma,\beta)
                \end{equation*}
                y tenemos que:
                \begin{gather*}
                    \Gamma\subseteq Con(\Gamma,\alpha)\cap Con(\Gamma,\beta) \\
                    \Gamma\cup\{\alpha\lor\beta\} \subseteq Con(\Gamma,\alpha) \\
                    Con(\Gamma\cup\{\alpha\lor\beta\}) \subseteq Con(Con(\Gamma,\alpha)) = Con(\Gamma,\alpha)
                \end{gather*}
                \begin{align*}
                    Con(\Gamma,\alpha\lor\beta) &\subseteq Con(\Gamma,\alpha) \\
                    Con(\Gamma,\alpha\lor\beta) &\subseteq Con(\Gamma,\beta) \\
                    Con(\Gamma,\alpha\lor\beta) &\subseteq Con(\Gamma,\alpha)\cap Con(\Gamma,\beta)
                \end{align*}
        \item [$\supseteq$)] Sea $\gamma\in Con(\Gamma,\alpha)\cap Con(\Gamma,\beta)$
            \begin{align*}
                (\alpha\rightarrow\gamma)\rightarrow((\beta\rightarrow\gamma)\rightarrow((\alpha\lor\beta)\rightarrow\gamma))&\in Con(\emptyset ) \\
                (\alpha\rightarrow\gamma)\rightarrow((\beta\rightarrow\gamma)\rightarrow((\alpha\lor\beta)\rightarrow\gamma)) &\in  Con(\Gamma,\alpha) \cap Con(\Gamma,\beta)
            \end{align*}
            \begin{gather*}
                \alpha\rightarrow\gamma\in Con(\Gamma) \text{\ y\ } \betae\rightarrow\gamma\in Con(\Gamma) \\
                \alpha\lor\beta\rightarrow\gamma\in Con(\Gamma)
            \end{gather*}
            Por ser $Con(\Gamma)$ cerrado por modus ponens.
            \begin{equation*}
                \gamma\in Con(\Gamma,\alpha\lor\beta)
            \end{equation*}
            Luego $Con(\Gamma,\alpha)\cap Con(\Gamma,\beta)\subseteq Con(\Gamma,\alpha\lor\beta)$
    \end{description}
\end{ejercicio}


