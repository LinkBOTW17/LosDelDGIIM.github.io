\chapter{Introducción}

\begin{ejercicio}
   Explique brevemente las funciones de cada una de las capas del modelo de comunicación de datos OSI\@. \\

   El modelo de comunicación de datos OSI cuenta con 7 niveles o capas:
   \begin{enumerate}
       \item Capa física: Se encarga de la parte física de la transmisión de los datos. Encontramos distintas formas de codificar los bits para su envío. 

           Realiza funciones adicionales, como la codificación del canal.
       \item Capa de enlace: Se encarga de los mecanismos de acceso al medio. En caso de haber un medio compartido por varios dispositivos, debe encargarse de no transmitir datos cuando otro medio lo está haciendo y de hacerlo cuando el canal se encuentre libre.

           En esta capa nos encontramos con los protocolos MAC y LLC\@.
       \item Capa de red: Se encarga principalmente del direccionamiento de equipos (saber dar una dirección y tener un identificador dentro de la red) y del encaminamiento de datos (saber cómo mandar los paquetes al destinatario).
       \item Capa de transporte: Se encarga principalmente de la fiabilidad de las comunicaciones:
           \begin{itemize}
               \item Corrección de errores.
               \item Manejar el congestionamiento de la red.
               \item Controlar el flujo de datos (reducir velocidades si el receptor no es capaz de adecuar la velocidad de recibo a la de envío).
               \item Realizar la multiplexación de los datos (ya que un mismo equipo puede tener varias aplicaciones que estén recibiendo datos a la vez).
           \end{itemize}

       \item Capa de sesión.
        \item Capa de presentación\footnote{No se han mencionado en clase las funcionalidades de las capas de presentación ni de sesión.}.
        \item Capa de aplicación: Se encarga de decidir qué datos envía a qué equipo, así como de interpretar los datos recibidos por otros equipos.
   \end{enumerate}
\end{ejercicio}

\begin{ejercicio}
   Si la unidad de datos de protocolo en la capa de enlace se llama trama y la unidad de datos de protocolo en la capa de red se llama paquete, ¿son las tramas las que encapsulan los paquetes o son los paquete los que encapsulan las tramas? Explicar la respuesta. \\
   
   Son las tramas las que encapsulan a los paquetes, ya que son las capas inferiores (en este caso, la de enlace) las que encapsulan la información de las capas superiores (en este caso, la de red) para su envío.\\

   De esta forma, los paquetes son la PDU de la capa de red, que se convierte en el SDU de la capa de enlace, la cual añade su cabecera al mismo convirtiéndolo en su PDU\@.
\end{ejercicio}

\begin{ejercicio}
    Averigüe qué son los sistemas de representación de datos ``\textit{Little Endian}'' y ``\textit{Big Endian}''. ¿puede un host que utilice representación \textit{Little Endian} interpretar mensajes de datos numéricos provenientes de un host que utilice representación \textit{Big Endian} y viceversa? Discuta la respuesta.\\

    Sí que puede, para ello, debe haber un determinado protocolo que permita indicar qué codificación llevan los datos en binario. De esta forma, en alguna parte de la cabecera de los paquetes enviados, debe haber un bit que indique si los valores numéricos que se envían estén en \textit{Big Endian} o en \textit{Little Endian}.
\end{ejercicio}

\begin{ejercicio}
    Cuando se intercambia un fichero entre dos hosts se pueden seguir dos estrategias de confirmación. En la primera, el fichero se divide en paquetes que se confirman individualmente por el receptor, pero el fichero en conjunto no se confirma. En la segunda, los paquetes individuales no se confirman individualmente, es el fichero entero el que se confirma cuando llega completo. Discutir las dos opciones.\\

    Suponiendo que enviamos $n$ paquetes de datos, la primera forma envía de vuelta al emisor $n$ paquetes de confirmación, uno por cada paquete. De la segunda forma, el receptor espera a unir todos los paquetes en un fichero completo (y a verificar que no se ha perdido ningún paquete del mismo) para enviar el mensaje de verificación.\\

    De la segunda forma se envían menos mensajes de verificación al emisor, por lo que la posibilidad de congestión de red por paquetes de verificación es menor. Sin embargo, en caso de que un paquete no consiga llegar o llegue en mal estado, no será hasta el final del envío de todos los paquetes que el receptor no genere el mensaje al emisor, por lo que en caso de errores en la comunicación, hay un mayor tiempo en la comunicación, al tener que esperar a que el receptor tenga todos los paquetes.\\

    Resumiendo, ambas estrategias de confirmación tienen sus pros y sus contras. Dependiendo de la situación (si queremos mayor velocidad en la comunicación o si queremos menor saturación de red), puede interesarnos una u otra.
\end{ejercicio}

\begin{ejercicio}
   ¿Para qué sirve el programa \textit{ping}? ¿y el programa \textit{traceroute}? \\

   El programa \textit{ping} usa el protocolo ICMP para enviar un paquete a un equipo, el cual tratará de responder con un paquete de confirmación de recepción del primer paquete. Sirve para comprobar la conexión y el buen funcionamiento de la red existente entre dos equipos.

   Por otra parte, el programa \textit{traceroute} sirve para consultar todos los nodos intermedios por los que pasan los paquetes que salen de un emisor y llegan a un receptor.
\end{ejercicio}

\begin{ejercicio}
    ¿Qué protocolos de un paquete puede cambiar un router? ¿En qué circunstancias?\\

    Puede cambiar el TTL (\textit{time to life}) del paquete\footnote{Todavía no se ha mencionado en clase nada más acerca de esto.}.
\end{ejercicio}

\begin{ejercicio} % // TODO: this
    Averigue qué ISPs operan en España.
\end{ejercicio}

\begin{ejercicio}
    ¿Qué es una aplicación cliente-servidor?¿y una aplicación \textit{peer-to-peer}?\\

    Una aplicación cliente-servidor es una aplicación que depende de otra que probablemente esté en un equipo remoto (llamado servidor) para su funcionamiento. 

    Un ejemplo de aplicación cliente-servidor es una página web: tenemos aplicaciones que se ejecutan en local en cada equipo que accede a una determinada url. Dicha aplicación solicita datos a una aplicación que se encuentra en un equipo remoto, la cual proporciona datos (por ejemplo, accediendo a una base de datos) como respuesta a los datos solicitados por la aplicación que se ejecuta en cada equipo de forma local.\\

    Por otra parte, una aplicación \textit{peer-to-peer}\footnote{En español, podemos pensar en ``entre pares''.} es una aplicación que se distribuye entre varios equipos (que pueden estar muy lejanos entre sí) de forma que todas las aplicaciones tienen la misma relevancia en el buen funcionamiento del sistema.
\end{ejercicio}

\begin{ejercicio}
    Describa brevemente la diferencia entre un \textit{switch}, \textit{router} y un \textit{hub}.\\

    Para responder a la pregunta, usamos además información que hemos aprendido en el Tema 2:
    \begin{itemize}
        \item Un switch es un nodo en una red que permite conectar tantos equipos como deseemos (normalmente, estos tienen 48 bocas de entrada RJ45 en el caso de conectar los equipos por ethernet) a un router. Funcionan a nivel de enlace, luego no tienen una dirección IP asociada.
        \item Un router es un nodo en una red que permite conectar redes distintas entre sí. Para ello, disponen de distintas tarjetas de red, cada una asociada a una red que se encuentra conectada al router. Disponen por tanto de varias direcciones IP, una por cada red a la que se conecta. Funciona a nivel de red.

            Presenta en su interior la tabla de encaminamientos, que permite el encaminamiento en la capa de red. Cuenta además con el NAT, que permite traducir direcciones de IP privadas a públicas y viceversa.
        \item Un \textit{hub} es un nodo en una red que permite implementar la difusión. Se trata de un conjunto de bocas ethernet que internamente funcionan como un bus\footnote{No se ha ahondado mucho más en el concepto de \textit{hub}.}.
    \end{itemize}
\end{ejercicio}

\begin{ejercicio}
    ¿Qué diferencia, en el contexto de una red de computadores, existe entre la tecnología de difusión y la tecnología punto-a-punto?\\

    La tecnología de difusión permite enviar un paquete desde un equipoo y hacer que este sea recibido por el resto de equipos que estén conectados a la misma red (o hacer llegar estos a equipos en distintas redes).

    Por otra parte, la teconología punto-a-punto permite el envío de paquetes desde un equipo a otro que no necesariamente han de estar en la misma red, mediante el uso de nodos intermedios que conectan los dos equipos.
\end{ejercicio}

\begin{ejercicio}
 Un sistema tiene una jerarquía de protocolos de $n$ capas. Las aplicaciones generan mensajes de $M$ bytes de longitud. En cada capa se añade una cabecera de $h$ bytes. ¿Qué fracción del ancho de banda de la red se llena con cabeceras? Aplique el resultado a una conexión a 512 kbps con tamaño de datos de 1500 bytes y 4 capas, cada una de las cuales añade 64 bytes cabecera. ¿Qué velocidad real de envío de datos resulta?\\

 Debemos sumar a los $M$ bytes iniciales que proporcionan las aplicaciones $n$ veces (la capa de aplicación también incluye una cabecera) $h$ bytes, por lo que la longitud de los mensajes que de verdad se envían es de $n\cdot h + M$ bytes. Por tanto, por cada $n\cdot h + M$ bytes enviados, $n\cdot h$ de ellos son de cabeceras:
 \begin{equation*}
     \dfrac{n\cdot h}{n\cdot h + M}\cdot 100 \text{\ \ \% de ancho de banda que se llena de cabeceras}
 \end{equation*}

 Si ahora partimos de $1500$ bytes iniciales y añadimos 4 veces (una por capa) $64$ bytes, estamos en realidad enviando mensajes de longitud:
 \begin{equation*}
     4\cdot 64 + 1500 = 256 + 1500 = 1756 \text{\ bytes}
 \end{equation*}
 Por tanto, el ($\nicefrac{256}{1756} = 0.145786$) 14.58\% de la red se emplea para enviar cabeceras, luego se aprovecha el ($1-0.145786 = 0.854214\%$) 85.42\% de la red para el envío de datos.\\

 Si enviamos paquetes a una velocidad de 512kbps, en realidad estaremos enviando datos a una velocidad real de:
 \begin{equation*}
     0.854214 \cdot 512 = 437.357568 \text{\ kbps}
 \end{equation*}
\end{ejercicio}

\begin{ejercicio} % // TODO: this
    Clasifique como de \textit{difusión} o \textit{punto a punto} cada uno de los siguientes sistemas de transmisión:
    \begin{enumerate}[label=\alph*.]
        \item Radio y TV\@: Difusión, ya que es un emisor (en este caso, una cadena de televisión o radio) que difunde paquetes a cualquiera que tenga sintonizado dicho canal.
        \item Redes inalámbricas (WLAN).
        \item ADSL\@.
        \item Redes de cable.
        \item Comunicaciones móviles (por ejemplo, GSM, UMTS, \ldots).
    \end{enumerate}
\end{ejercicio}

\begin{ejercicio}
    Clasifique los siguientes servicios como orientados a conexión/no orientados a conexión y confirmados/sin confirmación. Justifique la respuesta.\\

    Recordamos que los medios orientados a conexión son aquellos que comprueban si el receptor está disponible antes de enviar la información, y que los confirmados son aquellos que confirman la recepción del mensaje.
    \begin{enumerate}[label=\alph*.]
        \item Correo postal ordinario: No es orientado a conexión (ya que no comprobamos anteriormente que el destinatario esté disponible, simplemente enviamos la carta) y es sin confirmación, ya que tras enviar la carta nada nos garantiza que el destinatario nos responda, pese a pedirlo explícitamente.
        \item Correo certificado: No es orientado a conexión por la misma razón que el correo normal. Sin embargo, es confirmado, ya que al recibir el destinatario la carta debe firmar para que el emisor sea consciente de que la carta ha sido recibida.
        \item Envío y recepción de fax. % // TODO: NO sé cómo funciona xd
        \item Conversación telefónica. % // TODO: NO sé cómo funciona xd
        \item Domiciliación bancaria de recibos. % // TODO: NO sé cómo funciona xd
        \item Solicitud de certificado de empadronamiento. % // TODO: NO sé cómo funciona xd
    \end{enumerate}
\end{ejercicio}
